var b0=t=>{throw TypeError(t)};var N0=(t,e,n)=>e.has(t)||b0("Cannot "+n);var Qo=(t,e,n)=>(N0(t,e,"read from private field"),n?n.call(t):e.get(t)),Jc=(t,e,n)=>e.has(t)?b0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var D0=(t,e,n)=>(N0(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function qA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fp={exports:{}},bl={},pp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function KA(){if(V0)return Oe;V0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function R($,X,ye){this.props=$,this.context=X,this.refs=N,this.updater=ye||S}R.prototype.isReactComponent={},R.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function O(){}O.prototype=R.prototype;function U($,X,ye){this.props=$,this.context=X,this.refs=N,this.updater=ye||S}var F=U.prototype=new O;F.constructor=U,x(F,R.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,Z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C($,X,ye){var Ne,ee={},fe=null,Te=null;if(X!=null)for(Ne in X.ref!==void 0&&(Te=X.ref),X.key!==void 0&&(fe=""+X.key),X)Y.call(X,Ne)&&!k.hasOwnProperty(Ne)&&(ee[Ne]=X[Ne]);var De=arguments.length-2;if(De===1)ee.children=ye;else if(1<De){for(var oe=Array(De),Ve=0;Ve<De;Ve++)oe[Ve]=arguments[Ve+2];ee.children=oe}if($&&$.defaultProps)for(Ne in De=$.defaultProps,De)ee[Ne]===void 0&&(ee[Ne]=De[Ne]);return{$$typeof:t,type:$,key:fe,ref:Te,props:ee,_owner:Z.current}}function P($,X){return{$$typeof:t,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function j($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return X[ye]})}var z=/\/+/g;function D($,X){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):X.toString(36)}function qe($,X,ye,Ne,ee){var fe=typeof $;(fe==="undefined"||fe==="boolean")&&($=null);var Te=!1;if($===null)Te=!0;else switch(fe){case"string":case"number":Te=!0;break;case"object":switch($.$$typeof){case t:case e:Te=!0}}if(Te)return Te=$,ee=ee(Te),$=Ne===""?"."+D(Te,0):Ne,Q(ee)?(ye="",$!=null&&(ye=$.replace(z,"$&/")+"/"),qe(ee,X,ye,"",function(Ve){return Ve})):ee!=null&&(V(ee)&&(ee=P(ee,ye+(!ee.key||Te&&Te.key===ee.key?"":(""+ee.key).replace(z,"$&/")+"/")+$)),X.push(ee)),1;if(Te=0,Ne=Ne===""?".":Ne+":",Q($))for(var De=0;De<$.length;De++){fe=$[De];var oe=Ne+D(fe,De);Te+=qe(fe,X,ye,oe,ee)}else if(oe=E($),typeof oe=="function")for($=oe.call($),De=0;!(fe=$.next()).done;)fe=fe.value,oe=Ne+D(fe,De++),Te+=qe(fe,X,ye,oe,ee);else if(fe==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Te}function tt($,X,ye){if($==null)return $;var Ne=[],ee=0;return qe($,Ne,"","",function(fe){return X.call(ye,fe,ee++)}),Ne}function Ke($){if($._status===-1){var X=$._result;X=X(),X.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var we={current:null},re={transition:null},ge={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:re,ReactCurrentOwner:Z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:tt,forEach:function($,X,ye){tt($,function(){X.apply(this,arguments)},ye)},count:function($){var X=0;return tt($,function(){X++}),X},toArray:function($){return tt($,function(X){return X})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Oe.Component=R,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=U,Oe.StrictMode=r,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Oe.act=ue,Oe.cloneElement=function($,X,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ne=x({},$.props),ee=$.key,fe=$.ref,Te=$._owner;if(X!=null){if(X.ref!==void 0&&(fe=X.ref,Te=Z.current),X.key!==void 0&&(ee=""+X.key),$.type&&$.type.defaultProps)var De=$.type.defaultProps;for(oe in X)Y.call(X,oe)&&!k.hasOwnProperty(oe)&&(Ne[oe]=X[oe]===void 0&&De!==void 0?De[oe]:X[oe])}var oe=arguments.length-2;if(oe===1)Ne.children=ye;else if(1<oe){De=Array(oe);for(var Ve=0;Ve<oe;Ve++)De[Ve]=arguments[Ve+2];Ne.children=De}return{$$typeof:t,type:$.type,key:ee,ref:fe,props:Ne,_owner:Te}},Oe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Oe.createElement=C,Oe.createFactory=function($){var X=C.bind(null,$);return X.type=$,X},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:h,render:$}},Oe.isValidElement=V,Oe.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:Ke}},Oe.memo=function($,X){return{$$typeof:p,type:$,compare:X===void 0?null:X}},Oe.startTransition=function($){var X=re.transition;re.transition={};try{$()}finally{re.transition=X}},Oe.unstable_act=ue,Oe.useCallback=function($,X){return we.current.useCallback($,X)},Oe.useContext=function($){return we.current.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($){return we.current.useDeferredValue($)},Oe.useEffect=function($,X){return we.current.useEffect($,X)},Oe.useId=function(){return we.current.useId()},Oe.useImperativeHandle=function($,X,ye){return we.current.useImperativeHandle($,X,ye)},Oe.useInsertionEffect=function($,X){return we.current.useInsertionEffect($,X)},Oe.useLayoutEffect=function($,X){return we.current.useLayoutEffect($,X)},Oe.useMemo=function($,X){return we.current.useMemo($,X)},Oe.useReducer=function($,X,ye){return we.current.useReducer($,X,ye)},Oe.useRef=function($){return we.current.useRef($)},Oe.useState=function($){return we.current.useState($)},Oe.useSyncExternalStore=function($,X,ye){return we.current.useSyncExternalStore($,X,ye)},Oe.useTransition=function(){return we.current.useTransition()},Oe.version="18.3.1",Oe}var L0;function Bm(){return L0||(L0=1,pp.exports=KA()),pp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function GA(){if(O0)return bl;O0=1;var t=Bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,p){var g,_={},E=null,S=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(_[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:h,key:E,ref:S,props:_,_owner:s.current}}return bl.Fragment=n,bl.jsx=l,bl.jsxs=l,bl}var M0;function QA(){return M0||(M0=1,fp.exports=GA()),fp.exports}var T=QA(),L=Bm();const We=qA(L);var Zc={},mp={exports:{}},mn={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function YA(){return j0||(j0=1,function(t){function e(re,ge){var ue=re.length;re.push(ge);e:for(;0<ue;){var $=ue-1>>>1,X=re[$];if(0<s(X,ge))re[$]=ge,re[ue]=X,ue=$;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ge=re[0],ue=re.pop();if(ue!==ge){re[0]=ue;e:for(var $=0,X=re.length,ye=X>>>1;$<ye;){var Ne=2*($+1)-1,ee=re[Ne],fe=Ne+1,Te=re[fe];if(0>s(ee,ue))fe<X&&0>s(Te,ee)?(re[$]=Te,re[fe]=ue,$=fe):(re[$]=ee,re[Ne]=ue,$=Ne);else if(fe<X&&0>s(Te,ue))re[$]=Te,re[fe]=ue,$=fe;else break e}}return ge}function s(re,ge){var ue=re.sortIndex-ge.sortIndex;return ue!==0?ue:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],p=[],g=1,_=null,E=3,S=!1,x=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=re)r(p),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=n(p)}}function Q(re){if(N=!1,F(re),!x)if(n(d)!==null)x=!0,Ke(Y);else{var ge=n(p);ge!==null&&we(Q,ge.startTime-re)}}function Y(re,ge){x=!1,N&&(N=!1,O(C),C=-1),S=!0;var ue=E;try{for(F(ge),_=n(d);_!==null&&(!(_.expirationTime>ge)||re&&!j());){var $=_.callback;if(typeof $=="function"){_.callback=null,E=_.priorityLevel;var X=$(_.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(d)&&r(d),F(ge)}else r(d);_=n(d)}if(_!==null)var ye=!0;else{var Ne=n(p);Ne!==null&&we(Q,Ne.startTime-ge),ye=!1}return ye}finally{_=null,E=ue,S=!1}}var Z=!1,k=null,C=-1,P=5,V=-1;function j(){return!(t.unstable_now()-V<P)}function z(){if(k!==null){var re=t.unstable_now();V=re;var ge=!0;try{ge=k(!0,re)}finally{ge?D():(Z=!1,k=null)}}else Z=!1}var D;if(typeof U=="function")D=function(){U(z)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,tt=qe.port2;qe.port1.onmessage=z,D=function(){tt.postMessage(null)}}else D=function(){R(z,0)};function Ke(re){k=re,Z||(Z=!0,D())}function we(re,ge){C=R(function(){re(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,Ke(Y))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var ue=E;E=ge;try{return re()}finally{E=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ue=E;E=re;try{return ge()}finally{E=ue}},t.unstable_scheduleCallback=function(re,ge,ue){var $=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?$+ue:$):ue=$,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,re={id:g++,callback:ge,priorityLevel:re,startTime:ue,expirationTime:X,sortIndex:-1},ue>$?(re.sortIndex=ue,e(p,re),n(d)===null&&re===n(p)&&(N?(O(C),C=-1):N=!0,we(Q,ue-$))):(re.sortIndex=X,e(d,re),x||S||(x=!0,Ke(Y))),re},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(re){var ge=E;return function(){var ue=E;E=ge;try{return re.apply(this,arguments)}finally{E=ue}}}}(yp)),yp}var F0;function XA(){return F0||(F0=1,gp.exports=YA()),gp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function JA(){if(U0)return mn;U0=1;var t=Bm(),e=XA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return d.call(_,i)?!0:d.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,U);R[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,U);R[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,U);R[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,u,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,$;function X(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ye=!1;function Ne(i,o){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var f=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){f=K}i.call(o.prototype)}else{try{throw Error()}catch(K){f=K}i()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,b=v.length-1;1<=I&&0<=b&&m[I]!==v[b];)b--;for(;1<=I&&0<=b;I--,b--)if(m[I]!==v[b]){if(I!==1||b!==1)do if(I--,b--,0>b||m[I]!==v[b]){var M=`
`+m[I].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=I&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function ee(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Ne(i.type,!1),i;case 11:return i=Ne(i.type.render,!1),i;case 1:return i=Ne(i.type,!0),i;default:return""}}function fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case Z:return"Portal";case P:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case tt:return o=i.displayName||null,o!==null?o:fe(i.type)||"Memo";case Ke:o=i._payload,i=i._init;try{return fe(i(o))}catch{}}return null}function Te(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ve(i){var o=oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ye(i){i._valueTracker||(i._valueTracker=Ve(i))}function Rn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=oe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function on(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function an(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Or(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=De(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function di(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function ja(i,o){di(i,o);var u=De(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?io(i,o.type,u):o.hasOwnProperty("defaultValue")&&io(i,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Mu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function io(i,o,u){(o!=="number"||on(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Mr=Array.isArray;function jr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+De(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Fa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function so(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Mr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:De(u)}}function oo(i,o){var u=De(o.value),f=De(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Ua(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Tt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Tt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fr,Ba=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function fi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(i){hs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),cs[o]=cs[i]})});function za(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||cs.hasOwnProperty(i)&&cs[i]?(""+o).trim():o+"px"}function $a(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=za(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Ha=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(i,o){if(o){if(Ha[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function qa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function ao(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lo=null,kn=null,fr=null;function uo(i){if(i=gl(i)){if(typeof lo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=fc(o),lo(i.stateNode,i.type,o))}}function pr(i){kn?fr?fr.push(i):fr=[i]:kn=i}function Ka(){if(kn){var i=kn,o=fr;if(fr=kn=null,uo(i),o)for(i=0;i<o.length;i++)uo(o[i])}}function fs(i,o){return i(o)}function Ga(){}var Ur=!1;function Qa(i,o,u){if(Ur)return i(o,u);Ur=!0;try{return fs(i,o,u)}finally{Ur=!1,(kn!==null||fr!==null)&&(Ga(),Ka())}}function pt(i,o){var u=i.stateNode;if(u===null)return null;var f=fc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var co=!1;if(h)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){co=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{co=!1}function ps(i,o,u,f,m,v,I,b,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ne){this.onError(ne)}}var ms=!1,ho=null,Wn=!1,Ya=null,Ud={onError:function(i){ms=!0,ho=i}};function fo(i,o,u,f,m,v,I,b,M){ms=!1,ho=null,ps.apply(Ud,arguments)}function ju(i,o,u,f,m,v,I,b,M){if(fo.apply(this,arguments),ms){if(ms){var K=ho;ms=!1,ho=null}else throw Error(n(198));Wn||(Wn=!0,Ya=K)}}function qn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function gs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Kn(i){if(qn(i)!==i)throw Error(n(188))}function Fu(i){var o=i.alternate;if(!o){if(o=qn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Kn(m),i;if(v===f)return Kn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,b=m.child;b;){if(b===u){I=!0,u=m,f=v;break}if(b===f){I=!0,f=m,u=v;break}b=b.sibling}if(!I){for(b=v.child;b;){if(b===u){I=!0,u=v,f=m;break}if(b===f){I=!0,f=v,u=m;break}b=b.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Xa(i){return i=Fu(i),i!==null?po(i):null}function po(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=po(i);if(o!==null)return o;i=i.sibling}return null}var mo=e.unstable_scheduleCallback,Ja=e.unstable_cancelCallback,Uu=e.unstable_shouldYield,Bd=e.unstable_requestPaint,Je=e.unstable_now,Bu=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,Za=e.unstable_LowPriority,zu=e.unstable_IdlePriority,vs=null,_n=null;function $u(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(vs,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Wu,el=Math.log,Hu=Math.LN2;function Wu(i){return i>>>=0,i===0?32:31-(el(i)/Hu|0)|0}var go=64,yo=4194304;function mi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _s(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var b=I&~m;b!==0?f=mi(b):(v&=I,v!==0&&(f=mi(v)))}else I=u&~m,I!==0?f=mi(I):v!==0&&(f=mi(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-Zt(o),m=1<<u,f|=i[u],o&=~m;return f}function zd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-Zt(v),b=1<<I,M=m[I];M===-1?((b&u)===0||(b&f)!==0)&&(m[I]=zd(b,o)):M<=o&&(i.expiredLanes|=b),v&=~b}}function wn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ws(){var i=go;return go<<=1,(go&4194240)===0&&(go=64),i}function gi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function yi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=u}function Xe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-Zt(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function vi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Zt(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Fe=0;function _i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var qu,vo,Ku,Gu,Qu,tl=!1,mr=[],Lt=null,Gn=null,Qn=null,wi=new Map,Nn=new Map,gr=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yu(i,o){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(o.pointerId)}}function ln(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=gl(o),o!==null&&vo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Hd(i,o,u,f,m){switch(o){case"focusin":return Lt=ln(Lt,i,o,u,f,m),!0;case"dragenter":return Gn=ln(Gn,i,o,u,f,m),!0;case"mouseover":return Qn=ln(Qn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return wi.set(v,ln(wi.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Nn.set(v,ln(Nn.get(v)||null,i,o,u,f,m)),!0}return!1}function Xu(i){var o=Cs(i.target);if(o!==null){var u=qn(o);if(u!==null){if(o=u.tag,o===13){if(o=gs(u),o!==null){i.blockedOn=o,Qu(i.priority,function(){Ku(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=_o(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ds=f,u.target.dispatchEvent(f),ds=null}else return o=gl(u),o!==null&&vo(o),i.blockedOn=u,!1;o.shift()}return!0}function Ts(i,o,u){zr(i)&&u.delete(o)}function Ju(){tl=!1,Lt!==null&&zr(Lt)&&(Lt=null),Gn!==null&&zr(Gn)&&(Gn=null),Qn!==null&&zr(Qn)&&(Qn=null),wi.forEach(Ts),Nn.forEach(Ts)}function Yn(i,o){i.blockedOn===o&&(i.blockedOn=null,tl||(tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ju)))}function Xn(i){function o(m){return Yn(m,i)}if(0<mr.length){Yn(mr[0],i);for(var u=1;u<mr.length;u++){var f=mr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Lt!==null&&Yn(Lt,i),Gn!==null&&Yn(Gn,i),Qn!==null&&Yn(Qn,i),wi.forEach(o),Nn.forEach(o),u=0;u<gr.length;u++)f=gr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<gr.length&&(u=gr[0],u.blockedOn===null);)Xu(u),u.blockedOn===null&&gr.shift()}var $r=Q.ReactCurrentBatchConfig,Ti=!0;function it(i,o,u,f){var m=Fe,v=$r.transition;$r.transition=null;try{Fe=1,nl(i,o,u,f)}finally{Fe=m,$r.transition=v}}function Wd(i,o,u,f){var m=Fe,v=$r.transition;$r.transition=null;try{Fe=4,nl(i,o,u,f)}finally{Fe=m,$r.transition=v}}function nl(i,o,u,f){if(Ti){var m=_o(i,o,u,f);if(m===null)nf(i,o,f,Es,u),Yu(i,f);else if(Hd(m,i,o,u,f))f.stopPropagation();else if(Yu(i,f),o&4&&-1<$d.indexOf(i)){for(;m!==null;){var v=gl(m);if(v!==null&&qu(v),v=_o(i,o,u,f),v===null&&nf(i,o,f,Es,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else nf(i,o,f,null,u)}}var Es=null;function _o(i,o,u,f){if(Es=null,i=ao(f),i=Cs(i),i!==null)if(o=qn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=gs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Es=i,null}function rl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bu()){case ys:return 1;case pi:return 4;case bn:case Za:return 16;case zu:return 536870912;default:return 16}default:return 16}}var Tn=null,wo=null,un=null;function il(){if(un)return un;var i,o=wo,u=o.length,f,m="value"in Tn?Tn.value:Tn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return un=m.slice(i,1<f?1-f:void 0)}function To(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yr(){return!0}function sl(){return!1}function Ot(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(u=i[b],this[b]=u?u(v):v[b]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yr:sl,this.isPropagationStopped=sl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Ot(Jn),vr=ue({},Jn,{view:0,detail:0}),qd=Ot(vr),Io,Hr,Ei,Is=ue({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(Io=i.screenX-Ei.screenX,Hr=i.screenY-Ei.screenY):Hr=Io=0,Ei=i),Io)},movementY:function(i){return"movementY"in i?i.movementY:Hr}}),So=Ot(Is),ol=ue({},Is,{dataTransfer:0}),Zu=Ot(ol),Co=ue({},vr,{relatedTarget:0}),Ao=Ot(Co),ec=ue({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Ot(ec),tc=ue({},Jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nc=Ot(tc),rc=ue({},Jn,{data:0}),al=Ot(rc),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ic[i])?!!o[i]:!1}function _r(){return sc}var c=ue({},vr,{key:function(i){if(i.key){var o=xo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=To(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(i){return i.type==="keypress"?To(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?To(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ot(c),w=ue({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Ot(w),H=ue({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),G=Ot(H),le=ue({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ot(le),It=ue({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Ot(It),kt=[9,13,27,32],vt=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var En=h&&"TextEvent"in window&&!Dn,Ss=h&&(!vt||Dn&&8<Dn&&11>=Dn),Po=" ",Cy=!1;function Ay(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function $C(i,o){switch(i){case"compositionend":return xy(o);case"keypress":return o.which!==32?null:(Cy=!0,Po);case"textInput":return i=o.data,i===Po&&Cy?null:i;default:return null}}function HC(i,o){if(Ro)return i==="compositionend"||!vt&&Ay(i,o)?(i=il(),un=wo=Tn=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ss&&o.locale!=="ko"?null:o.data;default:return null}}var WC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!WC[i.type]:o==="textarea"}function Ry(i,o,u,f){pr(f),o=cc(o,"onChange"),0<o.length&&(u=new Eo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var ll=null,ul=null;function qC(i){Ky(i,0)}function oc(i){var o=Vo(i);if(Rn(o))return i}function KC(i,o){if(i==="change")return o}var ky=!1;if(h){var Kd;if(h){var Gd="oninput"in document;if(!Gd){var by=document.createElement("div");by.setAttribute("oninput","return;"),Gd=typeof by.oninput=="function"}Kd=Gd}else Kd=!1;ky=Kd&&(!document.documentMode||9<document.documentMode)}function Ny(){ll&&(ll.detachEvent("onpropertychange",Dy),ul=ll=null)}function Dy(i){if(i.propertyName==="value"&&oc(ul)){var o=[];Ry(o,ul,i,ao(i)),Qa(qC,o)}}function GC(i,o,u){i==="focusin"?(Ny(),ll=o,ul=u,ll.attachEvent("onpropertychange",Dy)):i==="focusout"&&Ny()}function QC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oc(ul)}function YC(i,o){if(i==="click")return oc(o)}function XC(i,o){if(i==="input"||i==="change")return oc(o)}function JC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zn=typeof Object.is=="function"?Object.is:JC;function cl(i,o){if(Zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Zn(i[m],o[m]))return!1}return!0}function Vy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ly(i,o){var u=Vy(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vy(u)}}function Oy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Oy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function My(){for(var i=window,o=on();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=on(i.document)}return o}function Qd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ZC(i){var o=My(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Oy(u.ownerDocument.documentElement,u)){if(f!==null&&Qd(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Ly(u,v);var I=Ly(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var eA=h&&"documentMode"in document&&11>=document.documentMode,ko=null,Yd=null,hl=null,Xd=!1;function jy(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xd||ko==null||ko!==on(f)||(f=ko,"selectionStart"in f&&Qd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),hl&&cl(hl,f)||(hl=f,f=cc(Yd,"onSelect"),0<f.length&&(o=new Eo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ko)))}function ac(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var bo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Jd={},Fy={};h&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function lc(i){if(Jd[i])return Jd[i];if(!bo[i])return i;var o=bo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Fy)return Jd[i]=o[u];return i}var Uy=lc("animationend"),By=lc("animationiteration"),zy=lc("animationstart"),$y=lc("transitionend"),Hy=new Map,Wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,o){Hy.set(i,o),a(o,[i])}for(var Zd=0;Zd<Wy.length;Zd++){var ef=Wy[Zd],tA=ef.toLowerCase(),nA=ef[0].toUpperCase()+ef.slice(1);Ii(tA,"on"+nA)}Ii(Uy,"onAnimationEnd"),Ii(By,"onAnimationIteration"),Ii(zy,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii($y,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function qy(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,ju(f,o,void 0,i),i.currentTarget=null}function Ky(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var b=f[I],M=b.instance,K=b.currentTarget;if(b=b.listener,M!==v&&m.isPropagationStopped())break e;qy(m,b,K),v=M}else for(I=0;I<f.length;I++){if(b=f[I],M=b.instance,K=b.currentTarget,b=b.listener,M!==v&&m.isPropagationStopped())break e;qy(m,b,K),v=M}}}if(Wn)throw i=Ya,Wn=!1,Ya=null,i}function nt(i,o){var u=o[uf];u===void 0&&(u=o[uf]=new Set);var f=i+"__bubble";u.has(f)||(Gy(o,i,2,!1),u.add(f))}function tf(i,o,u){var f=0;o&&(f|=4),Gy(u,i,f,o)}var uc="_reactListening"+Math.random().toString(36).slice(2);function fl(i){if(!i[uc]){i[uc]=!0,r.forEach(function(u){u!=="selectionchange"&&(rA.has(u)||tf(u,!1,i),tf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[uc]||(o[uc]=!0,tf("selectionchange",!1,o))}}function Gy(i,o,u,f){switch(rl(o)){case 1:var m=it;break;case 4:m=Wd;break;default:m=nl}u=m.bind(null,o,u,i),m=void 0,!co||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function nf(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var b=f.stateNode.containerInfo;if(b===m||b.nodeType===8&&b.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var M=I.tag;if((M===3||M===4)&&(M=I.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;I=I.return}for(;b!==null;){if(I=Cs(b),I===null)return;if(M=I.tag,M===5||M===6){f=v=I;continue e}b=b.parentNode}}f=f.return}Qa(function(){var K=v,ne=ao(u),se=[];e:{var te=Hy.get(i);if(te!==void 0){var ce=Eo,pe=i;switch(i){case"keypress":if(To(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Ao;break;case"focusout":pe="blur",ce=Ao;break;case"beforeblur":case"afterblur":ce=Ao;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Uy:case By:case zy:ce=Wr;break;case $y:ce=Qe;break;case"scroll":ce=qd;break;case"wheel":ce=Be;break;case"copy":case"cut":case"paste":ce=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(o&4)!==0,mt=!me&&i==="scroll",W=me?te!==null?te+"Capture":null:te;me=[];for(var B=K,q;B!==null;){q=B;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,W!==null&&(ae=pt(B,W),ae!=null&&me.push(pl(B,ae,q)))),mt)break;B=B.return}0<me.length&&(te=new ce(te,pe,null,u,ne),se.push({event:te,listeners:me}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",te&&u!==ds&&(pe=u.relatedTarget||u.fromElement)&&(Cs(pe)||pe[qr]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=K,pe=pe?Cs(pe):null,pe!==null&&(mt=qn(pe),pe!==mt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=K),ce!==pe)){if(me=So,ae="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(me=A,ae="onPointerLeave",W="onPointerEnter",B="pointer"),mt=ce==null?te:Vo(ce),q=pe==null?te:Vo(pe),te=new me(ae,B+"leave",ce,u,ne),te.target=mt,te.relatedTarget=q,ae=null,Cs(ne)===K&&(me=new me(W,B+"enter",pe,u,ne),me.target=q,me.relatedTarget=mt,ae=me),mt=ae,ce&&pe)t:{for(me=ce,W=pe,B=0,q=me;q;q=No(q))B++;for(q=0,ae=W;ae;ae=No(ae))q++;for(;0<B-q;)me=No(me),B--;for(;0<q-B;)W=No(W),q--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=No(me),W=No(W)}me=null}else me=null;ce!==null&&Qy(se,te,ce,me,!1),pe!==null&&mt!==null&&Qy(se,mt,pe,me,!0)}}e:{if(te=K?Vo(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ve=KC;else if(Py(te))if(ky)ve=XC;else{ve=QC;var Ee=GC}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=YC);if(ve&&(ve=ve(i,K))){Ry(se,ve,u,ne);break e}Ee&&Ee(i,te,K),i==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&io(te,"number",te.value)}switch(Ee=K?Vo(K):window,i){case"focusin":(Py(Ee)||Ee.contentEditable==="true")&&(ko=Ee,Yd=K,hl=null);break;case"focusout":hl=Yd=ko=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,jy(se,u,ne);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":jy(se,u,ne)}var Ie;if(vt)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ro?Ay(i,u)&&(Pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ss&&u.locale!=="ko"&&(Ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ro&&(Ie=il()):(Tn=ne,wo="value"in Tn?Tn.value:Tn.textContent,Ro=!0)),Ee=cc(K,Pe),0<Ee.length&&(Pe=new al(Pe,i,null,u,ne),se.push({event:Pe,listeners:Ee}),Ie?Pe.data=Ie:(Ie=xy(u),Ie!==null&&(Pe.data=Ie)))),(Ie=En?$C(i,u):HC(i,u))&&(K=cc(K,"onBeforeInput"),0<K.length&&(ne=new al("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:K}),ne.data=Ie))}Ky(se,o)})}function pl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function cc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=pt(i,u),v!=null&&f.unshift(pl(i,v,m)),v=pt(i,o),v!=null&&f.push(pl(i,v,m))),i=i.return}return f}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qy(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var b=u,M=b.alternate,K=b.stateNode;if(M!==null&&M===f)break;b.tag===5&&K!==null&&(b=K,m?(M=pt(u,v),M!=null&&I.unshift(pl(u,M,b))):m||(M=pt(u,v),M!=null&&I.push(pl(u,M,b)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var iA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function Yy(i){return(typeof i=="string"?i:""+i).replace(iA,`
`).replace(sA,"")}function hc(i,o,u){if(o=Yy(o),Yy(i)!==o&&u)throw Error(n(425))}function dc(){}var rf=null,sf=null;function of(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(i){return Xy.resolve(null).then(i).catch(lA)}:af;function lA(i){setTimeout(function(){throw i})}function lf(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Xn(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Xn(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Jy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Do=Math.random().toString(36).slice(2),wr="__reactFiber$"+Do,ml="__reactProps$"+Do,qr="__reactContainer$"+Do,uf="__reactEvents$"+Do,uA="__reactListeners$"+Do,cA="__reactHandles$"+Do;function Cs(i){var o=i[wr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[qr]||u[wr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Jy(i);i!==null;){if(u=i[wr])return u;i=Jy(i)}return o}i=u,u=i.parentNode}return null}function gl(i){return i=i[wr]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Vo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function fc(i){return i[ml]||null}var cf=[],Lo=-1;function Ci(i){return{current:i}}function rt(i){0>Lo||(i.current=cf[Lo],cf[Lo]=null,Lo--)}function Ze(i,o){Lo++,cf[Lo]=i.current,i.current=o}var Ai={},$t=Ci(Ai),cn=Ci(!1),As=Ai;function Oo(i,o){var u=i.type.contextTypes;if(!u)return Ai;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function hn(i){return i=i.childContextTypes,i!=null}function pc(){rt(cn),rt($t)}function Zy(i,o,u){if($t.current!==Ai)throw Error(n(168));Ze($t,o),Ze(cn,u)}function ev(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Te(i)||"Unknown",m));return ue({},u,f)}function mc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,As=$t.current,Ze($t,i),Ze(cn,cn.current),!0}function tv(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=ev(i,o,As),f.__reactInternalMemoizedMergedChildContext=i,rt(cn),rt($t),Ze($t,i)):rt(cn),Ze(cn,u)}var Kr=null,gc=!1,hf=!1;function nv(i){Kr===null?Kr=[i]:Kr.push(i)}function hA(i){gc=!0,nv(i)}function xi(){if(!hf&&Kr!==null){hf=!0;var i=0,o=Fe;try{var u=Kr;for(Fe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Kr=null,gc=!1}catch(m){throw Kr!==null&&(Kr=Kr.slice(i+1)),mo(ys,xi),m}finally{Fe=o,hf=!1}}return null}var Mo=[],jo=0,yc=null,vc=0,Vn=[],Ln=0,xs=null,Gr=1,Qr="";function Ps(i,o){Mo[jo++]=vc,Mo[jo++]=yc,yc=i,vc=o}function rv(i,o,u){Vn[Ln++]=Gr,Vn[Ln++]=Qr,Vn[Ln++]=xs,xs=i;var f=Gr;i=Qr;var m=32-Zt(f)-1;f&=~(1<<m),u+=1;var v=32-Zt(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Gr=1<<32-Zt(o)+m|u<<m|f,Qr=v+i}else Gr=1<<v|u<<m|f,Qr=i}function df(i){i.return!==null&&(Ps(i,1),rv(i,1,0))}function ff(i){for(;i===yc;)yc=Mo[--jo],Mo[jo]=null,vc=Mo[--jo],Mo[jo]=null;for(;i===xs;)xs=Vn[--Ln],Vn[Ln]=null,Qr=Vn[--Ln],Vn[Ln]=null,Gr=Vn[--Ln],Vn[Ln]=null}var In=null,Sn=null,st=!1,er=null;function iv(i,o){var u=Fn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function sv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,In=i,Sn=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,In=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=xs!==null?{id:Gr,overflow:Qr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Fn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,In=i,Sn=null,!0):!1;default:return!1}}function pf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mf(i){if(st){var o=Sn;if(o){var u=o;if(!sv(i,o)){if(pf(i))throw Error(n(418));o=Si(u.nextSibling);var f=In;o&&sv(i,o)?iv(f,u):(i.flags=i.flags&-4097|2,st=!1,In=i)}}else{if(pf(i))throw Error(n(418));i.flags=i.flags&-4097|2,st=!1,In=i}}}function ov(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;In=i}function _c(i){if(i!==In)return!1;if(!st)return ov(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!of(i.type,i.memoizedProps)),o&&(o=Sn)){if(pf(i))throw av(),Error(n(418));for(;o;)iv(i,o),o=Si(o.nextSibling)}if(ov(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Si(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=In?Si(i.stateNode.nextSibling):null;return!0}function av(){for(var i=Sn;i;)i=Si(i.nextSibling)}function Fo(){Sn=In=null,st=!1}function gf(i){er===null?er=[i]:er.push(i)}var dA=Q.ReactCurrentBatchConfig;function yl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var b=m.refs;I===null?delete b[v]:b[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function wc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function lv(i){var o=i._init;return o(i._payload)}function uv(i){function o(W,B){if(i){var q=W.deletions;q===null?(W.deletions=[B],W.flags|=16):q.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function f(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=Li(W,B),W.index=0,W.sibling=null,W}function v(W,B,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<B?(W.flags|=2,B):q):(W.flags|=2,B)):(W.flags|=1048576,B)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function b(W,B,q,ae){return B===null||B.tag!==6?(B=ap(q,W.mode,ae),B.return=W,B):(B=m(B,q),B.return=W,B)}function M(W,B,q,ae){var ve=q.type;return ve===k?ne(W,B,q.props.children,ae,q.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&lv(ve)===B.type)?(ae=m(B,q.props),ae.ref=yl(W,B,q),ae.return=W,ae):(ae=Hc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=yl(W,B,q),ae.return=W,ae)}function K(W,B,q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=lp(q,W.mode,ae),B.return=W,B):(B=m(B,q.children||[]),B.return=W,B)}function ne(W,B,q,ae,ve){return B===null||B.tag!==7?(B=Os(q,W.mode,ae,ve),B.return=W,B):(B=m(B,q),B.return=W,B)}function se(W,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ap(""+B,W.mode,q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return q=Hc(B.type,B.key,B.props,null,W.mode,q),q.ref=yl(W,null,B),q.return=W,q;case Z:return B=lp(B,W.mode,q),B.return=W,B;case Ke:var ae=B._init;return se(W,ae(B._payload),q)}if(Mr(B)||ge(B))return B=Os(B,W.mode,q,null),B.return=W,B;wc(W,B)}return null}function te(W,B,q,ae){var ve=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:b(W,B,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ve?M(W,B,q,ae):null;case Z:return q.key===ve?K(W,B,q,ae):null;case Ke:return ve=q._init,te(W,B,ve(q._payload),ae)}if(Mr(q)||ge(q))return ve!==null?null:ne(W,B,q,ae,null);wc(W,q)}return null}function ce(W,B,q,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(q)||null,b(B,W,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Y:return W=W.get(ae.key===null?q:ae.key)||null,M(B,W,ae,ve);case Z:return W=W.get(ae.key===null?q:ae.key)||null,K(B,W,ae,ve);case Ke:var Ee=ae._init;return ce(W,B,q,Ee(ae._payload),ve)}if(Mr(ae)||ge(ae))return W=W.get(q)||null,ne(B,W,ae,ve,null);wc(B,ae)}return null}function pe(W,B,q,ae){for(var ve=null,Ee=null,Ie=B,Pe=B=0,Dt=null;Ie!==null&&Pe<q.length;Pe++){Ie.index>Pe?(Dt=Ie,Ie=null):Dt=Ie.sibling;var He=te(W,Ie,q[Pe],ae);if(He===null){Ie===null&&(Ie=Dt);break}i&&Ie&&He.alternate===null&&o(W,Ie),B=v(He,B,Pe),Ee===null?ve=He:Ee.sibling=He,Ee=He,Ie=Dt}if(Pe===q.length)return u(W,Ie),st&&Ps(W,Pe),ve;if(Ie===null){for(;Pe<q.length;Pe++)Ie=se(W,q[Pe],ae),Ie!==null&&(B=v(Ie,B,Pe),Ee===null?ve=Ie:Ee.sibling=Ie,Ee=Ie);return st&&Ps(W,Pe),ve}for(Ie=f(W,Ie);Pe<q.length;Pe++)Dt=ce(Ie,W,Pe,q[Pe],ae),Dt!==null&&(i&&Dt.alternate!==null&&Ie.delete(Dt.key===null?Pe:Dt.key),B=v(Dt,B,Pe),Ee===null?ve=Dt:Ee.sibling=Dt,Ee=Dt);return i&&Ie.forEach(function(Oi){return o(W,Oi)}),st&&Ps(W,Pe),ve}function me(W,B,q,ae){var ve=ge(q);if(typeof ve!="function")throw Error(n(150));if(q=ve.call(q),q==null)throw Error(n(151));for(var Ee=ve=null,Ie=B,Pe=B=0,Dt=null,He=q.next();Ie!==null&&!He.done;Pe++,He=q.next()){Ie.index>Pe?(Dt=Ie,Ie=null):Dt=Ie.sibling;var Oi=te(W,Ie,He.value,ae);if(Oi===null){Ie===null&&(Ie=Dt);break}i&&Ie&&Oi.alternate===null&&o(W,Ie),B=v(Oi,B,Pe),Ee===null?ve=Oi:Ee.sibling=Oi,Ee=Oi,Ie=Dt}if(He.done)return u(W,Ie),st&&Ps(W,Pe),ve;if(Ie===null){for(;!He.done;Pe++,He=q.next())He=se(W,He.value,ae),He!==null&&(B=v(He,B,Pe),Ee===null?ve=He:Ee.sibling=He,Ee=He);return st&&Ps(W,Pe),ve}for(Ie=f(W,Ie);!He.done;Pe++,He=q.next())He=ce(Ie,W,Pe,He.value,ae),He!==null&&(i&&He.alternate!==null&&Ie.delete(He.key===null?Pe:He.key),B=v(He,B,Pe),Ee===null?ve=He:Ee.sibling=He,Ee=He);return i&&Ie.forEach(function(WA){return o(W,WA)}),st&&Ps(W,Pe),ve}function mt(W,B,q,ae){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ve=q.key,Ee=B;Ee!==null;){if(Ee.key===ve){if(ve=q.type,ve===k){if(Ee.tag===7){u(W,Ee.sibling),B=m(Ee,q.props.children),B.return=W,W=B;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&lv(ve)===Ee.type){u(W,Ee.sibling),B=m(Ee,q.props),B.ref=yl(W,Ee,q),B.return=W,W=B;break e}u(W,Ee);break}else o(W,Ee);Ee=Ee.sibling}q.type===k?(B=Os(q.props.children,W.mode,ae,q.key),B.return=W,W=B):(ae=Hc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=yl(W,B,q),ae.return=W,W=ae)}return I(W);case Z:e:{for(Ee=q.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(W,B.sibling),B=m(B,q.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=lp(q,W.mode,ae),B.return=W,W=B}return I(W);case Ke:return Ee=q._init,mt(W,B,Ee(q._payload),ae)}if(Mr(q))return pe(W,B,q,ae);if(ge(q))return me(W,B,q,ae);wc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,q),B.return=W,W=B):(u(W,B),B=ap(q,W.mode,ae),B.return=W,W=B),I(W)):u(W,B)}return mt}var Uo=uv(!0),cv=uv(!1),Tc=Ci(null),Ec=null,Bo=null,yf=null;function vf(){yf=Bo=Ec=null}function _f(i){var o=Tc.current;rt(Tc),i._currentValue=o}function wf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function zo(i,o){Ec=i,yf=Bo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(dn=!0),i.firstContext=null)}function On(i){var o=i._currentValue;if(yf!==i)if(i={context:i,memoizedValue:o,next:null},Bo===null){if(Ec===null)throw Error(n(308));Bo=i,Ec.dependencies={lanes:0,firstContext:i}}else Bo=Bo.next=i;return o}var Rs=null;function Tf(i){Rs===null?Rs=[i]:Rs.push(i)}function hv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Tf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Yr(i,f)}function Yr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Pi=!1;function Ef(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Yr(i,u)}return m=f.interleaved,m===null?(o.next=o,Tf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Yr(i,u)}function Ic(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}function fv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Sc(i,o,u,f){var m=i.updateQueue;Pi=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var M=b,K=M.next;M.next=null,I===null?v=K:I.next=K,I=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==I&&(b===null?ne.firstBaseUpdate=K:b.next=K,ne.lastBaseUpdate=M))}if(v!==null){var se=m.baseState;I=0,ne=K=M=null,b=v;do{var te=b.lane,ce=b.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var pe=i,me=b;switch(te=o,ce=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){se=pe.call(ce,se,te);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(ce,se,te):pe,te==null)break e;se=ue({},se,te);break e;case 2:Pi=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[b]:te.push(b))}else ce={eventTime:ce,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(K=ne=ce,M=se):ne=ne.next=ce,I|=te;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;te=b,b=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(M=se),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ns|=I,i.lanes=I,i.memoizedState=se}}function pv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var vl={},Tr=Ci(vl),_l=Ci(vl),wl=Ci(vl);function ks(i){if(i===vl)throw Error(n(174));return i}function If(i,o){switch(Ze(wl,o),Ze(_l,i),Ze(Tr,vl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}rt(Tr),Ze(Tr,o)}function $o(){rt(Tr),rt(_l),rt(wl)}function mv(i){ks(wl.current);var o=ks(Tr.current),u=Et(o,i.type);o!==u&&(Ze(_l,i),Ze(Tr,u))}function Sf(i){_l.current===i&&(rt(Tr),rt(_l))}var lt=Ci(0);function Cc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Cf=[];function Af(){for(var i=0;i<Cf.length;i++)Cf[i]._workInProgressVersionPrimary=null;Cf.length=0}var Ac=Q.ReactCurrentDispatcher,xf=Q.ReactCurrentBatchConfig,bs=0,ut=null,St=null,bt=null,xc=!1,Tl=!1,El=0,fA=0;function Ht(){throw Error(n(321))}function Pf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zn(i[u],o[u]))return!1;return!0}function Rf(i,o,u,f,m,v){if(bs=v,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=i===null||i.memoizedState===null?yA:vA,i=u(f,m),Tl){v=0;do{if(Tl=!1,El=0,25<=v)throw Error(n(301));v+=1,bt=St=null,o.updateQueue=null,Ac.current=_A,i=u(f,m)}while(Tl)}if(Ac.current=kc,o=St!==null&&St.next!==null,bs=0,bt=St=ut=null,xc=!1,o)throw Error(n(300));return i}function kf(){var i=El!==0;return El=0,i}function Er(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ut.memoizedState=bt=i:bt=bt.next=i,bt}function Mn(){if(St===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=bt===null?ut.memoizedState:bt.next;if(o!==null)bt=o,St=i;else{if(i===null)throw Error(n(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?ut.memoizedState=bt=i:bt=bt.next=i}return bt}function Il(i,o){return typeof o=="function"?o(i):o}function bf(i){var o=Mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=St,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var b=I=null,M=null,K=v;do{var ne=K.lane;if((bs&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:i(f,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(b=M=se,I=f):M=M.next=se,ut.lanes|=ne,Ns|=ne}K=K.next}while(K!==null&&K!==v);M===null?I=f:M.next=b,Zn(f,o.memoizedState)||(dn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ut.lanes|=v,Ns|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Nf(i){var o=Mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Zn(v,o.memoizedState)||(dn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function gv(){}function yv(i,o){var u=ut,f=Mn(),m=o(),v=!Zn(f.memoizedState,m);if(v&&(f.memoizedState=m,dn=!0),f=f.queue,Df(wv.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Sl(9,_v.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(n(349));(bs&30)!==0||vv(u,o,m)}return m}function vv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function _v(i,o,u,f){o.value=u,o.getSnapshot=f,Tv(o)&&Ev(i)}function wv(i,o,u){return u(function(){Tv(o)&&Ev(i)})}function Tv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zn(i,u)}catch{return!0}}function Ev(i){var o=Yr(i,1);o!==null&&ir(o,i,1,-1)}function Iv(i){var o=Er();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:i},o.queue=i,i=i.dispatch=gA.bind(null,ut,i),[o.memoizedState,i]}function Sl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function Sv(){return Mn().memoizedState}function Pc(i,o,u,f){var m=Er();ut.flags|=i,m.memoizedState=Sl(1|o,u,void 0,f===void 0?null:f)}function Rc(i,o,u,f){var m=Mn();f=f===void 0?null:f;var v=void 0;if(St!==null){var I=St.memoizedState;if(v=I.destroy,f!==null&&Pf(f,I.deps)){m.memoizedState=Sl(o,u,v,f);return}}ut.flags|=i,m.memoizedState=Sl(1|o,u,v,f)}function Cv(i,o){return Pc(8390656,8,i,o)}function Df(i,o){return Rc(2048,8,i,o)}function Av(i,o){return Rc(4,2,i,o)}function xv(i,o){return Rc(4,4,i,o)}function Pv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Rv(i,o,u){return u=u!=null?u.concat([i]):null,Rc(4,4,Pv.bind(null,o,i),u)}function Vf(){}function kv(i,o){var u=Mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Pf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function bv(i,o){var u=Mn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Pf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Nv(i,o,u){return(bs&21)===0?(i.baseState&&(i.baseState=!1,dn=!0),i.memoizedState=u):(Zn(u,o)||(u=ws(),ut.lanes|=u,Ns|=u,i.baseState=!0),o)}function pA(i,o){var u=Fe;Fe=u!==0&&4>u?u:4,i(!0);var f=xf.transition;xf.transition={};try{i(!1),o()}finally{Fe=u,xf.transition=f}}function Dv(){return Mn().memoizedState}function mA(i,o,u){var f=Di(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Vv(i))Lv(o,u);else if(u=hv(i,o,u,f),u!==null){var m=nn();ir(u,i,f,m),Ov(u,o,f)}}function gA(i,o,u){var f=Di(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vv(i))Lv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,b=v(I,u);if(m.hasEagerState=!0,m.eagerState=b,Zn(b,I)){var M=o.interleaved;M===null?(m.next=m,Tf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=hv(i,o,m,f),u!==null&&(m=nn(),ir(u,i,f,m),Ov(u,o,f))}}function Vv(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function Lv(i,o){Tl=xc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Ov(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}var kc={readContext:On,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},yA={readContext:On,useCallback:function(i,o){return Er().memoizedState=[i,o===void 0?null:o],i},useContext:On,useEffect:Cv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Pc(4194308,4,Pv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Pc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Pc(4,2,i,o)},useMemo:function(i,o){var u=Er();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Er();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=mA.bind(null,ut,i),[f.memoizedState,i]},useRef:function(i){var o=Er();return i={current:i},o.memoizedState=i},useState:Iv,useDebugValue:Vf,useDeferredValue:function(i){return Er().memoizedState=i},useTransition:function(){var i=Iv(!1),o=i[0];return i=pA.bind(null,i[1]),Er().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ut,m=Er();if(st){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Nt===null)throw Error(n(349));(bs&30)!==0||vv(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Cv(wv.bind(null,f,v,i),[i]),f.flags|=2048,Sl(9,_v.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Er(),o=Nt.identifierPrefix;if(st){var u=Qr,f=Gr;u=(f&~(1<<32-Zt(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=El++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=fA++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},vA={readContext:On,useCallback:kv,useContext:On,useEffect:Df,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:xv,useMemo:bv,useReducer:bf,useRef:Sv,useState:function(){return bf(Il)},useDebugValue:Vf,useDeferredValue:function(i){var o=Mn();return Nv(o,St.memoizedState,i)},useTransition:function(){var i=bf(Il)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:gv,useSyncExternalStore:yv,useId:Dv,unstable_isNewReconciler:!1},_A={readContext:On,useCallback:kv,useContext:On,useEffect:Df,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:xv,useMemo:bv,useReducer:Nf,useRef:Sv,useState:function(){return Nf(Il)},useDebugValue:Vf,useDeferredValue:function(i){var o=Mn();return St===null?o.memoizedState=i:Nv(o,St.memoizedState,i)},useTransition:function(){var i=Nf(Il)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:gv,useSyncExternalStore:yv,useId:Dv,unstable_isNewReconciler:!1};function tr(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Lf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var bc={isMounted:function(i){return(i=i._reactInternals)?qn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=nn(),m=Di(i),v=Xr(f,m);v.payload=o,u!=null&&(v.callback=u),o=Ri(i,v,m),o!==null&&(ir(o,i,m,f),Ic(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=nn(),m=Di(i),v=Xr(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ri(i,v,m),o!==null&&(ir(o,i,m,f),Ic(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=nn(),f=Di(i),m=Xr(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ri(i,m,f),o!==null&&(ir(o,i,f,u),Ic(o,i,f))}};function Mv(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!cl(u,f)||!cl(m,v):!0}function jv(i,o,u){var f=!1,m=Ai,v=o.contextType;return typeof v=="object"&&v!==null?v=On(v):(m=hn(o)?As:$t.current,f=o.contextTypes,v=(f=f!=null)?Oo(i,m):Ai),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Fv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&bc.enqueueReplaceState(o,o.state,null)}function Of(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Ef(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=On(v):(v=hn(o)?As:$t.current,m.context=Oo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Lf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&bc.enqueueReplaceState(m,m.state,null),Sc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ho(i,o){try{var u="",f=o;do u+=ee(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Mf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function jf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var wA=typeof WeakMap=="function"?WeakMap:Map;function Uv(i,o,u){u=Xr(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){jc||(jc=!0,Zf=f),jf(i,o)},u}function Bv(i,o,u){u=Xr(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){jf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){jf(i,o),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function zv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new wA;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=VA.bind(null,i,o,u),o.then(i,i))}function $v(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Hv(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Xr(-1,1),o.tag=2,Ri(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var TA=Q.ReactCurrentOwner,dn=!1;function tn(i,o,u,f){o.child=i===null?cv(o,null,u,f):Uo(o,i.child,u,f)}function Wv(i,o,u,f,m){u=u.render;var v=o.ref;return zo(o,m),f=Rf(i,o,u,f,v,m),u=kf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(st&&u&&df(o),o.flags|=1,tn(i,o,f,m),o.child)}function qv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!op(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Kv(i,o,v,f,m)):(i=Hc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:cl,u(I,f)&&i.ref===o.ref)return Jr(i,o,m)}return o.flags|=1,i=Li(v,f),i.ref=o.ref,i.return=o,o.child=i}function Kv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(cl(v,f)&&i.ref===o.ref)if(dn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(dn=!0);else return o.lanes=i.lanes,Jr(i,o,m)}return Ff(i,o,u,f,m)}function Gv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(qo,Cn),Cn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(qo,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Ze(qo,Cn),Cn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Ze(qo,Cn),Cn|=f;return tn(i,o,m,u),o.child}function Qv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ff(i,o,u,f,m){var v=hn(u)?As:$t.current;return v=Oo(o,v),zo(o,m),u=Rf(i,o,u,f,v,m),f=kf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(st&&f&&df(o),o.flags|=1,tn(i,o,u,m),o.child)}function Yv(i,o,u,f,m){if(hn(u)){var v=!0;mc(o)}else v=!1;if(zo(o,m),o.stateNode===null)Dc(i,o),jv(o,u,f),Of(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,b=o.memoizedProps;I.props=b;var M=I.context,K=u.contextType;typeof K=="object"&&K!==null?K=On(K):(K=hn(u)?As:$t.current,K=Oo(o,K));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof I.getSnapshotBeforeUpdate=="function";se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==f||M!==K)&&Fv(o,I,f,K),Pi=!1;var te=o.memoizedState;I.state=te,Sc(o,f,I,m),M=o.memoizedState,b!==f||te!==M||cn.current||Pi?(typeof ne=="function"&&(Lf(o,u,ne,f),M=o.memoizedState),(b=Pi||Mv(o,u,b,f,te,M,K))?(se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=M),I.props=f,I.state=M,I.context=K,f=b):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,dv(i,o),b=o.memoizedProps,K=o.type===o.elementType?b:tr(o.type,b),I.props=K,se=o.pendingProps,te=I.context,M=u.contextType,typeof M=="object"&&M!==null?M=On(M):(M=hn(u)?As:$t.current,M=Oo(o,M));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(b!==se||te!==M)&&Fv(o,I,f,M),Pi=!1,te=o.memoizedState,I.state=te,Sc(o,f,I,m);var pe=o.memoizedState;b!==se||te!==pe||cn.current||Pi?(typeof ce=="function"&&(Lf(o,u,ce,f),pe=o.memoizedState),(K=Pi||Mv(o,u,K,f,te,pe,M)||!1)?(ne||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,pe,M),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,pe,M)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=pe),I.props=f,I.state=pe,I.context=M,f=K):(typeof I.componentDidUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),f=!1)}return Uf(i,o,u,f,v,m)}function Uf(i,o,u,f,m,v){Qv(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&tv(o,u,!1),Jr(i,o,v);f=o.stateNode,TA.current=o;var b=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Uo(o,i.child,null,v),o.child=Uo(o,null,b,v)):tn(i,o,b,v),o.memoizedState=f.state,m&&tv(o,u,!0),o.child}function Xv(i){var o=i.stateNode;o.pendingContext?Zy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Zy(i,o.context,!1),If(i,o.containerInfo)}function Jv(i,o,u,f,m){return Fo(),gf(m),o.flags|=256,tn(i,o,u,f),o.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Zv(i,o,u){var f=o.pendingProps,m=lt.current,v=!1,I=(o.flags&128)!==0,b;if((b=I)||(b=i!==null&&i.memoizedState===null?!1:(m&2)!==0),b?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ze(lt,m&1),i===null)return mf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Wc(I,f,0,null),i=Os(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=zf(u),o.memoizedState=Bf,i):$f(o,I));if(m=i.memoizedState,m!==null&&(b=m.dehydrated,b!==null))return EA(i,o,I,f,b,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,b=m.sibling;var M={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=M,o.deletions=null):(f=Li(m,M),f.subtreeFlags=m.subtreeFlags&14680064),b!==null?v=Li(b,v):(v=Os(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?zf(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=Bf,f}return v=i.child,i=v.sibling,f=Li(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function $f(i,o){return o=Wc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Nc(i,o,u,f){return f!==null&&gf(f),Uo(o,i.child,null,u),i=$f(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function EA(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=Mf(Error(n(422))),Nc(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Wc({mode:"visible",children:f.children},m,0,null),v=Os(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Uo(o,i.child,null,I),o.child.memoizedState=zf(I),o.memoizedState=Bf,v);if((o.mode&1)===0)return Nc(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var b=f.dgst;return f=b,v=Error(n(419)),f=Mf(v,f,void 0),Nc(i,o,I,f)}if(b=(I&i.childLanes)!==0,dn||b){if(f=Nt,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Yr(i,m),ir(f,i,m,-1))}return sp(),f=Mf(Error(n(421))),Nc(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=LA.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Sn=Si(m.nextSibling),In=o,st=!0,er=null,i!==null&&(Vn[Ln++]=Gr,Vn[Ln++]=Qr,Vn[Ln++]=xs,Gr=i.id,Qr=i.overflow,xs=o),o=$f(o,f.children),o.flags|=4096,o)}function e0(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),wf(i.return,o,u)}function Hf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function t0(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(tn(i,o,f.children,u),f=lt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e0(i,u,o);else if(i.tag===19)e0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ze(lt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Cc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Hf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Cc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Hf(o,!0,u,null,v);break;case"together":Hf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Jr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ns|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Li(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function IA(i,o,u){switch(o.tag){case 3:Xv(o),Fo();break;case 5:mv(o);break;case 1:hn(o.type)&&mc(o);break;case 4:If(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Ze(Tc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(lt,lt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Zv(i,o,u):(Ze(lt,lt.current&1),i=Jr(i,o,u),i!==null?i.sibling:null);Ze(lt,lt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return t0(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,Gv(i,o,u)}return Jr(i,o,u)}var n0,Wf,r0,i0;n0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wf=function(){},r0=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,ks(Tr.current);var v=null;switch(u){case"input":m=an(i,m),f=an(i,f),v=[];break;case"select":m=ue({},m,{value:void 0}),f=ue({},f,{value:void 0}),v=[];break;case"textarea":m=Fa(i,m),f=Fa(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=dc)}Wa(u,f);var I;u=null;for(K in m)if(!f.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var b=m[K];for(I in b)b.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in f){var M=f[K];if(b=m!=null?m[K]:void 0,f.hasOwnProperty(K)&&M!==b&&(M!=null||b!=null))if(K==="style")if(b){for(I in b)!b.hasOwnProperty(I)||M&&M.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in M)M.hasOwnProperty(I)&&b[I]!==M[I]&&(u||(u={}),u[I]=M[I])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,b=b?b.__html:void 0,M!=null&&b!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&nt("scroll",i),v||b===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},i0=function(i,o,u,f){u!==f&&(o.flags|=4)};function Cl(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function SA(i,o,u){var f=o.pendingProps;switch(ff(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return hn(o.type)&&pc(),Wt(o),null;case 3:return f=o.stateNode,$o(),rt(cn),rt($t),Af(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(_c(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,er!==null&&(np(er),er=null))),Wf(i,o),Wt(o),null;case 5:Sf(o);var m=ks(wl.current);if(u=o.type,i!==null&&o.stateNode!=null)r0(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(i=ks(Tr.current),_c(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[wr]=o,f[ml]=v,i=(o.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(m=0;m<dl.length;m++)nt(dl[m],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":Or(f,v),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},nt("invalid",f);break;case"textarea":so(f,v),nt("invalid",f)}Wa(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var b=v[I];I==="children"?typeof b=="string"?f.textContent!==b&&(v.suppressHydrationWarning!==!0&&hc(f.textContent,b,i),m=["children",b]):typeof b=="number"&&f.textContent!==""+b&&(v.suppressHydrationWarning!==!0&&hc(f.textContent,b,i),m=["children",""+b]):s.hasOwnProperty(I)&&b!=null&&I==="onScroll"&&nt("scroll",f)}switch(u){case"input":Ye(f),Mu(f,v,!0);break;case"textarea":Ye(f),Ua(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=dc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[wr]=o,i[ml]=f,n0(i,o,!1,!1),o.stateNode=i;e:{switch(I=qa(u,f),u){case"dialog":nt("cancel",i),nt("close",i),m=f;break;case"iframe":case"object":case"embed":nt("load",i),m=f;break;case"video":case"audio":for(m=0;m<dl.length;m++)nt(dl[m],i);m=f;break;case"source":nt("error",i),m=f;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=f;break;case"details":nt("toggle",i),m=f;break;case"input":Or(i,f),m=an(i,f),nt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ue({},f,{value:void 0}),nt("invalid",i);break;case"textarea":so(i,f),m=Fa(i,f),nt("invalid",i);break;default:m=f}Wa(u,m),b=m;for(v in b)if(b.hasOwnProperty(v)){var M=b[v];v==="style"?$a(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ba(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&fi(i,M):typeof M=="number"&&fi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&nt("scroll",i):M!=null&&F(i,v,M,I))}switch(u){case"input":Ye(i),Mu(i,f,!1);break;case"textarea":Ye(i),Ua(i);break;case"option":f.value!=null&&i.setAttribute("value",""+De(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?jr(i,!!f.multiple,v,!1):f.defaultValue!=null&&jr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=dc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(i&&o.stateNode!=null)i0(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=ks(wl.current),ks(Tr.current),_c(o)){if(f=o.stateNode,u=o.memoizedProps,f[wr]=o,(v=f.nodeValue!==u)&&(i=In,i!==null))switch(i.tag){case 3:hc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[wr]=o,o.stateNode=f}return Wt(o),null;case 13:if(rt(lt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)av(),Fo(),o.flags|=98560,v=!1;else if(v=_c(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[wr]=o}else Fo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else er!==null&&(np(er),er=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?Ct===0&&(Ct=3):sp())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return $o(),Wf(i,o),i===null&&fl(o.stateNode.containerInfo),Wt(o),null;case 10:return _f(o.type._context),Wt(o),null;case 17:return hn(o.type)&&pc(),Wt(o),null;case 19:if(rt(lt),v=o.memoizedState,v===null)return Wt(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)Cl(v,!1);else{if(Ct!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Cc(i),I!==null){for(o.flags|=128,Cl(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ze(lt,lt.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>Ko&&(o.flags|=128,f=!0,Cl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Cc(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Cl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!st)return Wt(o),null}else 2*Je()-v.renderingStartTime>Ko&&u!==1073741824&&(o.flags|=128,f=!0,Cl(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,u=lt.current,Ze(lt,f?u&1|2:u&1),o):(Wt(o),null);case 22:case 23:return ip(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Cn&1073741824)!==0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function CA(i,o){switch(ff(o),o.tag){case 1:return hn(o.type)&&pc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $o(),rt(cn),rt($t),Af(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Sf(o),null;case 13:if(rt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(lt),null;case 4:return $o(),null;case 10:return _f(o.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var Vc=!1,qt=!1,AA=typeof WeakSet=="function"?WeakSet:Set,de=null;function Wo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){dt(i,o,f)}else u.current=null}function qf(i,o,u){try{u()}catch(f){dt(i,o,f)}}var s0=!1;function xA(i,o){if(rf=Ti,i=My(),Qd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,b=-1,M=-1,K=0,ne=0,se=i,te=null;t:for(;;){for(var ce;se!==u||m!==0&&se.nodeType!==3||(b=I+m),se!==v||f!==0&&se.nodeType!==3||(M=I+f),se.nodeType===3&&(I+=se.nodeValue.length),(ce=se.firstChild)!==null;)te=se,se=ce;for(;;){if(se===i)break t;if(te===u&&++K===m&&(b=I),te===v&&++ne===f&&(M=I),(ce=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ce}u=b===-1||M===-1?null:{start:b,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(sf={focusedElem:i,selectionRange:u},Ti=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,mt=pe.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?me:tr(o.type,me),mt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){dt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return pe=s0,s0=!1,pe}function Al(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&qf(o,u,v)}m=m.next}while(m!==f)}}function Lc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Kf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function o0(i){var o=i.alternate;o!==null&&(i.alternate=null,o0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[wr],delete o[ml],delete o[uf],delete o[uA],delete o[cA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function a0(i){return i.tag===5||i.tag===3||i.tag===4}function l0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=dc));else if(f!==4&&(i=i.child,i!==null))for(Gf(i,o,u),i=i.sibling;i!==null;)Gf(i,o,u),i=i.sibling}function Qf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Qf(i,o,u),i=i.sibling;i!==null;)Qf(i,o,u),i=i.sibling}var Mt=null,nr=!1;function ki(i,o,u){for(u=u.child;u!==null;)u0(i,o,u),u=u.sibling}function u0(i,o,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(vs,u)}catch{}switch(u.tag){case 5:qt||Wo(u,o);case 6:var f=Mt,m=nr;Mt=null,ki(i,o,u),Mt=f,nr=m,Mt!==null&&(nr?(i=Mt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(nr?(i=Mt,u=u.stateNode,i.nodeType===8?lf(i.parentNode,u):i.nodeType===1&&lf(i,u),Xn(i)):lf(Mt,u.stateNode));break;case 4:f=Mt,m=nr,Mt=u.stateNode.containerInfo,nr=!0,ki(i,o,u),Mt=f,nr=m;break;case 0:case 11:case 14:case 15:if(!qt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&qf(u,o,I),m=m.next}while(m!==f)}ki(i,o,u);break;case 1:if(!qt&&(Wo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(b){dt(u,o,b)}ki(i,o,u);break;case 21:ki(i,o,u);break;case 22:u.mode&1?(qt=(f=qt)||u.memoizedState!==null,ki(i,o,u),qt=f):ki(i,o,u);break;default:ki(i,o,u)}}function c0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new AA),o.forEach(function(f){var m=OA.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function rr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,b=I;e:for(;b!==null;){switch(b.tag){case 5:Mt=b.stateNode,nr=!1;break e;case 3:Mt=b.stateNode.containerInfo,nr=!0;break e;case 4:Mt=b.stateNode.containerInfo,nr=!0;break e}b=b.return}if(Mt===null)throw Error(n(160));u0(v,I,m),Mt=null,nr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){dt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)h0(o,i),o=o.sibling}function h0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(o,i),Ir(i),f&4){try{Al(3,i,i.return),Lc(3,i)}catch(me){dt(i,i.return,me)}try{Al(5,i,i.return)}catch(me){dt(i,i.return,me)}}break;case 1:rr(o,i),Ir(i),f&512&&u!==null&&Wo(u,u.return);break;case 5:if(rr(o,i),Ir(i),f&512&&u!==null&&Wo(u,u.return),i.flags&32){var m=i.stateNode;try{fi(m,"")}catch(me){dt(i,i.return,me)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,b=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{b==="input"&&v.type==="radio"&&v.name!=null&&di(m,v),qa(b,I);var K=qa(b,v);for(I=0;I<M.length;I+=2){var ne=M[I],se=M[I+1];ne==="style"?$a(m,se):ne==="dangerouslySetInnerHTML"?Ba(m,se):ne==="children"?fi(m,se):F(m,ne,se,K)}switch(b){case"input":ja(m,v);break;case"textarea":oo(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?jr(m,!!v.multiple,ce,!1):te!==!!v.multiple&&(v.defaultValue!=null?jr(m,!!v.multiple,v.defaultValue,!0):jr(m,!!v.multiple,v.multiple?[]:"",!1))}m[ml]=v}catch(me){dt(i,i.return,me)}}break;case 6:if(rr(o,i),Ir(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(me){dt(i,i.return,me)}}break;case 3:if(rr(o,i),Ir(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(me){dt(i,i.return,me)}break;case 4:rr(o,i),Ir(i);break;case 13:rr(o,i),Ir(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Jf=Je())),f&4&&c0(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(qt=(K=qt)||ne,rr(o,i),qt=K):rr(o,i),Ir(i),f&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(de=i,ne=i.child;ne!==null;){for(se=de=ne;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Al(4,te,te.return);break;case 1:Wo(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){f=te,u=te.return;try{o=f,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){dt(f,u,me)}}break;case 5:Wo(te,te.return);break;case 22:if(te.memoizedState!==null){p0(se);continue}}ce!==null?(ce.return=te,de=ce):p0(se)}ne=ne.sibling}e:for(ne=null,se=i;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(b=se.stateNode,M=se.memoizedProps.style,I=M!=null&&M.hasOwnProperty("display")?M.display:null,b.style.display=za("display",I))}catch(me){dt(i,i.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(me){dt(i,i.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:rr(o,i),Ir(i),f&4&&c0(i);break;case 21:break;default:rr(o,i),Ir(i)}}function Ir(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(a0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(fi(m,""),f.flags&=-33);var v=l0(i);Qf(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,b=l0(i);Gf(i,b,I);break;default:throw Error(n(161))}}catch(M){dt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function PA(i,o,u){de=i,d0(i)}function d0(i,o,u){for(var f=(i.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Vc;if(!I){var b=m.alternate,M=b!==null&&b.memoizedState!==null||qt;b=Vc;var K=qt;if(Vc=I,(qt=M)&&!K)for(de=m;de!==null;)I=de,M=I.child,I.tag===22&&I.memoizedState!==null?m0(m):M!==null?(M.return=I,de=M):m0(m);for(;v!==null;)de=v,d0(v),v=v.sibling;de=m,Vc=b,qt=K}f0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,de=v):f0(i)}}function f0(i){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Lc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!qt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:tr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&pv(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}pv(o,I,u)}break;case 5:var b=o.stateNode;if(u===null&&o.flags&4){u=b;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Xn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&Kf(o)}catch(te){dt(o,o.return,te)}}if(o===i){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function p0(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function m0(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Lc(4,o)}catch(M){dt(o,u,M)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(M){dt(o,m,M)}}var v=o.return;try{Kf(o)}catch(M){dt(o,v,M)}break;case 5:var I=o.return;try{Kf(o)}catch(M){dt(o,I,M)}}}catch(M){dt(o,o.return,M)}if(o===i){de=null;break}var b=o.sibling;if(b!==null){b.return=o.return,de=b;break}de=o.return}}var RA=Math.ceil,Oc=Q.ReactCurrentDispatcher,Yf=Q.ReactCurrentOwner,jn=Q.ReactCurrentBatchConfig,$e=0,Nt=null,_t=null,jt=0,Cn=0,qo=Ci(0),Ct=0,xl=null,Ns=0,Mc=0,Xf=0,Pl=null,fn=null,Jf=0,Ko=1/0,Zr=null,jc=!1,Zf=null,bi=null,Fc=!1,Ni=null,Uc=0,Rl=0,ep=null,Bc=-1,zc=0;function nn(){return($e&6)!==0?Je():Bc!==-1?Bc:Bc=Je()}function Di(i){return(i.mode&1)===0?1:($e&2)!==0&&jt!==0?jt&-jt:dA.transition!==null?(zc===0&&(zc=ws()),zc):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:rl(i.type)),i)}function ir(i,o,u,f){if(50<Rl)throw Rl=0,ep=null,Error(n(185));yi(i,u,f),(($e&2)===0||i!==Nt)&&(i===Nt&&(($e&2)===0&&(Mc|=u),Ct===4&&Vi(i,jt)),pn(i,f),u===1&&$e===0&&(o.mode&1)===0&&(Ko=Je()+500,gc&&xi()))}function pn(i,o){var u=i.callbackNode;Br(i,o);var f=_s(i,i===Nt?jt:0);if(f===0)u!==null&&Ja(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Ja(u),o===1)i.tag===0?hA(y0.bind(null,i)):nv(y0.bind(null,i)),aA(function(){($e&6)===0&&xi()}),u=null;else{switch(_i(f)){case 1:u=ys;break;case 4:u=pi;break;case 16:u=bn;break;case 536870912:u=zu;break;default:u=bn}u=C0(u,g0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function g0(i,o){if(Bc=-1,zc=0,($e&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Go()&&i.callbackNode!==u)return null;var f=_s(i,i===Nt?jt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=$c(i,f);else{o=f;var m=$e;$e|=2;var v=_0();(Nt!==i||jt!==o)&&(Zr=null,Ko=Je()+500,Vs(i,o));do try{NA();break}catch(b){v0(i,b)}while(!0);vf(),Oc.current=v,$e=m,_t!==null?o=0:(Nt=null,jt=0,o=Ct)}if(o!==0){if(o===2&&(m=wn(i),m!==0&&(f=m,o=tp(i,m))),o===1)throw u=xl,Vs(i,0),Vi(i,f),pn(i,Je()),u;if(o===6)Vi(i,f);else{if(m=i.current.alternate,(f&30)===0&&!kA(m)&&(o=$c(i,f),o===2&&(v=wn(i),v!==0&&(f=v,o=tp(i,v))),o===1))throw u=xl,Vs(i,0),Vi(i,f),pn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Ls(i,fn,Zr);break;case 3:if(Vi(i,f),(f&130023424)===f&&(o=Jf+500-Je(),10<o)){if(_s(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=af(Ls.bind(null,i,fn,Zr),o);break}Ls(i,fn,Zr);break;case 4:if(Vi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-Zt(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*RA(f/1960))-f,10<f){i.timeoutHandle=af(Ls.bind(null,i,fn,Zr),f);break}Ls(i,fn,Zr);break;case 5:Ls(i,fn,Zr);break;default:throw Error(n(329))}}}return pn(i,Je()),i.callbackNode===u?g0.bind(null,i):null}function tp(i,o){var u=Pl;return i.current.memoizedState.isDehydrated&&(Vs(i,o).flags|=256),i=$c(i,o),i!==2&&(o=fn,fn=u,o!==null&&np(o)),i}function np(i){fn===null?fn=i:fn.push.apply(fn,i)}function kA(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~Xf,o&=~Mc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Zt(o),f=1<<u;i[u]=-1,o&=~f}}function y0(i){if(($e&6)!==0)throw Error(n(327));Go();var o=_s(i,0);if((o&1)===0)return pn(i,Je()),null;var u=$c(i,o);if(i.tag!==0&&u===2){var f=wn(i);f!==0&&(o=f,u=tp(i,f))}if(u===1)throw u=xl,Vs(i,0),Vi(i,o),pn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ls(i,fn,Zr),pn(i,Je()),null}function rp(i,o){var u=$e;$e|=1;try{return i(o)}finally{$e=u,$e===0&&(Ko=Je()+500,gc&&xi())}}function Ds(i){Ni!==null&&Ni.tag===0&&($e&6)===0&&Go();var o=$e;$e|=1;var u=jn.transition,f=Fe;try{if(jn.transition=null,Fe=1,i)return i()}finally{Fe=f,jn.transition=u,$e=o,($e&6)===0&&xi()}}function ip(){Cn=qo.current,rt(qo)}function Vs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,oA(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(ff(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&pc();break;case 3:$o(),rt(cn),rt($t),Af();break;case 5:Sf(f);break;case 4:$o();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:_f(f.type._context);break;case 22:case 23:ip()}u=u.return}if(Nt=i,_t=i=Li(i.current,null),jt=Cn=o,Ct=0,xl=null,Xf=Mc=Ns=0,fn=Pl=null,Rs!==null){for(o=0;o<Rs.length;o++)if(u=Rs[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Rs=null}return i}function v0(i,o){do{var u=_t;try{if(vf(),Ac.current=kc,xc){for(var f=ut.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}xc=!1}if(bs=0,bt=St=ut=null,Tl=!1,El=0,Yf.current=null,u===null||u.return===null){Ct=1,xl=o,_t=null;break}e:{var v=i,I=u.return,b=u,M=o;if(o=jt,b.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=b,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=$v(I);if(ce!==null){ce.flags&=-257,Hv(ce,I,b,v,o),ce.mode&1&&zv(v,K,o),o=ce,M=K;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(M),o.updateQueue=me}else pe.add(M);break e}else{if((o&1)===0){zv(v,K,o),sp();break e}M=Error(n(426))}}else if(st&&b.mode&1){var mt=$v(I);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Hv(mt,I,b,v,o),gf(Ho(M,b));break e}}v=M=Ho(M,b),Ct!==4&&(Ct=2),Pl===null?Pl=[v]:Pl.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=Uv(v,M,o);fv(v,W);break e;case 1:b=M;var B=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(bi===null||!bi.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=Bv(v,b,o);fv(v,ae);break e}}v=v.return}while(v!==null)}T0(u)}catch(ve){o=ve,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function _0(){var i=Oc.current;return Oc.current=kc,i===null?kc:i}function sp(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||(Ns&268435455)===0&&(Mc&268435455)===0||Vi(Nt,jt)}function $c(i,o){var u=$e;$e|=2;var f=_0();(Nt!==i||jt!==o)&&(Zr=null,Vs(i,o));do try{bA();break}catch(m){v0(i,m)}while(!0);if(vf(),$e=u,Oc.current=f,_t!==null)throw Error(n(261));return Nt=null,jt=0,Ct}function bA(){for(;_t!==null;)w0(_t)}function NA(){for(;_t!==null&&!Uu();)w0(_t)}function w0(i){var o=S0(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?T0(i):_t=o,Yf.current=null}function T0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=SA(u,o,Cn),u!==null){_t=u;return}}else{if(u=CA(u,o),u!==null){u.flags&=32767,_t=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ct=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);Ct===0&&(Ct=5)}function Ls(i,o,u){var f=Fe,m=jn.transition;try{jn.transition=null,Fe=1,DA(i,o,u,f)}finally{jn.transition=m,Fe=f}return null}function DA(i,o,u,f){do Go();while(Ni!==null);if(($e&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Xe(i,v),i===Nt&&(_t=Nt=null,jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fc||(Fc=!0,C0(bn,function(){return Go(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=jn.transition,jn.transition=null;var I=Fe;Fe=1;var b=$e;$e|=4,Yf.current=null,xA(i,u),h0(u,i),ZC(sf),Ti=!!rf,sf=rf=null,i.current=u,PA(u),Bd(),$e=b,Fe=I,jn.transition=v}else i.current=u;if(Fc&&(Fc=!1,Ni=i,Uc=m),v=i.pendingLanes,v===0&&(bi=null),$u(u.stateNode),pn(i,Je()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(jc)throw jc=!1,i=Zf,Zf=null,i;return(Uc&1)!==0&&i.tag!==0&&Go(),v=i.pendingLanes,(v&1)!==0?i===ep?Rl++:(Rl=0,ep=i):Rl=0,xi(),null}function Go(){if(Ni!==null){var i=_i(Uc),o=jn.transition,u=Fe;try{if(jn.transition=null,Fe=16>i?16:i,Ni===null)var f=!1;else{if(i=Ni,Ni=null,Uc=0,($e&6)!==0)throw Error(n(331));var m=$e;for($e|=4,de=i.current;de!==null;){var v=de,I=v.child;if((de.flags&16)!==0){var b=v.deletions;if(b!==null){for(var M=0;M<b.length;M++){var K=b[M];for(de=K;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Al(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,de=se;else for(;de!==null;){ne=de;var te=ne.sibling,ce=ne.return;if(o0(ne),ne===K){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,de=I;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Al(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,de=W;break e}de=v.return}}var B=i.current;for(de=B;de!==null;){I=de;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,de=q;else e:for(I=B;de!==null;){if(b=de,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Lc(9,b)}}catch(ve){dt(b,b.return,ve)}if(b===I){de=null;break e}var ae=b.sibling;if(ae!==null){ae.return=b.return,de=ae;break e}de=b.return}}if($e=m,xi(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(vs,i)}catch{}f=!0}return f}finally{Fe=u,jn.transition=o}}return!1}function E0(i,o,u){o=Ho(u,o),o=Uv(i,o,1),i=Ri(i,o,1),o=nn(),i!==null&&(yi(i,1,o),pn(i,o))}function dt(i,o,u){if(i.tag===3)E0(i,i,u);else for(;o!==null;){if(o.tag===3){E0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bi===null||!bi.has(f))){i=Ho(u,i),i=Bv(o,i,1),o=Ri(o,i,1),i=nn(),o!==null&&(yi(o,1,i),pn(o,i));break}}o=o.return}}function VA(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&u,Nt===i&&(jt&u)===u&&(Ct===4||Ct===3&&(jt&130023424)===jt&&500>Je()-Jf?Vs(i,0):Xf|=u),pn(i,o)}function I0(i,o){o===0&&((i.mode&1)===0?o=1:(o=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var u=nn();i=Yr(i,o),i!==null&&(yi(i,o,u),pn(i,u))}function LA(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),I0(i,u)}function OA(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),I0(i,u)}var S0;S0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||cn.current)dn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return dn=!1,IA(i,o,u);dn=(i.flags&131072)!==0}else dn=!1,st&&(o.flags&1048576)!==0&&rv(o,vc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Dc(i,o),i=o.pendingProps;var m=Oo(o,$t.current);zo(o,u),m=Rf(null,o,f,i,m,u);var v=kf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(f)?(v=!0,mc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ef(o),m.updater=bc,o.stateNode=m,m._reactInternals=o,Of(o,f,i,u),o=Uf(null,o,f,!0,v,u)):(o.tag=0,st&&v&&df(o),tn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Dc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=jA(f),i=tr(f,i),m){case 0:o=Ff(null,o,f,i,u);break e;case 1:o=Yv(null,o,f,i,u);break e;case 11:o=Wv(null,o,f,i,u);break e;case 14:o=qv(null,o,f,tr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Ff(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Yv(i,o,f,m,u);case 3:e:{if(Xv(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,dv(i,o),Sc(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Ho(Error(n(423)),o),o=Jv(i,o,f,u,m);break e}else if(f!==m){m=Ho(Error(n(424)),o),o=Jv(i,o,f,u,m);break e}else for(Sn=Si(o.stateNode.containerInfo.firstChild),In=o,st=!0,er=null,u=cv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Fo(),f===m){o=Jr(i,o,u);break e}tn(i,o,f,u)}o=o.child}return o;case 5:return mv(o),i===null&&mf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,of(f,m)?I=null:v!==null&&of(f,v)&&(o.flags|=32),Qv(i,o),tn(i,o,I,u),o.child;case 6:return i===null&&mf(o),null;case 13:return Zv(i,o,u);case 4:return If(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Uo(o,null,f,u):tn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Wv(i,o,f,m,u);case 7:return tn(i,o,o.pendingProps,u),o.child;case 8:return tn(i,o,o.pendingProps.children,u),o.child;case 12:return tn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,Ze(Tc,f._currentValue),f._currentValue=I,v!==null)if(Zn(v.value,I)){if(v.children===m.children&&!cn.current){o=Jr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){I=v.child;for(var M=b.firstContext;M!==null;){if(M.context===f){if(v.tag===1){M=Xr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),wf(v.return,u,o),b.lanes|=u;break}M=M.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),wf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}tn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,zo(o,u),m=On(m),f=f(m),o.flags|=1,tn(i,o,f,u),o.child;case 14:return f=o.type,m=tr(f,o.pendingProps),m=tr(f.type,m),qv(i,o,f,m,u);case 15:return Kv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:tr(f,m),Dc(i,o),o.tag=1,hn(f)?(i=!0,mc(o)):i=!1,zo(o,u),jv(o,f,m),Of(o,f,m,u),Uf(null,o,f,!0,i,u);case 19:return t0(i,o,u);case 22:return Gv(i,o,u)}throw Error(n(156,o.tag))};function C0(i,o){return mo(i,o)}function MA(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,o,u,f){return new MA(i,o,u,f)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function jA(i){if(typeof i=="function")return op(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===tt)return 14}return 2}function Li(i,o){var u=i.alternate;return u===null?(u=Fn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Hc(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")op(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return Os(u.children,m,v,o);case C:I=8,m|=8;break;case P:return i=Fn(12,u,o,m|2),i.elementType=P,i.lanes=v,i;case D:return i=Fn(13,u,o,m),i.elementType=D,i.lanes=v,i;case qe:return i=Fn(19,u,o,m),i.elementType=qe,i.lanes=v,i;case we:return Wc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:I=10;break e;case j:I=9;break e;case z:I=11;break e;case tt:I=14;break e;case Ke:I=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Fn(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Os(i,o,u,f){return i=Fn(7,i,f,o),i.lanes=u,i}function Wc(i,o,u,f){return i=Fn(22,i,f,o),i.elementType=we,i.lanes=u,i.stateNode={isHidden:!1},i}function ap(i,o,u){return i=Fn(6,i,null,o),i.lanes=u,i}function lp(i,o,u){return o=Fn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function FA(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function up(i,o,u,f,m,v,I,b,M){return i=new FA(i,o,u,b,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Fn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(v),i}function UA(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function A0(i){if(!i)return Ai;i=i._reactInternals;e:{if(qn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hn(u))return ev(i,u,o)}return o}function x0(i,o,u,f,m,v,I,b,M){return i=up(u,f,!0,i,m,v,I,b,M),i.context=A0(null),u=i.current,f=nn(),m=Di(u),v=Xr(f,m),v.callback=o??null,Ri(u,v,m),i.current.lanes=m,yi(i,m,f),pn(i,f),i}function qc(i,o,u,f){var m=o.current,v=nn(),I=Di(m);return u=A0(u),o.context===null?o.context=u:o.pendingContext=u,o=Xr(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ri(m,o,I),i!==null&&(ir(i,m,I,v),Ic(i,m,I)),I}function Kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function P0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function cp(i,o){P0(i,o),(i=i.alternate)&&P0(i,o)}function BA(){return null}var R0=typeof reportError=="function"?reportError:function(i){console.error(i)};function hp(i){this._internalRoot=i}Gc.prototype.render=hp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));qc(i,o,null,null)},Gc.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ds(function(){qc(null,i,null,null)}),o[qr]=null}};function Gc(i){this._internalRoot=i}Gc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Gu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<gr.length&&o!==0&&o<gr[u].priority;u++);gr.splice(u,0,i),u===0&&Xu(i)}};function dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function k0(){}function zA(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var K=Kc(I);v.call(K)}}var I=x0(o,f,i,0,null,!1,!1,"",k0);return i._reactRootContainer=I,i[qr]=I.current,fl(i.nodeType===8?i.parentNode:i),Ds(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var b=f;f=function(){var K=Kc(M);b.call(K)}}var M=up(i,0,!1,null,null,!1,!1,"",k0);return i._reactRootContainer=M,i[qr]=M.current,fl(i.nodeType===8?i.parentNode:i),Ds(function(){qc(o,M,u,f)}),M}function Yc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var b=m;m=function(){var M=Kc(I);b.call(M)}}qc(o,I,i,m)}else I=zA(u,o,i,m,f);return Kc(I)}qu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=mi(o.pendingLanes);u!==0&&(vi(o,u|1),pn(o,Je()),($e&6)===0&&(Ko=Je()+500,xi()))}break;case 13:Ds(function(){var f=Yr(i,1);if(f!==null){var m=nn();ir(f,i,1,m)}}),cp(i,1)}},vo=function(i){if(i.tag===13){var o=Yr(i,134217728);if(o!==null){var u=nn();ir(o,i,134217728,u)}cp(i,134217728)}},Ku=function(i){if(i.tag===13){var o=Di(i),u=Yr(i,o);if(u!==null){var f=nn();ir(u,i,o,f)}cp(i,o)}},Gu=function(){return Fe},Qu=function(i,o){var u=Fe;try{return Fe=i,o()}finally{Fe=u}},lo=function(i,o,u){switch(o){case"input":if(ja(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=fc(f);if(!m)throw Error(n(90));Rn(f),ja(f,m)}}}break;case"textarea":oo(i,u);break;case"select":o=u.value,o!=null&&jr(i,!!u.multiple,o,!1)}},fs=rp,Ga=Ds;var $A={usingClientEntryPoint:!1,Events:[gl,Vo,fc,pr,Ka,rp]},kl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HA={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xa(i),i===null?null:i.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||BA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{vs=Xc.inject(HA),_n=Xc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A,mn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(o))throw Error(n(200));return UA(i,o,null,u)},mn.createRoot=function(i,o){if(!dp(i))throw Error(n(299));var u=!1,f="",m=R0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=up(i,1,!1,null,null,u,!1,f,m),i[qr]=o.current,fl(i.nodeType===8?i.parentNode:i),new hp(o)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Xa(o),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return Ds(i)},mn.hydrate=function(i,o,u){if(!Qc(o))throw Error(n(200));return Yc(null,i,o,!0,u)},mn.hydrateRoot=function(i,o,u){if(!dp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=R0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=x0(o,null,i,1,u??null,m,!1,v,I),i[qr]=o.current,fl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Gc(o)},mn.render=function(i,o,u){if(!Qc(o))throw Error(n(200));return Yc(null,i,o,!1,u)},mn.unmountComponentAtNode=function(i){if(!Qc(i))throw Error(n(40));return i._reactRootContainer?(Ds(function(){Yc(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},mn.unstable_batchedUpdates=rp,mn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Qc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Yc(i,o,u,!1,f)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var B0;function ZA(){if(B0)return mp.exports;B0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mp.exports=JA(),mp.exports}var z0;function ex(){if(z0)return Zc;z0=1;var t=ZA();return Zc.createRoot=t.createRoot,Zc.hydrateRoot=t.hydrateRoot,Zc}var tx=ex(),Nl={},$0;function nx(){if($0)return Nl;$0=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=l,Nl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const x=new a,N=E.length;if(N<2)return x;const R=(S==null?void 0:S.decode)||g;let O=0;do{const U=E.indexOf("=",O);if(U===-1)break;const F=E.indexOf(";",O),Q=F===-1?N:F;if(U>Q){O=E.lastIndexOf(";",U-1)+1;continue}const Y=h(E,O,U),Z=d(E,U,Y),k=E.slice(Y,Z);if(x[k]===void 0){let C=h(E,U+1,Q),P=d(E,Q,C);const V=R(E.slice(C,P));x[k]=V}O=Q+1}while(O<N);return x}function h(E,S,x){do{const N=E.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<x);return x}function d(E,S,x){for(;S>x;){const N=E.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return x}function p(E,S,x){const N=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=N(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let O=E+"="+R;if(!x)return O;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);O+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);O+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);O+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);O+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(O+="; HttpOnly"),x.secure&&(O+="; Secure"),x.partitioned&&(O+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return O}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return Nl}nx();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0="popstate";function rx(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return qp("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:eu(s)}return sx(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ix(){return Math.random().toString(36).substring(2,10)}function W0(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||r||ix()}}function eu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sx(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let R=g(),O=R==null?null:R-p;p=R,d&&d({action:h,location:N.location,delta:O})}function E(R,O){h="PUSH";let U=qp(N.location,R,O);p=g()+1;let F=W0(U,p),Q=N.createHref(U);try{l.pushState(F,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&d&&d({action:h,location:N.location,delta:1})}function S(R,O){h="REPLACE";let U=qp(N.location,R,O);p=g();let F=W0(U,p),Q=N.createHref(U);l.replaceState(F,"",Q),a&&d&&d({action:h,location:N.location,delta:0})}function x(R){let O=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof R=="string"?R:eu(R);return U=U.replace(/ $/,"%20"),at(O,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,O)}let N={get action(){return h},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(H0,_),d=R,()=>{s.removeEventListener(H0,_),d=null}},createHref(R){return e(s,R)},createURL:x,encodeLocation(R){let O=x(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:S,go(R){return l.go(R)}};return N}function XT(t,e,n="/"){return ox(t,e,n,!1)}function ox(t,e,n,r){let s=typeof e=="string"?Sa(e):e,a=Yi(s.pathname||"/",n);if(a==null)return null;let l=JT(t);ax(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=vx(a);h=gx(l[d],p,r)}return h}function JT(t,e=[],n=[],r=""){let s=(a,l,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(at(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=ri([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),JT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:px(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,l);else for(let d of ZT(a.path))s(a,l,d)}),e}function ZT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=ZT(r.join("/")),h=[];return h.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function ax(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lx=/^:[\w-]+$/,ux=3,cx=2,hx=1,dx=10,fx=-2,q0=t=>t==="*";function px(t,e){let n=t.split("/"),r=n.length;return n.some(q0)&&(r+=fx),e&&(r+=cx),n.filter(s=>!q0(s)).reduce((s,a)=>s+(lx.test(a)?ux:a===""?hx:dx),r)}function mx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gx(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Ah({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),E=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ah({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ri([a,_.pathname]),pathnameBase:Ex(ri([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ri([a,_.pathnameBase]))}return l}function Ah(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let x=h[E]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function yx(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _x(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Sa(t):t;return{pathname:n?n.startsWith("/")?n:wx(n,e):e,search:Ix(r),hash:Sx(s)}}function wx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zm(t){let e=Tx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $m(t,e,n,r=!1){let s;typeof t=="string"?s=Sa(t):(s={...t},at(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=_x(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),Ex=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var Ax=["GET",...eE];new Set(Ax);var Ca=L.createContext(null);Ca.displayName="DataRouter";var rd=L.createContext(null);rd.displayName="DataRouterState";var tE=L.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var xx=L.createContext(new Map);xx.displayName="Fetchers";var Px=L.createContext(null);Px.displayName="Await";var hr=L.createContext(null);hr.displayName="Navigation";var wu=L.createContext(null);wu.displayName="Location";var Vr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Hm=L.createContext(null);Hm.displayName="RouteError";function Rx(t,{relative:e}={}){at(Aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(hr),{hash:s,pathname:a,search:l}=Tu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ri([n,a])),r.createHref({pathname:h,search:l,hash:s})}function Aa(){return L.useContext(wu)!=null}function ss(){return at(Aa(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(wu).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(t){L.useContext(hr).static||L.useLayoutEffect(t)}function xa(){let{isDataRoute:t}=L.useContext(Vr);return t?zx():kx()}function kx(){at(Aa(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Ca),{basename:e,navigator:n}=L.useContext(hr),{matches:r}=L.useContext(Vr),{pathname:s}=ss(),a=JSON.stringify(zm(r)),l=L.useRef(!1);return rE(()=>{l.current=!0}),L.useCallback((d,p={})=>{if(lr(l.current,nE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=$m(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ri([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}L.createContext(null);function Tu(t,{relative:e}={}){let{matches:n}=L.useContext(Vr),{pathname:r}=ss(),s=JSON.stringify(zm(n));return L.useMemo(()=>$m(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function bx(t,e){return iE(t,e)}function iE(t,e,n,r){var U;at(Aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=L.useContext(hr),{matches:l}=L.useContext(Vr),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";sE(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=ss(),S;if(e){let F=typeof e=="string"?Sa(e):e;at(g==="/"||((U=F.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=E;let x=S.pathname||"/",N=x;if(g!=="/"){let F=g.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:XT(t,{pathname:N});lr(_||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),lr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Ox(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:ri([g,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:ri([g,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,r);return e&&O?L.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function Nx(){let t=Bx(),e=Cx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,l)}var Dx=L.createElement(Nx,null),Vx=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(Vr.Provider,{value:this.props.routeContext},L.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lx({routeContext:t,match:e,children:n}){let r=L.useContext(Ca);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Vr.Provider,{value:t},n)}function Ox(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);at(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,h=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let _,E=!1,S=null,x=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||Dx,l&&(h<0&&g===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):h===g&&(E=!0,x=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),R=()=>{let O;return _?O=S:E?O=x:p.route.Component?O=L.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,L.createElement(Lx,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(Vx,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function Wm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mx(t){let e=L.useContext(Ca);return at(e,Wm(t)),e}function jx(t){let e=L.useContext(rd);return at(e,Wm(t)),e}function Fx(t){let e=L.useContext(Vr);return at(e,Wm(t)),e}function qm(t){let e=Fx(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ux(){return qm("useRouteId")}function Bx(){var r;let t=L.useContext(Hm),e=jx("useRouteError"),n=qm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function zx(){let{router:t}=Mx("useNavigate"),e=qm("useNavigate"),n=L.useRef(!1);return rE(()=>{n.current=!0}),L.useCallback(async(s,a={})=>{lr(n.current,nE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var K0={};function sE(t,e,n){!e&&!K0[t]&&(K0[t]=!0,lr(!1,n))}L.memo($x);function $x({routes:t,future:e,state:n}){return iE(t,void 0,n,e)}function Hx({to:t,replace:e,state:n,relative:r}){at(Aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=L.useContext(hr);lr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=L.useContext(Vr),{pathname:l}=ss(),h=xa(),d=$m(t,zm(a),l,r==="path"),p=JSON.stringify(d);return L.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function Ll(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){at(!Aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Sa(n));let{pathname:d="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,S=L.useMemo(()=>{let x=Yi(d,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:_,key:E},navigationType:r}},[l,d,p,g,_,E,r]);return lr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(hr.Provider,{value:h},L.createElement(wu.Provider,{children:e,value:S}))}function qx({children:t,location:e}){return bx(Kp(t),e)}function Kp(t,e=[]){let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Kp(r.props.children,a));return}at(r.type===Ll,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Kp(r.props.children,a)),n.push(l)}),n}var hh="get",dh="application/x-www-form-urlencoded";function id(t){return t!=null&&typeof t.tagName=="string"}function Kx(t){return id(t)&&t.tagName.toLowerCase()==="button"}function Gx(t){return id(t)&&t.tagName.toLowerCase()==="form"}function Qx(t){return id(t)&&t.tagName.toLowerCase()==="input"}function Yx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xx(t,e){return t.button===0&&(!e||e==="_self")&&!Yx(t)}var eh=null;function Jx(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Zx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(t){return t!=null&&!Zx.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):t}function eP(t,e){let n,r,s,a,l;if(Gx(t)){let h=t.getAttribute("action");r=h?Yi(h,e):null,n=t.getAttribute("method")||hh,s=_p(t.getAttribute("enctype"))||dh,a=new FormData(t)}else if(Kx(t)||Qx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Yi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||hh,s=_p(t.getAttribute("formenctype"))||_p(h.getAttribute("enctype"))||dh,a=new FormData(h,t),!Jx()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,s=dh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function Km(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function tP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rP(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await tP(a,n);return l.links?l.links():[]}return[]}));return aP(r.flat(1).filter(nP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function G0(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||h(d,p)):a==="data"?e.filter((d,p)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function iP(t,e,{includeHydrateFallback:n}={}){return sP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function sP(t){return[...new Set(t)]}function oP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(oP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function lP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uP(){let t=L.useContext(Ca);return Km(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cP(){let t=L.useContext(rd);return Km(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gm=L.createContext(void 0);Gm.displayName="FrameworkContext";function oE(){let t=L.useContext(Gm);return Km(t,"You must render this element inside a <HydratedRouter> element"),t}function hP(t,e){let n=L.useContext(Gm),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=O=>{O.forEach(U=>{l(U.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),L.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Dl(h,S),onBlur:Dl(d,x),onMouseEnter:Dl(p,S),onMouseLeave:Dl(g,x),onTouchStart:Dl(_,S)}]:[!1,E,{}]}function Dl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dP({page:t,...e}){let{router:n}=uP(),r=L.useMemo(()=>XT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(pP,{page:t,matches:r,...e}):null}function fP(t){let{manifest:e,routeModules:n}=oE(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return rP(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function pP({page:t,matches:e,...n}){let r=ss(),{manifest:s,routeModules:a}=oE(),{loaderData:l,matches:h}=cP(),d=L.useMemo(()=>G0(t,e,h,s,r,"data"),[t,e,h,s,r]),p=L.useMemo(()=>G0(t,e,h,s,r,"assets"),[t,e,h,s,r]),g=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(R=>{var U;let O=s.routes[R.route.id];!O||!O.hasLoader||(!d.some(F=>F.route.id===R.route.id)&&R.route.id in l&&((U=a[R.route.id])!=null&&U.shouldRevalidate)||O.hasClientLoader?x=!0:S.add(R.route.id))}),S.size===0)return[];let N=lP(t);return x&&S.size>0&&N.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[l,r,s,d,e,t,a]),_=L.useMemo(()=>iP(p,s),[p,s]),E=fP(p);return L.createElement(L.Fragment,null,g.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:x})=>L.createElement("link",{key:S,...x})))}function mP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.2.0")}catch{}function gP({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=rx({window:n,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),h=L.useCallback(d=>{L.startTransition(()=>l(d))},[l]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.createElement(Wx,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sd=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:d,to:p,preventScrollReset:g,viewTransition:_,...E},S){let{basename:x}=L.useContext(hr),N=typeof p=="string"&&lE.test(p),R,O=!1;if(typeof p=="string"&&N&&(R=p,aE))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),j=Yi(V.pathname,x);V.origin===P.origin&&j!=null?p=j+V.search+V.hash:O=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Rx(p,{relative:s}),[F,Q,Y]=hP(r,E),Z=wP(p,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:_});function k(P){e&&e(P),P.defaultPrevented||Z(P)}let C=L.createElement("a",{...E,...Y,href:R||U,onClick:O||a?e:k,ref:mP(S,Q),target:d,"data-discover":!N&&n==="render"?"true":void 0});return F&&!N?L.createElement(L.Fragment,null,C,L.createElement(dP,{page:U})):C});sd.displayName="Link";var yP=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:d,...p},g){let _=Tu(l,{relative:p.relative}),E=ss(),S=L.useContext(rd),{navigator:x,basename:N}=L.useContext(hr),R=S!=null&&CP(_)&&h===!0,O=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,U=E.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(U=U.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&N&&(F=Yi(F,N)||F);const Q=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=U===O||!s&&U.startsWith(O)&&U.charAt(Q)==="/",Z=F!=null&&(F===O||!s&&F.startsWith(O)&&F.charAt(O.length)==="/"),k={isActive:Y,isPending:Z,isTransitioning:R},C=Y?e:void 0,P;typeof r=="function"?P=r(k):P=[r,Y?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(k):a;return L.createElement(sd,{...p,"aria-current":C,className:P,ref:g,style:V,to:l,viewTransition:h},typeof d=="function"?d(k):d)});yP.displayName="NavLink";var vP=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=hh,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:_,...E},S)=>{let x=IP(),N=SP(h,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&lE.test(h),U=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Q=F.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||l;x(Q||F.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return L.createElement("form",{ref:S,method:R,action:N,onSubmit:r?d:U,...E,"data-discover":!O&&t==="render"?"true":void 0})});vP.displayName="Form";function _P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(t){let e=L.useContext(Ca);return at(e,_P(t)),e}function wP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=xa(),d=ss(),p=Tu(t,{relative:a});return L.useCallback(g=>{if(Xx(g,e)){g.preventDefault();let _=n!==void 0?n:eu(d)===eu(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,h,p,n,r,e,t,s,a,l])}var TP=0,EP=()=>`__${String(++TP)}__`;function IP(){let{router:t}=uE("useSubmit"),{basename:e}=L.useContext(hr),n=Ux();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:d,body:p}=eP(r,e);if(s.navigate===!1){let g=s.fetcherKey||EP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function SP(t,{relative:e}={}){let{basename:n}=L.useContext(hr),r=L.useContext(Vr);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Tu(t||".",{relative:e})},l=ss();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ri([n,a.pathname])),eu(a)}function CP(t,e={}){let n=L.useContext(tE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uE("useViewTransitionState"),s=Tu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(s.pathname,l)!=null||Ah(s.pathname,a)!=null}new TextEncoder;const AP=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;d||(S=64,l||(E=64)),r.push(n[g],n[_],n[E],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new PP;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RP=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},xh=function(t){return RP(t).replace(/\./g,"")},dE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=()=>kP().__FIREBASE_DEFAULTS__,NP=()=>{if(typeof process>"u"||typeof Q0>"u")return;const t=Q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dE(t[1]);return e&&JSON.parse(e)},od=()=>{try{return AP()||bP()||NP()||DP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fE=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VP=t=>{const e=fE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pE=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config},mE=t=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xh(JSON.stringify(n)),xh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jP(){var t;const e=(t=od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BP(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zP(){return!jP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function $P(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HP,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?WP(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new dr(s,h,r)}}function WP(t,e){return t.replace(qP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Y0(a)&&Y0(l)){if(!qs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Y0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GP(t,e){const n=new QP(t,e);return n.subscribe.bind(n)}class QP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wp),s.error===void 0&&(s.error=wp),s.complete===void 0&&(s.complete=wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1e3,JP=2,ZP=4*60*60*1e3,eR=.5;function X0(t,e=XP,n=JP){const r=e*Math.pow(n,t),s=Math.round(eR*r*(Math.random()-.5)*2);return Math.min(ZP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(t){return t===js?void 0:t}function rR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const sR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},oR=Me.INFO,aR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},lR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const uR=(t,e)=>e.some(n=>t instanceof n);let J0,Z0;function cR(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Gp=new WeakMap,wE=new WeakMap,Tp=new WeakMap,Qm=new WeakMap;function dR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Hi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_E.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function fR(t){if(Gp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Gp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pR(t){Qp=t(Qp)}function mR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ep(this),e,...n);return wE.set(r,e.sort?e.sort():[e]),Hi(r)}:hR().includes(t)?function(...e){return t.apply(Ep(this),e),Hi(_E.get(this))}:function(...e){return Hi(t.apply(Ep(this),e))}}function gR(t){return typeof t=="function"?mR(t):(t instanceof IDBTransaction&&fR(t),uR(t,cR())?new Proxy(t,Qp):t)}function Hi(t){if(t instanceof IDBRequest)return dR(t);if(Tp.has(t))return Tp.get(t);const e=gR(t);return e!==t&&(Tp.set(t,e),Qm.set(e,t)),e}const Ep=t=>Qm.get(t);function TE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Hi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hi(l.result),d.oldVersion,d.newVersion,Hi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Ip=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yR.includes(n)))return;const a=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return Ip.set(e,a),a}pR(t=>({...t,get:(e,n,r)=>e_(e,n)||t.get(e,n,r),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yp="@firebase/app",t_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new ad("@firebase/app"),TR="@firebase/app-compat",ER="@firebase/analytics-compat",IR="@firebase/analytics",SR="@firebase/app-check-compat",CR="@firebase/app-check",AR="@firebase/auth",xR="@firebase/auth-compat",PR="@firebase/database",RR="@firebase/data-connect",kR="@firebase/database-compat",bR="@firebase/functions",NR="@firebase/functions-compat",DR="@firebase/installations",VR="@firebase/installations-compat",LR="@firebase/messaging",OR="@firebase/messaging-compat",MR="@firebase/performance",jR="@firebase/performance-compat",FR="@firebase/remote-config",UR="@firebase/remote-config-compat",BR="@firebase/storage",zR="@firebase/storage-compat",$R="@firebase/firestore",HR="@firebase/vertexai",WR="@firebase/firestore-compat",qR="firebase",KR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",GR={[Yp]:"fire-core",[TR]:"fire-core-compat",[IR]:"fire-analytics",[ER]:"fire-analytics-compat",[CR]:"fire-app-check",[SR]:"fire-app-check-compat",[AR]:"fire-auth",[xR]:"fire-auth-compat",[PR]:"fire-rtdb",[RR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[bR]:"fire-fn",[NR]:"fire-fn-compat",[DR]:"fire-iid",[VR]:"fire-iid-compat",[LR]:"fire-fcm",[OR]:"fire-fcm-compat",[MR]:"fire-perf",[jR]:"fire-perf-compat",[FR]:"fire-rc",[UR]:"fire-rc-compat",[BR]:"fire-gcs",[zR]:"fire-gcs-compat",[$R]:"fire-fst",[WR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,QR=new Map,Jp=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(Jp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,t);for(const n of Ph.values())n_(n,t);for(const n of QR.values())n_(n,t);return!0}function Iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Zs("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=KR;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(n||(n=pE()),!n)throw Wi.create("no-options");const a=Ph.get(s);if(a){if(qs(n,a.options)&&qs(r,a.config))return a;throw Wi.create("duplicate-app",{appName:s})}const l=new iR(s);for(const d of Jp.values())l.addComponent(d);const h=new XR(n,r,l);return Ph.set(s,h),h}function IE(t=Xp){const e=Ph.get(t);if(!e&&t===Xp&&pE())return EE();if(!e)throw Wi.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let s=(r=GR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(h.join(" "));return}br(new ur(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",ZR=1,tu="firebase-heartbeat-store";let Sp=null;function SE(){return Sp||(Sp=TE(JR,ZR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function ek(t){try{const n=(await SE()).transaction(tu),r=await n.objectStore(tu).get(CE(t));return await n.done,r}catch(e){if(e instanceof dr)oi.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function r_(t,e){try{const r=(await SE()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,CE(t)),await r.done}catch(n){if(n instanceof dr)oi.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function CE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1024,nk=30;class rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>nk){const l=ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:r,unsentEntries:s}=ik(this._heartbeatsCache.heartbeats),a=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return oi.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function ik(t,e=tk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),s_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ek(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s_(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}function ok(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){br(new ur("platform-logger",e=>new _R(e),"PRIVATE")),br(new ur("heartbeat",e=>new rk(e),"PRIVATE")),zn(Yp,t_,t),zn(Yp,t_,"esm2017"),zn("fire-js","")}ak("");function Ym(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=AE,xE=new Zs("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new ad("@firebase/auth");function uk(t,...e){Rh.logLevel<=Me.WARN&&Rh.warn(`Auth (${Pa}): ${t}`,...e)}function fh(t,...e){Rh.logLevel<=Me.ERROR&&Rh.error(`Auth (${Pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Xm(t,...e)}function Cr(t,...e){return Xm(t,...e)}function PE(t,e,n){const r=Object.assign(Object.assign({},lk()),{[e]:n});return new Zs("auth","Firebase",r).create(e,{appName:t.name})}function qi(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xE.create(t,...e)}function Ae(t,e,...n){if(!t)throw Xm(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function ai(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ck(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ck()||gE()||"connection"in navigator)?navigator.onLine:!0}function dk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=MP()||UP()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Su(3e4,6e4);function eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,s={}){return kE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Eu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return FP()||(p.referrerPolicy="no-referrer"),RE.fetch()(bE(t,t.config.apiHost,n,h),p)})}async function kE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fk),e);try{const s=new gk(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw th(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw th(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw th(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw PE(t,g,p);cr(t,g)}}catch(s){if(s instanceof dr)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function ld(t,e,n,r,s={}){const a=await os(t,e,n,r,s);return"mfaPendingCredential"in a&&cr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Jm(t.config,s):`${t.config.apiScheme}://${s}`}function mk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),pk.get())})}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cr(t,e,r);return s.customData._tokenResponse=n,s}function a_(t){return t!==void 0&&t.enterprise!==void 0}class yk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(t,e){return os(t,"GET","/v2/recaptchaConfig",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function NE(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wk(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=Zm(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Wl(Cp(s.auth_time)),issuedAtTime:Wl(Cp(s.iat)),expirationTime:Wl(Cp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function Zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=dE(n);return s?JSON.parse(s):(fh("Failed to decode base64 JWT payload"),null)}catch(s){return fh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function l_(t){const e=Zm(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&Tk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await nu(t,NE(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?DE(a.providerUserInfo):[],h=Sk(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new em(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function Ik(t){const e=Rt(t);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DE(t){return t.map(e=>{var{providerId:n}=e,r=Ym(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,e){const n=await kE(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=bE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",RE.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ak(t,e){return os(t,"POST","/v2/accounts:revokeToken",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=l_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Ck(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new aa;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new em(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wk(this,e)}reload(){return Ik(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await nu(this,_k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,h,d,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:Q,isAnonymous:Y,providerData:Z,stsTokenManager:k}=n;Ae(F&&k,e,"internal-error");const C=aa.fromJSON(this.name,k);Ae(typeof F=="string",e,"internal-error"),Mi(_,e.name),Mi(E,e.name),Ae(typeof Q=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Mi(S,e.name),Mi(x,e.name),Mi(N,e.name),Mi(R,e.name),Mi(O,e.name),Mi(U,e.name);const P=new ti({uid:F,auth:e,email:E,emailVerified:Q,displayName:_,isAnonymous:Y,photoURL:x,phoneNumber:S,tenantId:N,stsTokenManager:C,createdAt:O,lastLoginAt:U});return Z&&Array.isArray(Z)&&(P.providerData=Z.map(V=>Object.assign({},V))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new aa;s.updateFromServerResponse(n);const a=new ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await kh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?DE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new aa;h.updateFromIdToken(r);const d=new ti({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new em(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function ni(t){ai(t instanceof Function,"Expected a class definition");let e=u_.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const c_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ph(this.userKey,s.apiKey,a),this.fullPersistenceKey=ph("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(ni(c_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ni(c_);const l=ph(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ti._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new la(a,e,r):(a=d[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new la(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(BE(e))return"Webos";if(OE(e))return"Safari";if((e.includes("chrome/")||ME(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LE(t=Jt()){return/firefox\//i.test(t)}function OE(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ME(t=Jt()){return/crios\//i.test(t)}function jE(t=Jt()){return/iemobile/i.test(t)}function FE(t=Jt()){return/android/i.test(t)}function UE(t=Jt()){return/blackberry/i.test(t)}function BE(t=Jt()){return/webos/i.test(t)}function eg(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xk(t=Jt()){var e;return eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pk(){return BP()&&document.documentMode===10}function zE(t=Jt()){return eg(t)||FE(t)||BE(t)||UE(t)||/windows phone/i.test(t)||jE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e=[]){let n;switch(t){case"Browser":n=h_(Jt());break;case"Worker":n=`${h_(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const d=e(a);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e={}){return os(t,"GET","/v2/passwordPolicy",eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=6;class Nk{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:bk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new Rk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await NE(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(qi(this));const n=e?Rt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kk(this),n=new Nk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ak(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ra(t){return Rt(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=GP(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vk(t){ud=t}function HE(t){return ud.loadJS(t)}function Lk(){return ud.recaptchaEnterpriseScript}function Ok(){return ud.gapiScript}function Mk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jk{constructor(){this.enterprise=new Fk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uk="recaptcha-enterprise",WE="NO_RECAPTCHA";class Bk{constructor(e){this.type=Uk,this.auth=Ra(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{vk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new yk(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function s(a,l,h){const d=window.grecaptcha;a_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(WE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jk().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&a_(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Lk();d.length!==0&&(d+=h),HE(d).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function f_(t,e,n,r=!1,s=!1){const a=new Bk(t);let l;if(s)l=WE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function p_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await f_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await f_(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){const n=Iu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(qs(a,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function $k(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hk(t,e,n){const r=Ra(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=qE(e),{host:l,port:h}=Wk(e),d=h===null?"":`:${h}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(qs(p,r.config.emulator)&&qs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,qk()}function qE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wk(t){const e=qE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:m_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:m_(l)}}}function m_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function Kk(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return ld(t,"POST","/v1/accounts:signInWithPassword",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}async function Yk(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends tg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,n,"signInWithPassword",Gk);case"emailLink":return Qk(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,r,"signUpPassword",Kk);case"emailLink":return Yk(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e){return ld(t,"POST","/v1/accounts:signInWithIdp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Ks extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Ym(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Ks(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ua(e,n)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zk(t){const e=Ol(Ml(t)).link,n=e?Ol(Ml(e)).deep_link_id:null,r=Ol(Ml(t)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||e||t}class ng{constructor(e){var n,r,s,a,l,h;const d=Ol(Ml(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=Jk((s=d.mode)!==null&&s!==void 0?s:null);Ae(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=Zk(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ng.parseLink(n);return Ae(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Cu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Cu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ti._fromIdTokenResponse(e,r,s),l=g_(r);return new da({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=g_(r);return new da({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function g_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends dr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bh(e,n,r,s)}}function GE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(t,a,e,r):a})}async function e2(t,e,n=!1){const r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(qi(r));const s="reauthenticate";try{const a=await nu(t,GE(r,s,e,t),n);Ae(a.idToken,r,"internal-error");const l=Zm(a.idToken);Ae(l,r,"internal-error");const{sub:h}=l;return Ae(t.uid===h,r,"user-mismatch"),da._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(t,e,n=!1){if(or(t.app))return Promise.reject(qi(t));const r="signIn",s=await GE(t,r,e),a=await da._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function n2(t,e){return QE(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function i2(t,e,n){return or(t.app)?Promise.reject(qi(t)):n2(Rt(t),ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r2(t),r})}function s2(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function o2(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function cd(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function a2(t){return Rt(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1e3,u2=10;class XE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Pk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,u2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const c2=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JE.type="SESSION";const ZE=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),d=await h2(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,d)=>{const p=rg("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function f2(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function p2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g2(){return e1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",y2=1,Dh="firebaseLocalStorage",n1="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function v2(){const t=indexedDB.deleteDatabase(t1);return new Au(t).toPromise()}function tm(){const t=indexedDB.open(t1,y2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dh,{keyPath:n1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await v2(),e(await tm()))})})}async function y_(t,e,n){const r=dd(t,!0).put({[n1]:e,value:n});return new Au(r).toPromise()}async function _2(t,e){const n=dd(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function v_(t,e){const n=dd(t,!0).delete(e);return new Au(n).toPromise()}const w2=800,T2=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(g2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await y_(e,Nh,"1"),await v_(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=dd(s,!1).getAll();return new Au(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const E2=r1;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){return e?ni(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S2(t){return QE(t.auth,new ig(t),t.bypassAuthState)}function C2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),t2(n,new ig(t),t.bypassAuthState)}async function A2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),e2(n,new ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:cr(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Su(2e3,1e4);class ea extends i1{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x2.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="pendingRedirect",mh=new Map;class R2 extends i1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(t,e){const n=D2(e),r=N2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function b2(t,e){mh.set(t._key(),e)}function N2(t){return ni(t._redirectPersistence)}function D2(t){return ph(P2,t.config.apiKey,t.name)}async function V2(t,e,n=!1){if(or(t.app))return Promise.reject(qi(t));const r=Ra(t),s=I2(r,e),l=await new R2(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=10*60*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function B2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j2(t);for(const n of e)try{if(z2(n))return}catch{}cr(t,"unauthorized-domain")}function z2(t){const e=Zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!U2.test(n))return!1;if(F2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Su(3e4,6e4);function w_(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H2(t){return new Promise((e,n)=>{var r,s,a;function l(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(Cr(t,"network-request-failed"))},timeout:$2.get()})}if(!((s=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ar().gapi)===null||a===void 0)&&a.load)l();else{const h=Mk("iframefcb");return Ar()[h]=()=>{gapi.load?l():n(Cr(t,"network-request-failed"))},HE(`${Ok()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw gh=null,e})}let gh=null;function W2(t){return gh=gh||H2(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Su(5e3,15e3),K2="__/auth/iframe",G2="emulator/auth/iframe",Q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,G2):`https://${t.config.authDomain}/${K2}`,r={apiKey:e.apiKey,appName:t.name,v:Pa},s=Y2.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Eu(r).slice(1)}`}async function J2(t){const e=await W2(t),n=Ar().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:X2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Cr(t,"network-request-failed"),h=Ar().setTimeout(()=>{a(l)},q2.get());function d(){Ar().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eb=500,tb=600,nb="_blank",rb="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ib(t,e,n,r=eb,s=tb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},Z2),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Jt().toLowerCase();n&&(h=ME(p)?nb:n),LE(p)&&(e=e||rb,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[S,x])=>`${E}${S}=${x},`,"");if(xk(p)&&h!=="_self")return sb(e||"",h),new T_(null);const _=window.open(e||"",h,g);Ae(_,t,"popup-blocked");try{_.focus()}catch{}return new T_(_)}function sb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__/auth/handler",ab="emulator/auth/handler",lb=encodeURIComponent("fac");async function E_(t,e,n,r,s,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pa,eventId:s};if(e instanceof KE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",KP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Cu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${lb}=${encodeURIComponent(d)}`:"";return`${ub(t)}?${Eu(h).slice(1)}${p}`}function ub({config:t}){return t.emulator?Jm(t,ab):`https://${t.authDomain}/${ob}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class cb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=V2,this._overrideRedirectResult=b2}async _openPopup(e,n,r,s){var a;ai((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await E_(e,n,r,Zp(),s);return ib(e,l,rg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await E_(e,n,r,Zp(),s);return f2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J2(e),r=new O2(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Ap];l!==void 0&&n(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||OE()||eg()}}const hb=cb;var I_="@firebase/auth",S_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pb(t){br(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},p=new Dk(r,s,a,d);return $k(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new ur("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new db(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(I_,S_,fb(t)),zn(I_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=5*60,gb=mE("authIdTokenMaxAge")||mb;let C_=null;const yb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gb)return;const s=n==null?void 0:n.token;C_!==s&&(C_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vb(t=IE()){const e=Iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zk(t,{popupRedirectResolver:hb,persistence:[E2,c2,ZE]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=yb(a.toString());o2(n,l,()=>l(n.currentUser)),s2(n,h=>l(h))}}const s=fE("auth");return s&&Hk(n,`http://${s}`),n}function _b(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Cr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",_b().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pb("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,o1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function P(){}P.prototype=C.prototype,k.D=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(V,j,z){for(var D=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)D[qe-2]=arguments[qe];return C.prototype[j].apply(V,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)V[j]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(j=0;16>j;++j)V[j]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],j=k.g[2];var z=k.g[3],D=C+(z^P&(j^z))+V[0]+3614090360&4294967295;C=P+(D<<7&4294967295|D>>>25),D=z+(j^C&(P^j))+V[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=j+(P^z&(C^P))+V[2]+606105819&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(C^j&(z^C))+V[3]+3250441966&4294967295,P=j+(D<<22&4294967295|D>>>10),D=C+(z^P&(j^z))+V[4]+4118548399&4294967295,C=P+(D<<7&4294967295|D>>>25),D=z+(j^C&(P^j))+V[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=j+(P^z&(C^P))+V[6]+2821735955&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(C^j&(z^C))+V[7]+4249261313&4294967295,P=j+(D<<22&4294967295|D>>>10),D=C+(z^P&(j^z))+V[8]+1770035416&4294967295,C=P+(D<<7&4294967295|D>>>25),D=z+(j^C&(P^j))+V[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=j+(P^z&(C^P))+V[10]+4294925233&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(C^j&(z^C))+V[11]+2304563134&4294967295,P=j+(D<<22&4294967295|D>>>10),D=C+(z^P&(j^z))+V[12]+1804603682&4294967295,C=P+(D<<7&4294967295|D>>>25),D=z+(j^C&(P^j))+V[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=j+(P^z&(C^P))+V[14]+2792965006&4294967295,j=z+(D<<17&4294967295|D>>>15),D=P+(C^j&(z^C))+V[15]+1236535329&4294967295,P=j+(D<<22&4294967295|D>>>10),D=C+(j^z&(P^j))+V[1]+4129170786&4294967295,C=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(C^P))+V[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=j+(C^P&(z^C))+V[11]+643717713&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^C&(j^z))+V[0]+3921069994&4294967295,P=j+(D<<20&4294967295|D>>>12),D=C+(j^z&(P^j))+V[5]+3593408605&4294967295,C=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(C^P))+V[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=j+(C^P&(z^C))+V[15]+3634488961&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^C&(j^z))+V[4]+3889429448&4294967295,P=j+(D<<20&4294967295|D>>>12),D=C+(j^z&(P^j))+V[9]+568446438&4294967295,C=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(C^P))+V[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=j+(C^P&(z^C))+V[3]+4107603335&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^C&(j^z))+V[8]+1163531501&4294967295,P=j+(D<<20&4294967295|D>>>12),D=C+(j^z&(P^j))+V[13]+2850285829&4294967295,C=P+(D<<5&4294967295|D>>>27),D=z+(P^j&(C^P))+V[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=j+(C^P&(z^C))+V[7]+1735328473&4294967295,j=z+(D<<14&4294967295|D>>>18),D=P+(z^C&(j^z))+V[12]+2368359562&4294967295,P=j+(D<<20&4294967295|D>>>12),D=C+(P^j^z)+V[5]+4294588738&4294967295,C=P+(D<<4&4294967295|D>>>28),D=z+(C^P^j)+V[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=j+(z^C^P)+V[11]+1839030562&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^C)+V[14]+4259657740&4294967295,P=j+(D<<23&4294967295|D>>>9),D=C+(P^j^z)+V[1]+2763975236&4294967295,C=P+(D<<4&4294967295|D>>>28),D=z+(C^P^j)+V[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=j+(z^C^P)+V[7]+4139469664&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^C)+V[10]+3200236656&4294967295,P=j+(D<<23&4294967295|D>>>9),D=C+(P^j^z)+V[13]+681279174&4294967295,C=P+(D<<4&4294967295|D>>>28),D=z+(C^P^j)+V[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=j+(z^C^P)+V[3]+3572445317&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^C)+V[6]+76029189&4294967295,P=j+(D<<23&4294967295|D>>>9),D=C+(P^j^z)+V[9]+3654602809&4294967295,C=P+(D<<4&4294967295|D>>>28),D=z+(C^P^j)+V[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=j+(z^C^P)+V[15]+530742520&4294967295,j=z+(D<<16&4294967295|D>>>16),D=P+(j^z^C)+V[2]+3299628645&4294967295,P=j+(D<<23&4294967295|D>>>9),D=C+(j^(P|~z))+V[0]+4096336452&4294967295,C=P+(D<<6&4294967295|D>>>26),D=z+(P^(C|~j))+V[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=j+(C^(z|~P))+V[14]+2878612391&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~C))+V[5]+4237533241&4294967295,P=j+(D<<21&4294967295|D>>>11),D=C+(j^(P|~z))+V[12]+1700485571&4294967295,C=P+(D<<6&4294967295|D>>>26),D=z+(P^(C|~j))+V[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=j+(C^(z|~P))+V[10]+4293915773&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~C))+V[1]+2240044497&4294967295,P=j+(D<<21&4294967295|D>>>11),D=C+(j^(P|~z))+V[8]+1873313359&4294967295,C=P+(D<<6&4294967295|D>>>26),D=z+(P^(C|~j))+V[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=j+(C^(z|~P))+V[6]+2734768916&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~C))+V[13]+1309151649&4294967295,P=j+(D<<21&4294967295|D>>>11),D=C+(j^(P|~z))+V[4]+4149444226&4294967295,C=P+(D<<6&4294967295|D>>>26),D=z+(P^(C|~j))+V[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=j+(C^(z|~P))+V[2]+718787259&4294967295,j=z+(D<<15&4294967295|D>>>17),D=P+(z^(j|~C))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var P=C-this.blockSize,V=this.B,j=this.h,z=0;z<C;){if(j==0)for(;z<=P;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<C;)if(V[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,V),j=0;break}}else for(;z<C;)if(V[j++]=k[z++],j==this.blockSize){s(this,V),j=0;break}}this.h=j,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var P=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=P&255,P/=256;for(this.u(k),k=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)k[P++]=this.g[C]>>>V&255;return k};function a(k,C){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function l(k,C){this.h=C;for(var P=[],V=!0,j=k.length-1;0<=j;j--){var z=k[j]|0;V&&z==C||(P[j]=z,V=!1)}this.g=P}var h={};function d(k){return-128<=k&&128>k?a(k,function(C){return new l([C|0],0>C?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return R(p(-k));for(var C=[],P=1,V=0;k>=P;V++)C[V]=k/P|0,P*=4294967296;return new l(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return R(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(C,8)),V=_,j=0;j<k.length;j+=8){var z=Math.min(8,k.length-j),D=parseInt(k.substring(j,j+z),C);8>z?(z=p(Math.pow(C,z)),V=V.j(z).add(p(D))):(V=V.j(P),V=V.add(p(D)))}return V}var _=d(0),E=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(N(this))return-R(this).m();for(var k=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);k+=(0<=V?V:4294967296+V)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(N(this))return"-"+R(this).toString(k);for(var C=p(Math.pow(k,6)),P=this,V="";;){var j=Q(P,C).g;P=O(P,j.j(C));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=j,x(P))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=O(this,k),N(k)?-1:x(k)?0:1};function R(k){for(var C=k.g.length,P=[],V=0;V<C;V++)P[V]=~k.g[V];return new l(P,~k.h).add(E)}t.abs=function(){return N(this)?R(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],V=0,j=0;j<=C;j++){var z=V+(this.i(j)&65535)+(k.i(j)&65535),D=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);V=D>>>16,z&=65535,D&=65535,P[j]=D<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function O(k,C){return k.add(R(C))}t.j=function(k){if(x(this)||x(k))return _;if(N(this))return N(k)?R(this).j(R(k)):R(R(this).j(k));if(N(k))return R(this.j(R(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var C=this.g.length+k.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<k.g.length;j++){var z=this.i(V)>>>16,D=this.i(V)&65535,qe=k.i(j)>>>16,tt=k.i(j)&65535;P[2*V+2*j]+=D*tt,U(P,2*V+2*j),P[2*V+2*j+1]+=z*tt,U(P,2*V+2*j+1),P[2*V+2*j+1]+=D*qe,U(P,2*V+2*j+1),P[2*V+2*j+2]+=z*qe,U(P,2*V+2*j+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new l(P,0)};function U(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function F(k,C){this.g=k,this.h=C}function Q(k,C){if(x(C))throw Error("division by zero");if(x(k))return new F(_,_);if(N(k))return C=Q(R(k),C),new F(R(C.g),R(C.h));if(N(C))return C=Q(k,R(C)),new F(R(C.g),C.h);if(30<k.g.length){if(N(k)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=C;0>=V.l(k);)P=Y(P),V=Y(V);var j=Z(P,1),z=Z(V,1);for(V=Z(V,2),P=Z(P,2);!x(V);){var D=z.add(V);0>=D.l(k)&&(j=j.add(P),z=D),V=Z(V,1),P=Z(P,1)}return C=O(k,j.j(C)),new F(j,C)}for(j=_;0<=k.l(C);){for(P=Math.max(1,Math.floor(k.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(P),D=z.j(C);N(D)||0<D.l(k);)P-=V,z=p(P),D=z.j(C);x(z)&&(z=E),j=j.add(z),k=O(k,D)}return new F(j,k)}t.A=function(k){return Q(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&k.i(V);return new l(P,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|k.i(V);return new l(P,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^k.i(V);return new l(P,this.h^k.h)};function Y(k){for(var C=k.g.length+1,P=[],V=0;V<C;V++)P[V]=k.i(V)<<1|k.i(V-1)>>>31;return new l(P,k.h)}function Z(k,C){var P=C>>5;C%=32;for(var V=k.g.length-P,j=[],z=0;z<V;z++)j[z]=0<C?k.i(z+P)>>>C|k.i(z+P+1)<<32-C:k.i(z+P);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ki=l}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,jl,l1,yh,nm,u1,c1,h1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in w))break e;w=w[H]}c=c[c.length-1],A=w[c],y=y(A),y!=A&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,A=!1,H={next:function(){if(!A&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function S(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(A,H,G){for(var le=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)le[Qe-2]=arguments[Qe];return y.prototype[H].apply(A,le)}}function N(c){const y=c.length;if(0<y){const w=Array(y);for(let A=0;A<y;A++)w[A]=c[A];return w}return[]}function R(c,y){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(d(A)){const H=c.length||0,G=A.length||0;c.length=H+G;for(let le=0;le<G;le++)c[H+le]=A[le]}else c.push(A)}}class O{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Z(c,y,w){for(const A in c)y.call(w,c[A],A,c)}function k(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let w,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(w in A)c[w]=A[w];for(let G=0;G<P.length;G++)w=P[G],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function j(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function z(c){h.setTimeout(()=>{throw c},0)}function D(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,w){const A=tt.get();A.set(y,w),this.h?this.h.next=A:this.g=A,this.h=A}}var tt=new O(()=>new Ke,c=>c.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let we,re=!1,ge=new qe,ue=()=>{const c=h.Promise.resolve(void 0);we=()=>{c.then($)}};var $=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(w){z(w)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function ee(c,y){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Y){e:{try{Q(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ee.aa.h.call(this)}}x(ee,ye);var fe={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),De=0;function oe(c,y,w,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!A,this.ha=H,this.key=++De,this.da=this.fa=!1}function Ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ye(c){this.src=c,this.g={},this.h=0}Ye.prototype.add=function(c,y,w,A,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var le=on(c,y,A,H);return-1<le?(y=c[le],w||(y.fa=!1)):(y=new oe(y,this.src,G,!!A,H),y.fa=w,c.push(y)),y};function Rn(c,y){var w=y.type;if(w in c.g){var A=c.g[w],H=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(A,H,1),G&&(Ve(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function on(c,y,w,A){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==A)return H}return-1}var an="closure_lm_"+(1e6*Math.random()|0),Or={};function di(c,y,w,A,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)di(c,y[G],w,A,H);return null}return w=Ua(w),c&&c[Te]?c.K(y,w,p(A)?!!A.capture:!1,H):ja(c,y,w,!1,A,H)}function ja(c,y,w,A,H,G){if(!y)throw Error("Invalid event type");var le=p(H)?!!H.capture:!!H,Qe=so(c);if(Qe||(c[an]=Qe=new Ye(c)),w=Qe.add(y,w,A,le,G),w.proxy)return w;if(A=Mu(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)Ne||(H=le),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(jr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mu(){function c(w){return y.call(c.src,c.listener,w)}const y=Fa;return c}function io(c,y,w,A,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)io(c,y[G],w,A,H);else A=p(A)?!!A.capture:!!A,w=Ua(w),c&&c[Te]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=on(G,w,A,H),-1<w&&(Ve(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=so(c))&&(y=c.g[y.toString()],c=-1,y&&(c=on(y,w,A,H)),(w=-1<c?y[c]:null)&&Mr(w))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Te])Rn(y.i,c);else{var w=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(w,A,c.capture):y.detachEvent?y.detachEvent(jr(w),A):y.addListener&&y.removeListener&&y.removeListener(A),(w=so(y))?(Rn(w,c),w.h==0&&(w.src=null,y[an]=null)):Ve(c)}}}function jr(c){return c in Or?Or[c]:Or[c]="on"+c}function Fa(c,y){if(c.da)c=!0;else{y=new ee(y,this);var w=c.listener,A=c.ha||c.src;c.fa&&Mr(c),c=w.call(A,y)}return c}function so(c){return c=c[an],c instanceof Ye?c:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ua(c){return typeof c=="function"?c:(c[oo]||(c[oo]=function(y){return c.handleEvent(y)}),c[oo])}function Tt(){X.call(this),this.i=new Ye(this),this.M=this,this.F=null}x(Tt,X),Tt.prototype[Te]=!0,Tt.prototype.removeEventListener=function(c,y,w,A){io(this,c,y,w,A)};function Et(c,y){var w,A=c.F;if(A)for(w=[];A;A=A.F)w.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ye(y,c);else if(y instanceof ye)y.target=y.target||c;else{var H=y;y=new ye(A,c),V(y,H)}if(H=!0,w)for(var G=w.length-1;0<=G;G--){var le=y.g=w[G];H=Fr(le,A,!0,y)&&H}if(le=y.g=c,H=Fr(le,A,!0,y)&&H,H=Fr(le,A,!1,y)&&H,w)for(G=0;G<w.length;G++)le=y.g=w[G],H=Fr(le,A,!1,y)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],A=0;A<w.length;A++)Ve(w[A]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,w,A){return this.i.add(String(c),y,!1,w,A)},Tt.prototype.L=function(c,y,w,A){return this.i.add(String(c),y,!0,w,A)};function Fr(c,y,w,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var le=y[G];if(le&&!le.da&&le.capture==w){var Qe=le.listener,It=le.ha||le.src;le.fa&&Rn(c.i,le),H=Qe.call(It,A)!==!1&&H}}return H&&!A.defaultPrevented}function Ba(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function fi(c){c.g=Ba(()=>{c.g=null,c.i&&(c.i=!1,fi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cs extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){X.call(this),this.h=c,this.g={}}x(hs,X);var za=[];function $a(c){Z(c.g,function(y,w){this.g.hasOwnProperty(w)&&Mr(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),$a(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ha=h.JSON.stringify,Wa=h.JSON.parse,qa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ds(){}ds.prototype.h=null;function ao(c){return c.h||(c.h=c.i())}function lo(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){ye.call(this,"d")}x(fr,ye);function uo(){ye.call(this,"c")}x(uo,ye);var pr={},Ka=null;function fs(){return Ka=Ka||new Tt}pr.La="serverreachability";function Ga(c){ye.call(this,pr.La,c)}x(Ga,ye);function Ur(c){const y=fs();Et(y,new Ga(y))}pr.STAT_EVENT="statevent";function Qa(c,y){ye.call(this,pr.STAT_EVENT,c),this.stat=y}x(Qa,ye);function pt(c){const y=fs();Et(y,new Qa(y,c))}pr.Ma="timingevent";function co(c,y){ye.call(this,pr.Ma,c),this.size=y}x(co,ye);function Hn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function ms(c,y,w,A,H,G){c.info(function(){if(c.g)if(G)for(var le="",Qe=G.split("&"),It=0;It<Qe.length;It++){var Be=Qe[It].split("=");if(1<Be.length){var kt=Be[0];Be=Be[1];var vt=kt.split("_");le=2<=vt.length&&vt[1]=="type"?le+(kt+"="+Be+"&"):le+(kt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+w+`
`+le})}function ho(c,y,w,A,H,G,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+w+`
`+G+" "+le})}function Wn(c,y,w,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ud(c,w)+(A?" "+A:"")})}function Ya(c,y){c.info(function(){return"TIMEOUT: "+y})}ps.prototype.info=function(){};function Ud(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var A=w[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return Ha(w)}catch{return y}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ju={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function gs(){}x(gs,ds),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},qn=new gs;function Kn(c,y,w,A){this.j=c,this.i=y,this.l=w,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}var Xa={},po={};function mo(c,y,w){c.L=1,c.v=vi(wn(y)),c.m=w,c.P=!0,Ja(c,null)}function Ja(c,y){c.F=Date.now(),Je(c),c.A=wn(c.v);var w=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),wi(w.i,"t",A),c.C=0,w=c.j.J,c.h=new Fu,c.g=rc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new cs(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(za[0]=H.toString()),H=za);for(var G=0;G<H.length;G++){var le=di(w,H[G],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ur(),ms(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const y=this.M;y&&un(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=un(this.g);var y=this.g.Ba();const Dn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||il(this.g)))){this.J||vt!=4||y==7||(y==8||0>=Dn?Ur(3):Ur(2)),ys(this);var w=this.g.Z();this.X=w;t:if(Uu(this)){var A=il(this.g);c="";var H=A.length,G=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),pi(this);var le="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(G&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,ho(this.i,this.u,this.A,this.l,this.R,vt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,It=this.g;if((Qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Qe)){var Be=Qe;break t}}Be=null}if(w=Be)Wn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,w);else{this.o=!1,this.s=3,pt(12),bn(this),pi(this);break e}}if(this.P){w=!0;let En;for(;!this.J&&this.C<le.length;)if(En=Bd(this,le),En==po){vt==4&&(this.s=4,pt(14),w=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Xa){this.s=4,pt(15),Wn(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else Wn(this.i,this.l,En,null),Za(this,En);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||le.length!=0||this.h.h||(this.s=1,pt(16),w=!1),this.o=this.o&&w,!w)Wn(this.i,this.l,le,"[Invalid Chunked Response]"),bn(this),pi(this);else if(0<le.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ol(kt),kt.M=!0,pt(11))}}else Wn(this.i,this.l,le,null),Za(this,le);vt==4&&bn(this),this.o&&!this.J&&(vt==4?Ao(this.j,this):(this.o=!1,Je(this)))}else To(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),bn(this),pi(this)}}}catch{}finally{}};function Uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bd(c,y){var w=c.C,A=y.indexOf(`
`,w);return A==-1?po:(w=Number(y.substring(w,A)),isNaN(w)?Xa:(A+=1,A+w>y.length?po:(y=y.slice(A,A+w),c.C=A+w,y)))}Kn.prototype.cancel=function(){this.J=!0,bn(this)};function Je(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hn(E(c.ba,c),y)}function ys(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ya(this.i,this.A),this.L!=2&&(Ur(),pt(17)),bn(this),this.s=2,pi(this)):Bu(this,this.S-c)};function pi(c){c.j.G==0||c.J||Ao(c.j,c)}function bn(c){ys(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$a(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Za(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var A=w.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Co(w),Jn(w);else break e;So(w),pt(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=Hn(E(w.Za,w),6e3));if(1>=$u(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wr(w,11)}else if((c.K||w.g==c)&&Co(w),!U(y))for(H=w.Da.g.parse(y),y=0;y<H.length;y++){let Be=H[y];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const kt=Be[3];kt!=null&&(w.la=kt,w.j.info("VER="+w.la));const vt=Be[4];vt!=null&&(w.Aa=vt,w.j.info("SVER="+w.Aa));const Dn=Be[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(A=1.5*Dn,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const En=c.g;if(En){const Ss=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var G=A.h;G.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(el(G,G.h),G.h=null))}if(A.D){const Po=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Xe(A.I,A.D,Po))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var le=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),le.K){Hu(A.h,le);var Qe=le,It=A.L;It&&(Qe.I=It),Qe.B&&(ys(Qe),Je(Qe)),A.g=le}else Is(A);0<w.i.length&&vr(w)}else Be[0]!="stop"&&Be[0]!="close"||Wr(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Wr(w,7):Ot(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}Ur(4)}catch{}}var zu=class{constructor(c,y){this.g=c,this.map=y}};function vs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $u(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function el(c,y){c.g?c.g.add(y):c.h=y}function Hu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}vs.prototype.cancel=function(){if(this.i=Wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return N(c.i)}function go(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],w=c.length,A=0;A<w;A++)y.push(c[A]);return y}y=[],w=0;for(A in c)y[w++]=c[A];return y}function yo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const A in c)y[w++]=A;return y}}}function mi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=yo(c),A=go(c),H=A.length,G=0;G<H;G++)y.call(void 0,A[G],w&&w[G],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var A=c[w].indexOf("="),H=null;if(0<=A){var G=c[w].substring(0,A);H=c[w].substring(A+1)}else G=c[w];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Br(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Br){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var y=c.i,w=new mr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),yi(this,w),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,ws(this,y[1]||"",!0),this.o=Fe(y[2]||""),this.g=Fe(y[3]||"",!0),gi(this,y[4]),this.l=Fe(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=Fe(y[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}Br.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_i(y,vo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_i(y,vo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(_i(w,w.charAt(0)=="/"?Gu:Ku,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",_i(w,tl)),c.join("")};function wn(c){return new Br(c)}function ws(c,y,w){c.j=w?Fe(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,w){y instanceof mr?(c.i=y,gr(c.i,c.h)):(w||(y=_i(y,Qu)),c.i=new mr(y,c.h))}function Xe(c,y,w){c.i.set(y,w)}function vi(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fe(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,qu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,Ku=/[#\?:]/g,Gu=/[#\?]/g,Qu=/[#\?@]/g,tl=/#/g;function mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&zd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=mr.prototype,t.add=function(c,y){Lt(this),this.i=null,c=Nn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Gn(c,y){Lt(c),y=Nn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qn(c,y){return Lt(c),y=Nn(c,y),c.g.has(y)}t.forEach=function(c,y){Lt(this),this.g.forEach(function(w,A){w.forEach(function(H){c.call(y,H,A,this)},this)},this)},t.na=function(){Lt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let A=0;A<y.length;A++){const H=c[A];for(let G=0;G<H.length;G++)w.push(y[A])}return w},t.V=function(c){Lt(this);let y=[];if(typeof c=="string")Qn(this,c)&&(y=y.concat(this.g.get(Nn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Lt(this),this.i=null,c=Nn(this,c),Qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function wi(c,y,w){Gn(c,y),0<w.length&&(c.i=null,c.g.set(Nn(c,y),N(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var A=y[w];const G=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var H=G;le[A]!==""&&(H+="="+encodeURIComponent(String(le[A]))),c.push(H)}}return this.i=c.join("&")};function Nn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gr(c,y){y&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(w,A){var H=A.toLowerCase();A!=H&&(Gn(this,A),wi(this,H,w))},c)),c.j=y}function $d(c,y){const w=new ps;if(h.Image){const A=new Image;A.onload=S(ln,w,"TestLoadImage: loaded",!0,y,A),A.onerror=S(ln,w,"TestLoadImage: error",!1,y,A),A.onabort=S(ln,w,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(ln,w,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yu(c,y){const w=new ps,A=new AbortController,H=setTimeout(()=>{A.abort(),ln(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(H),G.ok?ln(w,"TestPingServer: ok",!0,y):ln(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),ln(w,"TestPingServer: error",!1,y)})}function ln(c,y,w,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(w)}catch{}}function Hd(){this.g=new qa}function Xu(c,y,w){const A=w||"";try{mi(c,function(H,G){let le=H;p(H)&&(le=Ha(H)),y.push(A+G+"="+encodeURIComponent(le))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function zr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(zr,ds),zr.prototype.g=function(){return new Ts(this.l,this.j)},zr.prototype.i=function(c){return function(){return c}}({});function Ts(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ts,Tt),t=Ts.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ju(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ju(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yn(this):Xn(this),this.readyState==3&&Ju(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $r(c){let y="";return Z(c,function(w,A){y+=A,y+=":",y+=w,y+=`\r
`}),y}function Ti(c,y,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=$r(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Xe(c,y,w))}function it(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,Tt);var Wd=/^https?$/i,nl=["POST","PUT"];t=it.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ao(this.o):ao(qn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Es(this,G);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)w.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())w.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(nl,y,void 0))||A||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of w)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Es(this,G)}};function Es(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_o(c),Tn(c)}function _o(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Tn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rl(this):this.bb())},t.bb=function(){rl(this)};function rl(c){if(c.h&&typeof l<"u"&&(!c.v[1]||un(c)!=4||c.Z()!=2)){if(c.u&&un(c)==4)Ba(c.Ea,0,c);else if(Et(c,"readystatechange"),un(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var A;if(A=le===0){var H=String(c.D).match(_s)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),A=!Wd.test(H?H.toLowerCase():"")}w=A}if(w)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var G=2<un(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",_o(c)}}finally{Tn(c)}}}}function Tn(c,y){if(c.g){wo(c);const w=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Et(c,"ready");try{w.onreadystatechange=A}catch{}}}function wo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wa(y)}};function il(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function To(c){const y={};c=(c.g&&2<=un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(U(c[A]))continue;var w=j(c[A]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[H]||[];y[H]=G,G.push(w)}k(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function sl(c){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,c),this.cb=yr("retryDelaySeedMs",1e4,c),this.Wa=yr("forwardChannelMaxRetries",2,c),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(c&&c.concurrentRequestLimit),this.Da=new Hd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,A){pt(0),this.W=c,this.H=y||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),vr(this)};function Ot(c){if(Eo(c),c.G==3){var y=c.U++,w=wn(c.I);if(Xe(w,"SID",c.K),Xe(w,"RID",y),Xe(w,"TYPE","terminate"),Hr(c,w),y=new Kn(c,c.j,y),y.L=2,y.v=vi(wn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}tc(c)}function Jn(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Eo(c){Jn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Co(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function vr(c){if(!_n(c.h)&&!c.s){c.s=!0;var y=c.Ga;we||ue(),re||(we(),re=!0),ge.add(y,c),c.B=0}}function qd(c,y){return $u(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hn(E(c.Ga,c,y),ec(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Kn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ei(this,H,y),w=wn(this.I),Xe(w,"RID",c),Xe(w,"CVER",22),this.D&&Xe(w,"X-HTTP-Session-Id",this.D),Hr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String($r(G)))+"&"+y:this.m&&Ti(w,this.m,G)),el(this.h,H),this.Ua&&Xe(w,"TYPE","init"),this.P?(Xe(w,"$req",y),Xe(w,"SID","null"),H.T=!0,mo(H,w,null)):mo(H,w,y),this.G=2}}else this.G==3&&(c?Io(this,c):this.i.length==0||_n(this.h)||Io(this))};function Io(c,y){var w;y?w=y.l:w=c.U++;const A=wn(c.I);Xe(A,"SID",c.K),Xe(A,"RID",w),Xe(A,"AID",c.T),Hr(c,A),c.m&&c.o&&Ti(A,c.m,c.o),w=new Kn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ei(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),el(c.h,w),mo(w,A,y)}function Hr(c,y){c.H&&Z(c.H,function(w,A){Xe(y,A,w)}),c.l&&mi({},function(w,A){Xe(y,A,w)})}function Ei(c,y,w){w=Math.min(c.i.length,w);var A=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const le=["count="+w];G==-1?0<w?(G=H[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Qe=!0;for(let It=0;It<w;It++){let Be=H[It].g;const kt=H[It].map;if(Be-=G,0>Be)G=Math.max(0,H[It].g-100),Qe=!1;else try{Xu(kt,le,"req"+Be+"_")}catch{A&&A(kt)}}if(Qe){A=le.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,A}function Is(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;we||ue(),re||(we(),re=!0),ge.add(y,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hn(E(c.Fa,c),ec(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Jn(this),Zu(this))};function ol(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Hr(c,y),c.m&&c.o&&Ti(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=vi(wn(y)),w.m=null,w.P=!0,Ja(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Jn(this),So(this),pt(19))};function Co(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ao(c,y){var w=null;if(c.g==y){Co(c),ol(c),c.g=null;var A=2}else if(Zt(c.h,y))w=y.D,Hu(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=fs(),Et(A,new co(A,w)),vr(c)}else Is(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&qd(c,y)||A==2&&So(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),H){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function ec(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),A=c.Xa;const H=!A;A=new Br(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ws(A,"https"),vi(A),H?$d(A.toString(),w):Yu(A.toString(),w)}else pt(2);c.G=0,c.l&&c.l.sa(y),tc(c),Eo(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function tc(c){if(c.G=0,c.ka=[],c.l){const y=Wu(c.h);(y.length!=0||c.i.length!=0)&&(R(c.ka,y),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,w){var A=w instanceof Br?wn(w):new Br(w);if(A.g!="")y&&(A.g=y+"."+A.g),gi(A,A.s);else{var H=h.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new Br(null);A&&ws(G,A),y&&(G.g=y),H&&gi(G,H),w&&(G.l=w),A=G}return w=c.D,y=c.ya,w&&y&&Xe(A,w,y),Xe(A,"VER",c.la),Hr(c,A),A}function rc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new it(new zr({eb:w})):new it(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function al(){}t=al.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xo(){}xo.prototype.g=function(c,y){return new en(c,y)};function en(c,y){Tt.call(this),this.g=new sl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!U(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _r(this)}x(en,Tt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ot(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ha(c),c=w);y.i.push(new zu(y.Ya++,c)),y.G==3&&vr(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,en.aa.N.call(this)};function ic(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(ic,fr);function sc(){uo.call(this),this.status=1}x(sc,uo);function _r(c){this.g=c}x(_r,al),_r.prototype.ua=function(){Et(this.g,"a")},_r.prototype.ta=function(c){Et(this.g,new ic(c))},_r.prototype.sa=function(c){Et(this.g,new sc)},_r.prototype.ra=function(){Et(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,h1=function(){return new xo},c1=function(){return fs()},u1=pr,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,yh=fo,ju.COMPLETE="complete",l1=ju,lo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,jl=lo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,a1=it}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",P_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new ad("@firebase/firestore");function Yo(){return Gs.logLevel}function he(t,...e){if(Gs.logLevel<=Me.DEBUG){const n=e.map(sg);Gs.debug(`Firestore (${ba}): ${t}`,...n)}}function li(t,...e){if(Gs.logLevel<=Me.ERROR){const n=e.map(sg);Gs.error(`Firestore (${ba}): ${t}`,...n)}}function fa(t,...e){if(Gs.logLevel<=Me.WARN){const n=e.map(sg);Gs.warn(`Firestore (${ba}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ge(t,e){t||xe()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Tb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Eb{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $s,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $s)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new d1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Qt(e)}}class Ib{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Sb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ib(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cb{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,or(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new R_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Ab(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,b_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*b_);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k_)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new xt(0,0))}static max(){return new ke(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class Sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Sr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Sr.isNumericId(e),s=Sr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class ot extends Sr{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Sr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return xb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Bt([N_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ot.fromString(e))}static fromName(e){return new Se(ot.fromString(e).popFirst(5))}static empty(){return new Se(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function Pb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Xi(s,Se.empty(),e)}function Rb(t){return new Xi(t.readTime,t.key,iu)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(ke.min(),Se.empty(),iu)}static max(){return new Xi(ke.max(),Se.empty(),iu)}}function kb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==bb)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new J((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function Db(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function pd(t){return t==null}function Vh(t){return t===0&&1/t==-1/0}function Vb(t){return typeof t=="number"&&Number.isInteger(t)&&!Vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="";function Lb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D_(e)),e=Ob(t.get(n),e);return D_(e)}function Ob(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case p1:n+="";break;default:n+=a}}return n}function D_(t){return t+p1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Pt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new g1("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=Mb.exec(t);if(Ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="server_timestamp",v1="__type__",_1="__previous_value__",w1="__local_write_time__";function ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[v1])===null||n===void 0?void 0:n.stringValue)===y1}function md(t){const e=t.mapValue.fields[_1];return ag(e)?md(e):e}function su(t){const e=Ji(t.mapValue.fields[w1].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,s,a,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Lh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",Fb="__max__",ih={mapValue:{}},E1="__vector__",Oh="value";function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:Bb(t)?9007199254740991:Ub(t)?10:11:xe()}function Nr(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ji(s.timestampValue),h=Ji(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return yt(s.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yt(s.integerValue)===yt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=yt(s.doubleValue),h=yt(a.doubleValue);return l===h?Vh(l)===Vh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(V_(l)!==V_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!Nr(l[d],h[d])))return!1;return!0}(t,e);default:return xe()}}function au(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=yt(a.integerValue||a.doubleValue),d=yt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return O_(t.timestampValue,e.timestampValue);case 4:return O_(su(t),su(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(a,l){const h=Zi(a),d=Zi(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=Ue(h[p],d[p]);if(g!==0)return g}return Ue(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Ue(yt(a.latitude),yt(l.latitude));return h!==0?h:Ue(yt(a.longitude),yt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return M_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var h,d,p,g;const _=a.fields||{},E=l.fields||{},S=(h=_[Oh])===null||h===void 0?void 0:h.arrayValue,x=(d=E[Oh])===null||d===void 0?void 0:d.arrayValue,N=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:M_(S,x)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===ih.mapValue&&l===ih.mapValue)return 0;if(a===ih.mapValue)return 1;if(l===ih.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const E=Ue(d[_],g[_]);if(E!==0)return E;const S=ma(h[d[_]],p[g[_]]);if(S!==0)return S}return Ue(d.length,g.length)}(t.mapValue,e.mapValue);default:throw xe()}}function O_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ji(t),r=Ji(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function M_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=ma(n[s],r[s]);if(a)return a}return Ue(n.length,r.length)}function ga(t){return rm(t)}function rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=rm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${rm(n.fields[l])}`;return s+"}"}(t.mapValue):xe()}function vh(t){switch(es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return Zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+vh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return as(r.fields,(a,l)=>{s+=a.length+vh(l)}),s}(t.mapValue);default:throw xe()}}function im(t){return!!t&&"integerValue"in t}function lg(t){return!!t&&"arrayValue"in t}function j_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function Ub(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||n===void 0?void 0:n.stringValue)===E1}function ql(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Bt.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=ql(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){as(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new yn(ql(this.value))}}function I1(t){const e=[];return as(t.fields,(n,r)=>{const s=new Bt([n]);if(_h(r)){const a=I1(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,ke.min(),ke.min(),ke.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,ke.min(),ke.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,ke.min(),ke.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function U_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=ma(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function B_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function zb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class At extends S1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hb(e,n,r):n==="array-contains"?new Kb(e,r):n==="in"?new Gb(e,r):n==="not-in"?new Qb(e,r):n==="array-contains-any"?new Yb(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wb(e,r):new qb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends S1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dr(e,n)}matches(e){return C1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function C1(t){return t.op==="and"}function A1(t){return $b(t)&&C1(t)}function $b(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function sm(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(A1(t))return t.filters.map(e=>sm(e)).join(",");{const e=t.filters.map(n=>sm(n)).join(",");return`${t.op}(${e})`}}function x1(t,e){return t instanceof At?function(r,s){return s instanceof At&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)}(t,e):t instanceof Dr?function(r,s){return s instanceof Dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&x1(l,s.filters[h]),!0):!1}(t,e):void xe()}function P1(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(P1).join(" ,")+"}"}(t):"Filter"}class Hb extends At{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wb extends At{constructor(e,n){super(e,"in",n),this.keys=R1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qb extends At{constructor(e,n){super(e,"not-in",n),this.keys=R1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Kb extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&au(n.arrayValue,this.value)}}class Gb extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class Qb extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class Yb extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.le=null}}function z_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new Xb(t,e,n,r,s,a,l)}function ug(t){const e=be(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),e.le=n}return e.le}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B_(t.startAt,e.startAt)&&B_(t.endAt,e.endAt)}function om(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Jb(t,e,n,r,s,a,l,h){return new gd(t,e,n,r,s,a,l,h)}function hg(t){return new gd(t)}function $_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zb(t){return t.collectionGroup!==null}function Kl(t){const e=be(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Pt(Bt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new jh(a,r))}),n.has(Bt.keyField().canonicalString())||e.he.push(new jh(Bt.keyField(),r))}return e.he}function xr(t){const e=be(t);return e.Pe||(e.Pe=eN(e,Kl(t))),e.Pe}function eN(t,e){if(t.limitType==="F")return z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new jh(s.field,a)});const n=t.endAt?new Mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mh(t.startAt.position,t.startAt.inclusive):null;return z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function am(t,e,n){return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return cg(xr(t),xr(e))&&t.limitType===e.limitType}function k1(t){return`${ug(xr(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>P1(s)).join(", ")}]`),pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ga(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Kl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,d){const p=U_(l,h,d);return l.inclusive?p<=0:p<0}(r.startAt,Kl(r),s)||r.endAt&&!function(l,h,d){const p=U_(l,h,d);return l.inclusive?p>=0:p>0}(r.endAt,Kl(r),s))}(t,e)}function tN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b1(t){return(e,n)=>{let r=!1;for(const s of Kl(t)){const a=nN(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function nN(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(a,l,h){const d=l.data.field(a),p=h.data.field(a);return d!==null&&p!==null?ma(d,p):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new ht(Se.comparator);function ui(){return rN}const N1=new ht(Se.comparator);function Fl(...t){let e=N1;for(const n of t)e=e.insert(n.key,n);return e}function D1(t){let e=N1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return Gl()}function V1(){return Gl()}function Gl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const iN=new ht(Se.comparator),sN=new Pt(Se.comparator);function je(...t){let e=sN;for(const n of t)e=e.add(n);return e}const oN=new Pt(Ue);function aN(){return oN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function L1(t){return{integerValue:""+t}}function lN(t,e){return Vb(e)?L1(e):dg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function uN(t,e,n){return t instanceof Fh?function(s,a){const l={fields:{[v1]:{stringValue:y1},[w1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ag(a)&&(a=md(a)),a&&(l.fields[_1]=a),{mapValue:l}}(n,e):t instanceof lu?M1(t,e):t instanceof uu?j1(t,e):function(s,a){const l=O1(s,a),h=H_(l)+H_(s.Ie);return im(l)&&im(s.Ie)?L1(h):dg(s.serializer,h)}(t,e)}function cN(t,e,n){return t instanceof lu?M1(t,e):t instanceof uu?j1(t,e):n}function O1(t,e){return t instanceof Uh?function(r){return im(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Fh extends _d{}class lu extends _d{constructor(e){super(),this.elements=e}}function M1(t,e){const n=F1(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends _d{constructor(e){super(),this.elements=e}}function j1(t,e){let n=F1(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class Uh extends _d{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function H_(t){return yt(t.integerValue||t.doubleValue)}function F1(t){return lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lu&&s instanceof lu||r instanceof uu&&s instanceof uu?pa(r.elements,s.elements,Nr):r instanceof Uh&&s instanceof Uh?Nr(r.Ie,s.Ie):r instanceof Fh&&s instanceof Fh}(t.transform,e.transform)}class dN{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function U1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fg(t.key,ar.none()):new xu(t.key,t.data,ar.none());{const n=t.data,r=yn.empty();let s=new Pt(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ls(t.key,r,new An(s.toArray()),ar.none())}}function fN(t,e,n){t instanceof xu?function(s,a,l){const h=s.value.clone(),d=q_(s.fieldTransforms,a,l.transformResults);h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,a,l){if(!wh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=q_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(B1(s)),d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof xu?function(a,l,h,d){if(!wh(a.precondition,l))return h;const p=a.value.clone(),g=K_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(a,l,h,d){if(!wh(a.precondition,l))return h;const p=K_(a.fieldTransforms,d,l),g=l.data;return g.setAll(B1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return wh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function pN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=O1(r.transform,s||null);a!=null&&(n===null&&(n=yn.empty()),n.set(r.field,a))}return n||null}function W_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pa(r,s,(a,l)=>hN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends wd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends wd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function B1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q_(t,e,n){const r=new Map;Ge(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,cN(l,h,n[s]))}return r}function K_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,uN(a,l,e))}return r}class fg extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&fN(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const d=U1(l,h);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,r)=>W_(n,r))&&pa(this.baseMutations,e.baseMutations,(n,r)=>W_(n,r))}}class pg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length);let s=function(){return iN}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new pg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ze;function _N(t){switch(t){case ie.OK:return xe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe()}}function z1(t){if(t===void 0)return li("GRPC error has no .code"),ie.UNKNOWN;switch(t){case wt.OK:return ie.OK;case wt.CANCELLED:return ie.CANCELLED;case wt.UNKNOWN:return ie.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ie.INTERNAL;case wt.UNAVAILABLE:return ie.UNAVAILABLE;case wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case wt.NOT_FOUND:return ie.NOT_FOUND;case wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case wt.ABORTED:return ie.ABORTED;case wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case wt.DATA_LOSS:return ie.DATA_LOSS;default:return xe()}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Ki([4294967295,4294967295],0);function G_(t){const e=wN().encode(t),n=new o1;return n.update(e),new Uint8Array(n.digest())}function Q_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ki([n,r],0),new Ki([s,a],0)]}class mg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ki.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Ki.fromNumber(r)));return s.compare(TN)===1&&(s=new Ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=G_(e),[r,s]=Q_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new mg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ee===0)return;const n=G_(e),[r,s]=Q_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(ke.min(),s,new ht(Ue),ui(),je())}}class Pu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class $1{constructor(e,n){this.targetId=e,this.ge=n}}class H1{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Y_{constructor(){this.pe=0,this.ye=X_(),this.we=zt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=je(),n=je(),r=je();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe()}}),new Pu(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=X_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class EN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=sh(),this.Ke=sh(),this.Ue=new ht(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(om(a))if(r===0){const l=new Se(a.path);this.ze(n,l,Yt.newNoDocument(l,ke.min()))}else Ge(r===1);else{const l=this.et(n);if(l!==r){const h=this.tt(e),d=h?this.nt(h,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=Zi(r).toUint8Array()}catch(d){if(d instanceof g1)return fa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new mg(l,s,a)}catch(d){return fa(d instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const h=this.Xe(l);if(h){if(a.current&&om(h.target)){const d=new Se(h.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Yt.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=je();this.Ke.forEach((a,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Td(e,n,this.Ue,this.Qe,r);return this.Qe=ui(),this.$e=sh(),this.Ke=sh(),this.Ue=new ht(Ue),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Y_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Pt(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Pt(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Y_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ht(Se.comparator)}function X_(){return new ht(Se.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},SN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class AN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||pd(e)?e:{value:e}}function Bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xN(t,e){return Bh(t,e.toTimestamp())}function Pr(t){return Ge(!!t),ke.fromTimestamp(function(n){const r=Ji(n);return new xt(r.seconds,r.nanos)}(t))}function gg(t,e){return um(t,e).canonicalString()}function um(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q1(t){const e=ot.fromString(t);return Ge(X1(e)),e}function cm(t,e){return gg(t.databaseId,e.path)}function xp(t,e){const n=q1(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(G1(n))}function K1(t,e){return gg(t.databaseId,e)}function PN(t){const e=q1(t);return e.length===4?ot.emptyPath():G1(e)}function hm(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G1(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function J_(t,e,n){return{name:cm(t,e),fields:n.value.mapValue.fields}}function RN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ge(g===void 0||typeof g=="string"),zt.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array),zt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?ie.UNKNOWN:z1(p.code);return new _e(g,p.message||"")}(l);n=new H1(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xp(t,r.document.name),a=Pr(r.document.updateTime),l=r.document.createTime?Pr(r.document.createTime):ke.min(),h=new yn({mapValue:{fields:r.document.fields}}),d=Yt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Th(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xp(t,r.document),a=r.readTime?Pr(r.readTime):ke.min(),l=Yt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new Th([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xp(t,r.document),a=r.removedTargetIds||[];n=new Th([],a,s,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new vN(s,a),h=r.targetId;n=new $1(h,l)}}return n}function kN(t,e){let n;if(e instanceof xu)n={update:J_(t,e.key,e.value)};else if(e instanceof fg)n={delete:cm(t,e.key)};else if(e instanceof ls)n={update:J_(t,e.key,e.data),updateMask:FN(e.fieldMask)};else{if(!(e instanceof mN))return xe();n={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uh)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:xN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()}(t,e.precondition)),n}function bN(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Pr(s.updateTime):Pr(a);return l.isEqual(ke.min())&&(l=Pr(a)),new dN(l,s.transformResults||[])}(n,e))):[]}function NN(t,e){return{documents:[K1(t,e.path)]}}function DN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K1(t,s);const a=function(p){if(p.length!==0)return Y1(Dr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Jo(E.field),direction:ON(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=lm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function VN(t){let e=PN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=Q1(_);return E instanceof Dr&&A1(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(x){return new jh(Zo(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,pd(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,S=_.values||[];return new Mh(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,S=_.values||[];return new Mh(S,E)}(n.endAt)),Jb(e,s,l,a,h,"F",d,p)}function LN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Q1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(n.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zo(n.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return At.create(Zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>Q1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function ON(t){return IN[t]}function MN(t){return SN[t]}function jN(t){return CN[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return Bt.fromServerFormat(t.fieldPath)}function Y1(t){return t instanceof At?function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(j_(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(j_(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:MN(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(s=>Y1(s));return r.length===1?r[0]:{compositeFilter:{op:jN(n.op),filters:r}}}(t):xe()}function FN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,s,a=ke.min(),l=ke.min(),h=zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.Tt=e}}function BN(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Tn=new $N}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class $N{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(ot.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(J1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ya(0)}static Un(){return new ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LruGarbageCollector",HN=1048576;function tw([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class WN{constructor(e){this.Hn=e,this.buffer=new Pt(tw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(ew,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Da(n)?he(ew,"Ignoring IndexedDB error during garbage collection: ",n):await Na(n)}await this.er(3e5)})}}class KN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(fd.ae);const r=new WN(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Z_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Yo()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function GN(t,e){return new KN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ql(r.mutation,s,An.empty(),xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Fl();return a.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=ui();const l=Gl(),h=function(){return Gl()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ls)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Ql(g.mutation,p,g.mutation.getFieldMask(),xt.now())):l.set(p.key,An.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return h.set(p,new YN(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Gl();let s=new ht((l,h)=>l-h),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||An.empty();g=h.applyToLocalView(p,g),r.set(d,g);const _=(s.get(h.batchId)||je()).add(d);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,_=V1();g.forEach(E=>{if(!a.has(E)){const S=U1(n.get(E),r.get(E));S!==null&&_.set(E,S),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):J.resolve(Us());let h=iu,d=a;return l.next(p=>J.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{d=d.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,je())).next(g=>({batchId:h,changes:D1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Fl();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,d=>{const p=function(_,E){return new gd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Yt.newInvalidDocument(g)))});let h=Fl();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&Ql(g.mutation,p,An.empty(),xt.now()),vd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pr(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:BN(s.bundledQuery),readTime:Pr(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new ht(Se.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return J.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Us(),a=n.length+1,l=new Se(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ht((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Us(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Us(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return J.resolve(h)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new yN(n,r));let a=this.Rr.get(n);a===void 0&&(a=je(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Vr=new Pt(Vt.mr),this.gr=new Pt(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Vt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Se(new ot([])),r=new Vt(n,e),s=new Vt(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Se(new ot([])),r=new Vt(n,e),s=new Vt(n,e+1);let a=je();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Se.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Pt(Vt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new gN(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Mr=this.Mr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?og:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const h=this.Or(l.Cr);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ue);return n.forEach(s=>{const a=new Vt(s,0),l=new Vt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],h=>{r=r.add(h.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const l=new Vt(new Se(a),0);let h=new Pt(Ue);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},l),J.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,s=>{const a=new Vt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.kr=e,this.docs=function(){return new ht(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ui();const l=n.path,h=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||kb(Rb(g),r)<=0||(s.has(g.key)||vd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,s){xe()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rD(this)}getSize(e){return J.resolve(this.size)}}class rD extends QN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.persistence=e,this.Qr=new to(n=>ug(n),cg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yg,this.targetCount=0,this.Ur=ya.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new fd(0),this.zr=!1,this.zr=!0,this.jr=new eD,this.referenceDelegate=e(this),this.Hr=new iD(this),this.indexManager=new zN,this.remoteDocumentCache=function(s){return new nD(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new UN(n),this.Yr=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new tD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new sD(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class sD extends Nb{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.ti=new yg,this.ni=null}static ri(e){return new vg(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const s=Se.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.oi=new to(r=>Lb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=GN(this,n)}static ri(e,n){return new zh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(h=>{h||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=je(),s=je();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _g(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zP()?8:Db(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new oD;return this._s(e,n,l).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,l,h.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Yo()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Yo()<=Me.DEBUG&&he("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Yo()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):J.resolve())}rs(e,n){if($_(n))return J.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=am(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=je(...a);return this.ns.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,h);return this.ls(n,p,l,d.readTime)?this.rs(e,am(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return $_(n)||s.isEqual(ke.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?J.resolve(null):(Yo()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(n)),this.hs(e,l,n,Pb(s,iu)).next(h=>h))})}cs(e,n){let r=new Pt(b1(e));return n.forEach((s,a)=>{vd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return Yo()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.ns.getDocumentsMatchingQuery(e,n,Xi.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",lD=3e8;class uD{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ht(Ue),this.Is=new to(a=>ug(a),cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function cD(t,e,n,r){return new uD(t,e,n,r)}async function eI(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let d=je();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:h}))})})}function hD(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const _=p.batch,E=_.keys();let S=J.resolve();return E.forEach(x=>{S=S.next(()=>g.getEntry(d,x)).next(N=>{const R=p.docVersions.get(x);Ge(R!==null),N.version.compareTo(R)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function tI(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dD(t,e){const n=be(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(zt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=lD?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,S,g)&&h.push(n.Hr.updateTargetData(a,S))});let d=ui(),p=je();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(fD(a,l,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return J.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function fD(t,e,n){let r=je(),s=je();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=ui();return n.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):he(wg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function pD(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mD(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new $i(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function dm(t,e,n){const r=be(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Da(l))throw l;he(wg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function nw(t,e,n){const r=be(t);let s=ke.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const _=be(d),E=_.Is.get(g);return E!==void 0?J.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,l,xr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:je())).next(h=>(gD(r,tN(e),h),{documents:h,gs:a})))}function gD(t,e,n){let r=t.Es.get(e)||ke.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class rw{constructor(){this.activeTargetIds=aN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.ho=new rw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="ConnectivityMonitor";class sw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(iw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function fm(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",_D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,a){const l=fm(),h=this.So(e,n.toUriEncodedString());he(Pp,`Sending RPC '${e}' ${l}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,h,d,r).then(p=>(he(Pp,`Received RPC '${e}' ${l}: `,p),p),p=>{throw fa(Pp,`RPC '${e}' ${l} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,n,r,s,a,l){return this.bo(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}So(e,n){const r=_D[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class ED extends wD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=fm();return new Promise((l,h)=>{const d=new a1;d.setWithCredentials(!0),d.listenOnce(l1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case yh.NO_ERROR:const g=d.getResponseJson();he(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case yh.TIMEOUT:he(Kt,`RPC '${e}' ${a} timed out`),h(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const _=d.getStatus();if(he(Kt,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const x=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(O)>=0?O:ie.UNKNOWN}(S.status);h(new _e(x,S.message))}else h(new _e(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(Kt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);he(Kt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=fm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=h1(),h=c1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(Kt,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=l.createWebChannel(g,d);let E=!1,S=!1;const x=new TD({Fo:R=>{S?he(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(he(Kt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),he(Kt,`RPC '${e}' stream ${s} sending:`,R),_.send(R))},Mo:()=>_.close()}),N=(R,O,U)=>{R.listen(O,F=>{try{U(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return N(_,jl.EventType.OPEN,()=>{S||(he(Kt,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),N(_,jl.EventType.CLOSE,()=>{S||(S=!0,he(Kt,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),N(_,jl.EventType.ERROR,R=>{S||(S=!0,fa(Kt,`RPC '${e}' stream ${s} transport errored:`,R),x.Ko(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),N(_,jl.EventType.MESSAGE,R=>{var O;if(!S){const U=R.data[0];Ge(!!U);const F=U,Q=(F==null?void 0:F.error)||((O=F[0])===null||O===void 0?void 0:O.error);if(Q){he(Kt,`RPC '${e}' stream ${s} received error:`,Q);const Y=Q.status;let Z=function(P){const V=wt[P];if(V!==void 0)return z1(V)}(Y),k=Q.message;Z===void 0&&(Z=ie.INTERNAL,k="Unknown error status: "+Y+" with message "+Q.message),S=!0,x.Ko(new _e(Z,k)),_.close()}else he(Kt,`RPC '${e}' stream ${s} received:`,U),x.Uo(U)}}),N(h,u1.STAT_EVENT,R=>{R.stat===nm.PROXY?he(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===nm.NOPROXY&&he(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new AN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="PersistentStream";class rI{constructor(e,n,r,s,a,l,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(ow,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(ow,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ID extends rI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RN(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Pr(l.readTime):ke.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=hm(this.serializer),n.addTarget=function(a,l){let h;const d=l.target;if(h=om(d)?{documents:NN(a,d)}:{query:DN(a,d).ht},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=W1(a,l.resumeToken);const p=lm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){h.readTime=Bh(a,l.snapshotVersion.toTimestamp());const p=lm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=LN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=hm(this.serializer),n.removeTarget=e,this.I_(n)}}class SD extends rI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=bN(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=hm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kN(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{}class AD extends CD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,um(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ie.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,um(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ie.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(li(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class PD{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{no(this)&&(he(Qs,"Restarting streams for network reachability change."),await async function(d){const p=be(d);p.W_.add(4),await Ru(p),p.j_.set("Unknown"),p.W_.delete(4),await Id(p)}(this))})}),this.j_=new xD(r,s)}}async function Id(t){if(no(t))for(const e of t.G_)await e(!0)}async function Ru(t){for(const e of t.G_)await e(!1)}function iI(t,e){const n=be(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Sg(n)?Ig(n):Va(n).c_()&&Eg(n,e))}function Tg(t,e){const n=be(t),r=Va(n);n.U_.delete(e),r.c_()&&sI(n,e),n.U_.size===0&&(r.c_()?r.P_():no(n)&&n.j_.set("Unknown"))}function Eg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Va(t).y_(e)}function sI(t,e){t.H_.Ne(e),Va(t).w_(e)}function Ig(t){t.H_=new EN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Va(t).start(),t.j_.B_()}function Sg(t){return no(t)&&!Va(t).u_()&&t.U_.size>0}function no(t){return be(t).W_.size===0}function oI(t){t.H_=void 0}async function RD(t){t.j_.set("Online")}async function kD(t){t.U_.forEach((e,n)=>{Eg(t,e)})}async function bD(t,e){oI(t),Sg(t)?(t.j_.q_(e),Ig(t)):t.j_.set("Unknown")}async function ND(t,e,n){if(t.j_.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.U_.delete(h),s.H_.removeTarget(h))}(t,e)}catch(r){he(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $h(t,r)}else if(e instanceof Th?t.H_.We(e):e instanceof $1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ke.min()))try{const r=await tI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.H_.ot(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const g=a.U_.get(d);if(!g)return;a.U_.set(d,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),sI(a,d);const _=new $i(g.target,d,p,g.sequenceNumber);Eg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){he(Qs,"Failed to raise snapshot:",r),await $h(t,r)}}async function $h(t,e,n){if(!Da(e))throw e;t.W_.add(1),await Ru(t),t.j_.set("Offline"),n||(n=()=>tI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Qs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Id(t)})}function aI(t,e){return e().catch(n=>$h(t,n,e))}async function Sd(t){const e=be(t),n=ts(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:og;for(;DD(e);)try{const s=await pD(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,VD(e,s)}catch(s){await $h(e,s)}lI(e)&&uI(e)}function DD(t){return no(t)&&t.K_.length<10}function VD(t,e){t.K_.push(e);const n=ts(t);n.c_()&&n.b_&&n.S_(e.mutations)}function lI(t){return no(t)&&!ts(t).u_()&&t.K_.length>0}function uI(t){ts(t).start()}async function LD(t){ts(t).C_()}async function OD(t){const e=ts(t);for(const n of t.K_)e.S_(n.mutations)}async function MD(t,e,n){const r=t.K_.shift(),s=pg.from(r,e,n);await aI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sd(t)}async function jD(t,e){e&&ts(t).b_&&await async function(r,s){if(function(l){return _N(l)&&l!==ie.ABORTED}(s.code)){const a=r.K_.shift();ts(r).h_(),await aI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Sd(r)}}(t,e),lI(t)&&uI(t)}async function aw(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),he(Qs,"RemoteStore received new credentials");const r=no(n);n.W_.add(3),await Ru(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Id(n)}async function FD(t,e){const n=be(t);e?(n.W_.delete(2),await Id(n)):e||(n.W_.add(2),await Ru(n),n.j_.set("Unknown"))}function Va(t){return t.J_||(t.J_=function(n,r,s){const a=be(n);return a.M_(),new ID(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:RD.bind(null,t),No:kD.bind(null,t),Lo:bD.bind(null,t),p_:ND.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Sg(t)?Ig(t):t.j_.set("Unknown")):(await t.J_.stop(),oI(t))})),t.J_}function ts(t){return t.Y_||(t.Y_=function(n,r,s){const a=be(n);return a.M_(),new SD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:LD.bind(null,t),Lo:jD.bind(null,t),D_:OD.bind(null,t),v_:MD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Sd(t)):(await t.Y_.stop(),t.K_.length>0&&(he(Qs,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new Cg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(li("AsyncQueue",`${e}: ${t}`),Da(t))return new _e(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Z_=new ht(Se.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class va{constructor(e,n,r,s,a,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new va(e,n,ca.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BD{constructor(){this.queries=uw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=be(n),a=s.queries;s.queries=uw(),a.forEach((l,h)=>{for(const d of h.ta)d.onError(r)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function uw(){return new to(t=>k1(t),yd)}async function zD(t,e){const n=be(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new UD,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Ag(l,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&xg(n)}async function $D(t,e){const n=be(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HD(t,e){const n=be(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.ta)h.oa(s)&&(r=!0);l.ea=s}}r&&xg(n)}function WD(t,e,n){const r=be(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function xg(t){t.ia.forEach(e=>{e.next()})}var pm,cw;(cw=pm||(pm={}))._a="default",cw.Cache="cache";class qD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.key=e}}class hI{constructor(e){this.key=e}}class KD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=b1(e),this.wa=new ca(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new lw,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),S=vd(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?x!==N&&(r.track({type:3,doc:S}),R=!0):this.va(E,S)||(r.track({type:2,doc:S}),R=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),R=!0):E&&!S&&(r.track({type:1,doc:E}),R=!0,(d||p)&&(h=!0)),R&&(S?(l=l.add(S),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,x){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return N(S)-N(x)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const h=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new va(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new hI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new cI(r))}),n}Oa(e){this.fa=e.gs,this.pa=je();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return va.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pg="SyncEngine";class GD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QD{constructor(e){this.key=e,this.Ba=!1}}class YD{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new to(h=>k1(h),yd),this.qa=new Map,this.Qa=new Set,this.$a=new ht(Se.comparator),this.Ka=new Map,this.Ua=new yg,this.Wa={},this.Ga=new Map,this.za=ya.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function XD(t,e,n=!0){const r=yI(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await dI(r,e,n,!0),s}async function JD(t,e){const n=yI(t);await dI(n,e,!0,!1)}async function dI(t,e,n,r){const s=await mD(t.localStore,xr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await ZD(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&iI(t.remoteStore,s),h}async function ZD(t,e,n,r,s){t.Ha=(_,E,S)=>async function(N,R,O,U){let F=R.view.Sa(O);F.ls&&(F=await nw(N.localStore,R.query,!1).then(({documents:k})=>R.view.Sa(k,F)));const Q=U&&U.targetChanges.get(R.targetId),Y=U&&U.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(F,N.isPrimaryClient,Q,Y);return dw(N,R.targetId,Z.Ma),Z.snapshot}(t,_,E,S);const a=await nw(t.localStore,e,!0),l=new KD(e,a.gs),h=l.Sa(a.documents),d=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,d);dw(t,n,p.Ma);const g=new GD(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function eV(t,e,n){const r=be(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!yd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Tg(r.remoteStore,s.targetId),mm(r,s.targetId)}).catch(Na)):(mm(r,s.targetId),await dm(r.localStore,s.targetId,!0))}async function tV(t,e){const n=be(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(n.remoteStore,r.targetId))}async function nV(t,e,n){const r=uV(t);try{const s=await function(l,h){const d=be(l),p=xt.now(),g=h.reduce((S,x)=>S.add(x.key),je());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=ui(),N=je();return d.ds.getEntries(S,g).next(R=>{x=R,x.forEach((O,U)=>{U.isValidDocument()||(N=N.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,x)).next(R=>{_=R;const O=[];for(const U of h){const F=pN(U,_.get(U.key).overlayedDocument);F!=null&&O.push(new ls(U.key,F,I1(F.value.mapValue),ar.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,O,h)}).next(R=>{E=R;const O=R.applyToLocalDocumentSet(_,N);return d.documentOverlayCache.saveOverlays(S,R.batchId,O)})}).then(()=>({batchId:E.batchId,changes:D1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ht(Ue)),p=p.insert(h,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await ku(r,s.changes),await Sd(r.remoteStore)}catch(s){const a=Ag(s,"Failed to persist write");n.reject(a)}}async function fI(t,e){const n=be(t);try{const r=await dD(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ka.get(a);l&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ge(l.Ba):s.removedDocuments.size>0&&(Ge(l.Ba),l.Ba=!1))}),await ku(n,r,e)}catch(r){await Na(r)}}function hw(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const h=l.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=be(l);d.onlineState=h;let p=!1;d.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&xg(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rV(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new ht(Se.comparator);l=l.insert(a,Yt.newNoDocument(a,ke.min()));const h=je().add(a),d=new Td(ke.min(),new Map,new ht(Ue),l,h);await fI(r,d),r.$a=r.$a.remove(a),r.Ka.delete(e),Rg(r)}else await dm(r.localStore,e,!1).then(()=>mm(r,e,n)).catch(Na)}async function iV(t,e){const n=be(t),r=e.batch.batchId;try{const s=await hD(n.localStore,e);mI(n,r,null),pI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,s)}catch(s){await Na(s)}}async function sV(t,e,n){const r=be(t);try{const s=await function(l,h){const d=be(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ge(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);mI(r,e,n),pI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,s)}catch(s){await Na(s)}}function pI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function mI(t,e,n){const r=be(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function mm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||gI(t,r)})}function gI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Tg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Rg(t))}function dw(t,e,n){for(const r of n)r instanceof cI?(t.Ua.addReference(r.key,e),oV(t,r)):r instanceof hI?(he(Pg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||gI(t,r.key)):xe()}function oV(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(Pg,"New document in limbo: "+n),t.Qa.add(r),Rg(t))}function Rg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Se(ot.fromString(e)),r=t.za.next();t.Ka.set(r,new QD(n)),t.$a=t.$a.insert(n,r),iI(t.remoteStore,new $i(xr(hg(n.path)),r,"TargetPurposeLimboResolution",fd.ae))}}async function ku(t,e,n){const r=be(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{l.push(r.Ha(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=_g.Yi(d.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const g=be(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,E=>J.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>J.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Da(_))throw _;he(wg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=g.Ts.get(E),x=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(E,N)}}}(r.localStore,a))}async function aV(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){he(Pg,"User change. New user:",e.toKey());const r=await eI(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(h=>{h.forEach(d=>{d.reject(new _e(ie.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.Rs)}}function lV(t,e){const n=be(t),r=n.Ka.get(e);if(r&&r.Ba)return je().add(r.key);{let s=je();const a=n.qa.get(e);if(!a)return s;for(const l of a){const h=n.ka.get(l);s=s.unionWith(h.view.ba)}return s}}function yI(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rV.bind(null,e),e.La.p_=HD.bind(null,e.eventManager),e.La.Ja=WD.bind(null,e.eventManager),e}function uV(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sV.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return cD(this.persistence,new aD,e.initialUser,this.serializer)}Xa(e){return new Z1(vg.ri,this.serializer)}Za(e){return new yD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class cV extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof zh);const r=this.persistence.referenceDelegate.garbageCollector;return new qN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Z1(r=>zh.ri(r,n),this.serializer)}}class gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),await FD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BD}()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=function(a){return new ED(a)}(e.databaseInfo);return function(a,l,h,d){return new AD(a,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new PD(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>hw(this.syncEngine,n,0),function(){return sw.D()?new sw:new vD}())}createSyncEngine(e,n){return function(s,a,l,h,d,p,g){const _=new YD(s,a,l,h,d,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=be(s);he(Qs,"RemoteStore shutting down."),a.W_.add(5),await Ru(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class dV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=f1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),he(ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await eI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fV(t);he(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>aw(e.remoteStore,s)),t._onlineComponents=e}async function fV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ns,"Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new Hh)}}else he(ns,"Using default OfflineComponentProvider"),await kp(t,new cV(void 0));return t._offlineComponents}async function vI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ns,"Using user provided OnlineComponentProvider"),await fw(t,t._uninitializedComponentsProvider._online)):(he(ns,"Using default OnlineComponentProvider"),await fw(t,new gm))),t._onlineComponents}function pV(t){return vI(t).then(e=>e.syncEngine)}async function pw(t){const e=await vI(t),n=e.eventManager;return n.onListen=XD.bind(null,e.syncEngine),n.onUnlisten=eV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tV.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new _e(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mV(t,e,n,r){if(e===!0&&r===!0)throw new _e(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gw(t){if(!Se.isDocumentKey(t))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yw(t){if(Se.isDocumentKey(t))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(t);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firestore.googleapis.com",vw=!0;class _w{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TI,this.ssl=vw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:vw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HN)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wb;switch(r.type){case"firstParty":return new Sb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mw.get(n);r&&(he("ComponentProvider","Removing Datastore"),mw.delete(n),r.terminate())}(this),Promise.resolve()}}function gV(t,e,n,r={}){var s;const a=(t=Gi(t,Cd))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==TI&&a.host!==h&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!qs(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Qt.MOCK_USER;else{p=OP(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qt(_)}t._authCredentials=new Tb(new d1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ad(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Qi extends Ad{constructor(e,n,r){super(e,n,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Se(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function ym(t,e,...n){if(t=Rt(t),wI("collection","path",e),t instanceof Cd){const r=ot.fromString(e,...n);return yw(r),new Qi(t,null,r)}{if(!(t instanceof xn||t instanceof Qi))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return yw(r),new Qi(t.firestore,null,r)}}function vm(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=f1.newId()),wI("doc","path",e),t instanceof Cd){const r=ot.fromString(e,...n);return gw(r),new xn(t,null,new Se(r))}{if(!(t instanceof xn||t instanceof Qi))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return gw(r),new xn(t.firestore,t instanceof Qi?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="AsyncQueue";class Tw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nI(this,"async_queue_retry"),this.bu=()=>{const r=Rp();r&&he(ww,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new $s;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Da(e))throw e;he(ww,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw li("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Cg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Ew(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class _a extends Cd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Tw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tw(e),this._firestoreClient=void 0,await e}}}function yV(t,e){const n=typeof t=="object"?t:IE(),r=typeof t=="string"?t:Lh,s=Iu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=VP("firestore");a&&gV(s,...a)}return s}function EI(t){if(t._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vV(t),t._firestoreClient}function vV(t){var e,n,r;const s=t._freezeSettings(),a=function(h,d,p,g){return new jb(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_I(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new dV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(zt.fromBase64String(e))}catch(n){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=/^__.*__$/;class wV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class II{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Vg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(SI(this.Lu)&&_V.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class TV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}ju(e,n,r,s=!1){return new Vg({Lu:e,methodName:n,zu:r,path:Bt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CI(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new TV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EV(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);Lg("Data must be an object, but it was:",l,r);const h=AI(r,l);let d,p;if(a.merge)d=new An(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=_m(e,_,n);if(!l.contains(E))throw new _e(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);PI(g,E)||g.push(E)}d=new An(g),p=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=l.fieldTransforms;return new wV(new yn(h),d,p)}class Pd extends bg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function IV(t,e,n,r){const s=t.ju(1,e,n);Lg("Data must be an object, but it was:",s,r);const a=[],l=yn.empty();as(r,(d,p)=>{const g=Og(e,d,n);p=Rt(p);const _=s.Ku(g);if(p instanceof Pd)a.push(g);else{const E=Rd(p,_);E!=null&&(a.push(g),l.set(g,E))}});const h=new An(a);return new II(l,h,s.fieldTransforms)}function SV(t,e,n,r,s,a){const l=t.ju(1,e,n),h=[_m(e,r,n)],d=[s];if(a.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(_m(e,a[E])),d.push(a[E+1]);const p=[],g=yn.empty();for(let E=h.length-1;E>=0;--E)if(!PI(p,h[E])){const S=h[E];let x=d[E];x=Rt(x);const N=l.Ku(S);if(x instanceof Pd)p.push(S);else{const R=Rd(x,N);R!=null&&(p.push(S),g.set(S,R))}}const _=new An(p);return new II(g,_,l.fieldTransforms)}function Rd(t,e){if(xI(t=Rt(t)))return Lg("Unsupported field value:",e,t),AI(t,e);if(t instanceof bg)return function(r,s){if(!SI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let d=Rd(h,s.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xt.fromDate(r);return{timestampValue:Bh(s.serializer,a)}}if(r instanceof xt){const a=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(s.serializer,a)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:W1(s.serializer,r._byteString)};if(r instanceof xn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dg)return function(l,h){return{mapValue:{fields:{[T1]:{stringValue:E1},[Oh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return dg(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${kg(r)}`)}(t,e)}function AI(t,e){const n={};return m1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,s)=>{const a=Rd(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function xI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Ng||t instanceof wa||t instanceof xn||t instanceof bg||t instanceof Dg)}function Lg(t,e,n){if(!xI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=kg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function _m(t,e,n){if((e=Rt(e))instanceof xd)return e._internalPath;if(typeof e=="string")return Og(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const CV=new RegExp("[~\\*/\\[\\]]");function Og(t,e,n){if(e.search(CV)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new _e(ie.INVALID_ARGUMENT,h+t+d)}function PI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AV extends RI{data(){return super.data()}}function kI(t,e){return typeof e=="string"?Og(t,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PV{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return as(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>yt(l.doubleValue));return new Dg(a)}convertGeoPoint(e){return new Ng(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ge(X1(r));const s=new ou(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(n)||li(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bI extends RI{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Eh extends bI{data(e={}){return super.data(e)}}class kV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new Eh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Bl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Eh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Bl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:bV(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class NI extends PV{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function NV(t,e,n,...r){t=Gi(t,xn);const s=Gi(t.firestore,_a),a=CI(s);let l;return l=typeof(e=Rt(e))=="string"||e instanceof xd?SV(a,"updateDoc",t._key,e,n,r):IV(a,"updateDoc",t._key,e),Mg(s,[l.toMutation(t._key,ar.exists(!0))])}function DV(t){return Mg(Gi(t.firestore,_a),[new fg(t._key,ar.none())])}function VV(t,e){const n=Gi(t.firestore,_a),r=vm(t),s=RV(t.converter,e);return Mg(n,[EV(CI(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function DI(t,...e){var n,r,s;t=Rt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Ew(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Ew(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let d,p,g;if(t instanceof xn)p=Gi(t.firestore,_a),g=hg(t._key.path),d={next:_=>{e[l]&&e[l](LV(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=Gi(t,Ad);p=Gi(_.firestore,_a),g=_._query;const E=new NI(p);d={next:S=>{e[l]&&e[l](new kV(p,E,_,S))},error:e[l+1],complete:e[l+2]},xV(t._query)}return function(E,S,x,N){const R=new hV(N),O=new qD(S,R,x);return E.asyncQueue.enqueueAndForget(async()=>zD(await pw(E),O)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>$D(await pw(E),O))}}(EI(p),g,h,d)}function Mg(t,e){return function(r,s){const a=new $s;return r.asyncQueue.enqueueAndForget(async()=>nV(await pV(r),s,a)),a.promise}(EI(t),e)}function LV(t,e,n){const r=n.docs.get(e._key),s=new NI(t);return new bI(t,s,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ba=s})(Pa),br(new ur("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new _a(new Eb(r.getProvider("auth-internal")),new Cb(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zn(x_,P_,e),zn(x_,P_,"esm2017")})();var OV="firebase",MV="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(OV,MV,"app");const VI="@firebase/installations",jg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e4,OI=`w:${jg}`,MI="FIS_v2",jV="https://firebaseinstallations.googleapis.com/v1",FV=60*60*1e3,UV="installations",BV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new Zs(UV,BV,zV);function jI(t){return t instanceof dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI({projectId:t}){return`${jV}/projects/${t}/installations`}function UI(t){return{token:t.token,requestStatus:2,expiresIn:HV(t.expiresIn),creationTime:Date.now()}}async function BI(t,e){const r=(await e.json()).error;return Ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $V(t,{refreshToken:e}){const n=zI(t);return n.append("Authorization",WV(e)),n}async function $I(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HV(t){return Number(t.replace("s","000"))}function WV(t){return`${MI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=FI(t),s=zI(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:MI,appId:t.appId,sdkVersion:OI},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await $I(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:UI(p.authToken)}}else throw await BI("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^[cdef][\w-]{21}$/,wm="";function QV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YV(t);return GV.test(n)?n:wm}catch{return wm}}function YV(t){return KV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;function qI(t,e){const n=kd(t);KI(n,e),XV(n,e)}function KI(t,e){const n=WI.get(t);if(n)for(const r of n)r(e)}function XV(t,e){const n=JV();n&&n.postMessage({key:t,fid:e}),ZV()}let Bs=null;function JV(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=t=>{KI(t.data.key,t.data.fid)}),Bs}function ZV(){WI.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-installations-database",tL=1,Xs="firebase-installations-store";let bp=null;function Fg(){return bp||(bp=TE(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xs)}}})),bp}async function qh(t,e){const n=kd(t),s=(await Fg()).transaction(Xs,"readwrite"),a=s.objectStore(Xs),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&qI(t,e.fid),e}async function GI(t){const e=kd(t),r=(await Fg()).transaction(Xs,"readwrite");await r.objectStore(Xs).delete(e),await r.done}async function bd(t,e){const n=kd(t),s=(await Fg()).transaction(Xs,"readwrite"),a=s.objectStore(Xs),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&qI(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){let e;const n=await bd(t.appConfig,r=>{const s=nL(r),a=rL(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===wm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nL(t){const e=t||{fid:QV(),registrationStatus:0};return QI(e)}function rL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=iL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sL(t)}:{installationEntry:e}}async function iL(t,e){try{const n=await qV(t,e);return qh(t.appConfig,n)}catch(n){throw jI(n)&&n.customData.serverCode===409?await GI(t.appConfig):await qh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sL(t){let e=await Iw(t.appConfig);for(;e.registrationStatus===1;)await HI(100),e=await Iw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ug(t);return r||n}return e}function Iw(t){return bd(t,e=>{if(!e)throw Ys.create("installation-not-found");return QI(e)})}function QI(t){return oL(t)?{fid:t.fid,registrationStatus:0}:t}function oL(t){return t.registrationStatus===1&&t.registrationTime+LI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL({appConfig:t,heartbeatServiceProvider:e},n){const r=lL(t,n),s=$V(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:OI,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await $I(()=>fetch(r,h));if(d.ok){const p=await d.json();return UI(p)}else throw await BI("Generate Auth Token",d)}function lL(t,{fid:e}){return`${FI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e=!1){let n;const r=await bd(t.appConfig,a=>{if(!YI(a))throw Ys.create("not-registered");const l=a.authToken;if(!e&&hL(l))return a;if(l.requestStatus===1)return n=uL(t,e),a;{if(!navigator.onLine)throw Ys.create("app-offline");const h=fL(a);return n=cL(t,h),h}});return n?await n:r.authToken}async function uL(t,e){let n=await Sw(t.appConfig);for(;n.authToken.requestStatus===1;)await HI(100),n=await Sw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bg(t,e):r}function Sw(t){return bd(t,e=>{if(!YI(e))throw Ys.create("not-registered");const n=e.authToken;return pL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cL(t,e){try{const n=await aL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await qh(t.appConfig,r),n}catch(n){if(jI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qh(t.appConfig,r)}throw n}}function YI(t){return t!==void 0&&t.registrationStatus===2}function hL(t){return t.requestStatus===2&&!dL(t)}function dL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FV}function fL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pL(t){return t.requestStatus===1&&t.requestTime+LI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ug(e);return r?r.catch(console.error):Bg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e=!1){const n=t;return await yL(n),(await Bg(n,e)).token}async function yL(t){const{registrationPromise:e}=await Ug(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){if(!t||!t.options)throw Np("App Configuration");if(!t.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Np(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Np(t){return Ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="installations",_L="installations-internal",wL=t=>{const e=t.getProvider("app").getImmediate(),n=vL(e),r=Iu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},TL=t=>{const e=t.getProvider("app").getImmediate(),n=Iu(e,XI).getImmediate();return{getId:()=>mL(n),getToken:s=>gL(n,s)}};function EL(){br(new ur(XI,wL,"PUBLIC")),br(new ur(_L,TL,"PRIVATE"))}EL();zn(VI,jg);zn(VI,jg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="analytics",IL="firebase_id",SL="origin",CL=60*1e3,AL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Zs("analytics","Analytics",xL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(!t.startsWith(zg)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return vn.warn(e.message),""}return t}function JI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kL(t,e){const n=RL("firebase-js-sdk-policy",{createScriptURL:PL}),r=document.createElement("script"),s=`${zg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function bL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function NL(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await JI(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(h){vn.error(h)}t("config",s,a)}async function DL(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await JI(n);for(const d of l){const p=h.find(_=>_.measurementId===d),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){vn.error(a)}}function VL(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[h,d]=l;await DL(t,e,n,h,d)}else if(a==="config"){const[h,d]=l;await NL(t,e,n,r,h,d)}else if(a==="consent"){const[h,d]=l;t("consent",h,d)}else if(a==="get"){const[h,d,p]=l;t("get",h,d,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){vn.error(h)}}return s}function LL(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=VL(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function OL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=30,jL=1e3;class FL{constructor(e={},n=jL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZI=new FL;function UL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function BL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:UL(r)},a=AL.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function zL(t,e=ZI,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw $n.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw $n.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new WL;return setTimeout(async()=>{h.abort()},CL),eS({appId:r,apiKey:s,measurementId:a},l,h,e)}async function eS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=ZI){var a;const{appId:l,measurementId:h}=t;try{await $L(r,e)}catch(d){if(h)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw d}try{const d=await BL(t);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!HL(p)){if(s.deleteThrottleMetadata(l),h)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:h};throw d}const g=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?X0(n,s.intervalMillis,ML):X0(n,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return s.setThrottleMetadata(l,_),vn.debug(`Calling attemptFetch again in ${g} millis`),eS(t,_,r,s)}}function $L(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HL(t){if(!(t instanceof dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(){if(yE())try{await vE()}catch(t){return vn.warn($n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return vn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GL(t,e,n,r,s,a,l){var h;const d=zL(t);d.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>vn.error(S)),e.push(d);const p=KL().then(S=>{if(S)return r.getId()}),[g,_]=await Promise.all([d,p]);OL(a)||kL(a,g.measurementId),s("js",new Date);const E=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return E[SL]="firebase",E.update=!0,_!=null&&(E[IL]=_),s("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},Aw=[];const xw={};let Dp="dataLayer",YL="gtag",Pw,tS,Rw=!1;function XL(){const t=[];if(gE()&&t.push("This is a browser extension environment."),$P()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});vn.warn(n.message)}}function JL(t,e,n){XL();const r=t.options.appId;if(!r)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(Yl[r]!=null)throw $n.create("already-exists",{id:r});if(!Rw){bL(Dp);const{wrappedGtag:a,gtagCore:l}=LL(Yl,Aw,xw,Dp,YL);tS=a,Pw=l,Rw=!0}return Yl[r]=GL(t,Aw,xw,e,Pw,Dp,n),new QL(t)}function ZL(t,e,n,r){t=Rt(t),qL(tS,Yl[t.app.options.appId],e,n,r).catch(s=>vn.error(s))}const kw="@firebase/analytics",bw="0.10.12";function eO(){br(new ur(Cw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return JL(r,s,n)},"PUBLIC")),br(new ur("analytics-internal",t,"PRIVATE")),zn(kw,bw),zn(kw,bw,"esm2017");function t(e){try{const n=e.getProvider(Cw).getImmediate();return{logEvent:(r,s,a)=>ZL(n,r,s,a)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}eO();function nS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hs(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nS(t))&&(r&&(r+=" "),r+=e);return r}function tO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}tO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bu=t=>typeof t=="number"&&!isNaN(t),Js=t=>typeof t=="string",ci=t=>typeof t=="function",nO=t=>Js(t)||bu(t),Tm=t=>Js(t)||ci(t)?t:null,rO=(t,e)=>t===!1||bu(t)&&t>0?t:e,Em=t=>L.isValidElement(t)||Js(t)||ci(t)||bu(t);function iO(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function sO({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:h,done:d,nodeRef:p,isIn:g,playToast:_}){let E=n?`${t}--${l}`:t,S=n?`${e}--${l}`:e,x=L.useRef(0);return L.useLayoutEffect(()=>{let N=p.current,R=E.split(" "),O=U=>{U.target===p.current&&(_(),N.removeEventListener("animationend",O),N.removeEventListener("animationcancel",O),x.current===0&&U.type!=="animationcancel"&&N.classList.remove(...R))};N.classList.add(...R),N.addEventListener("animationend",O),N.addEventListener("animationcancel",O)},[]),L.useEffect(()=>{let N=p.current,R=()=>{N.removeEventListener("animationend",R),r?iO(N,d,s):d()};g||(h?R():(x.current=1,N.className+=` ${S}`,N.addEventListener("animationend",R)))},[g]),We.createElement(We.Fragment,null,a)}}function Nw(t,e){return{content:rS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function rS(t,e,n=!1){return L.isValidElement(t)&&!Js(t.type)?L.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ci(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function oO({closeToast:t,theme:e,ariaLabel:n="close"}){return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aO({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:a,controlledProgress:l,progress:h,rtl:d,isIn:p,theme:g}){let _=s||l&&h===0,E={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(E.transform=`scaleX(${h})`);let S=Hs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),x=ci(a)?a({rtl:d,type:r,defaultClassName:S}):Hs(S,a),N={[l&&h>=1?"onTransitionEnd":"onAnimationEnd"]:l&&h<1?null:()=>{p&&n()}};return We.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},We.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),We.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:x,style:E,...N}))}var lO=1,iS=()=>`${lO++}`;function uO(t,e,n){let r=1,s=0,a=[],l=[],h=e,d=new Map,p=new Set,g=U=>(p.add(U),()=>p.delete(U)),_=()=>{l=Array.from(d.values()),p.forEach(U=>U())},E=({containerId:U,toastId:F,updateId:Q})=>{let Y=U?U!==t:t!==1,Z=d.has(F)&&Q==null;return Y||Z},S=(U,F)=>{d.forEach(Q=>{var Y;(F==null||F===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,U))})},x=U=>{var F,Q;(Q=(F=U.props)==null?void 0:F.onClose)==null||Q.call(F,U.removalReason),U.isActive=!1},N=U=>{if(U==null)d.forEach(x);else{let F=d.get(U);F&&x(F)}_()},R=()=>{s-=a.length,a=[]},O=U=>{var F,Q;let{toastId:Y,updateId:Z}=U.props,k=Z==null;U.staleId&&d.delete(U.staleId),U.isActive=!0,d.set(Y,U),_(),n(Nw(U,k?"added":"updated")),k&&((Q=(F=U.props).onOpen)==null||Q.call(F))};return{id:t,props:h,observe:g,toggle:S,removeToast:N,toasts:d,clearQueue:R,buildToast:(U,F)=>{if(E(F))return;let{toastId:Q,updateId:Y,data:Z,staleId:k,delay:C}=F,P=Y==null;P&&s++;let V={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(F).filter(([z,D])=>D!=null)),toastId:Q,updateId:Y,data:Z,isIn:!1,className:Tm(F.className||h.toastClassName),progressClassName:Tm(F.progressClassName||h.progressClassName),autoClose:F.isLoading?!1:rO(F.autoClose,h.autoClose),closeToast(z){d.get(Q).removalReason=z,N(Q)},deleteToast(){let z=d.get(Q);if(z!=null){if(n(Nw(z,"removed")),d.delete(Q),s--,s<0&&(s=0),a.length>0){O(a.shift());return}_()}}};V.closeButton=h.closeButton,F.closeButton===!1||Em(F.closeButton)?V.closeButton=F.closeButton:F.closeButton===!0&&(V.closeButton=Em(h.closeButton)?h.closeButton:!0);let j={content:U,props:V,staleId:k};h.limit&&h.limit>0&&s>h.limit&&P?a.push(j):bu(C)?setTimeout(()=>{O(j)},C):O(j)},setProps(U){h=U},setToggle:(U,F)=>{let Q=d.get(U);Q&&(Q.toggle=F)},isToastActive:U=>{var F;return(F=d.get(U))==null?void 0:F.isActive},getSnapshot:()=>l}}var rn=new Map,cu=[],Im=new Set,cO=t=>Im.forEach(e=>e(t)),sS=()=>rn.size>0;function hO(){cu.forEach(t=>aS(t.content,t.options)),cu=[]}var dO=(t,{containerId:e})=>{var n;return(n=rn.get(e||1))==null?void 0:n.toasts.get(t)};function oS(t,e){var n;if(e)return!!((n=rn.get(e))!=null&&n.isToastActive(t));let r=!1;return rn.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function fO(t){if(!sS()){cu=cu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||nO(t))rn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=rn.get(t.containerId);e?e.removeToast(t.id):rn.forEach(n=>{n.removeToast(t.id)})}}var pO=(t={})=>{rn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function aS(t,e){Em(t)&&(sS()||cu.push({content:t,options:e}),rn.forEach(n=>{n.buildToast(t,e)}))}function mO(t){var e;(e=rn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function lS(t,e){rn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function gO(t){let e=t.containerId||1;return{subscribe(n){let r=uO(e,t,cO);rn.set(e,r);let s=r.observe(n);return hO(),()=>{s(),rn.delete(e)}},setProps(n){var r;(r=rn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=rn.get(e))==null?void 0:n.getSnapshot()}}}function yO(t){return Im.add(t),()=>{Im.delete(t)}}function vO(t){return t&&(Js(t.toastId)||bu(t.toastId))?t.toastId:iS()}function Nu(t,e){return aS(t,e),e.toastId}function Nd(t,e){return{...e,type:e&&e.type||t,toastId:vO(e)}}function Dd(t){return(e,n)=>Nu(e,Nd(t,n))}function Le(t,e){return Nu(t,Nd("default",e))}Le.loading=(t,e)=>Nu(t,Nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _O(t,{pending:e,error:n,success:r},s){let a;e&&(a=Js(e)?Le.loading(e,s):Le.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,g,_)=>{if(g==null){Le.dismiss(a);return}let E={type:p,...l,...s,data:_},S=Js(g)?{render:g}:g;return a?Le.update(a,{...E,...S}):Le(S.render,{...E,...S}),_},d=ci(t)?t():t;return d.then(p=>h("success",r,p)).catch(p=>h("error",n,p)),d}Le.promise=_O;Le.success=Dd("success");Le.info=Dd("info");Le.error=Dd("error");Le.warning=Dd("warning");Le.warn=Le.warning;Le.dark=(t,e)=>Nu(t,Nd("default",{theme:"dark",...e}));function wO(t){fO(t)}Le.dismiss=wO;Le.clearWaitingQueue=pO;Le.isActive=oS;Le.update=(t,e={})=>{let n=dO(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:iS()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,Nu(l,a)}};Le.done=t=>{Le.update(t,{progress:1})};Le.onChange=yO;Le.play=t=>lS(!0,t);Le.pause=t=>lS(!1,t);function TO(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=L.useRef(gO(t)).current;s(t);let a=(e=L.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(h){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:g}=p.props;d.has(g)||d.set(g,[]),d.get(g).push(p)}),Array.from(d,p=>h(p[0],p[1]))}return{getToastToRender:l,isToastActive:oS,count:a==null?void 0:a.length}}function EO(t){let[e,n]=L.useState(!1),[r,s]=L.useState(!1),a=L.useRef(null),l=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:p,onClick:g,closeOnClick:_}=t;mO({id:t.toastId,containerId:t.containerId,fn:n}),L.useEffect(()=>{if(t.pauseOnFocusLoss)return E(),()=>{S()}},[t.pauseOnFocusLoss]);function E(){document.hasFocus()||O(),window.addEventListener("focus",R),window.addEventListener("blur",O)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",O)}function x(k){if(t.draggable===!0||t.draggable===k.pointerType){U();let C=a.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(l.start=k.clientX,l.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(l.start=k.clientY,l.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function N(k){let{top:C,bottom:P,left:V,right:j}=a.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=V&&k.clientX<=j&&k.clientY>=C&&k.clientY<=P?O():R()}function R(){n(!0)}function O(){n(!1)}function U(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function F(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(k){let C=a.current;if(l.canDrag&&C){l.didMove=!0,e&&O(),t.draggableDirection==="x"?l.delta=k.clientX-l.start:l.delta=k.clientY-l.start,l.start!==k.clientX&&(l.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${P},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Y(){F();let k=a.current;if(l.canDrag&&l.didMove&&k){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let Z={onPointerDown:x,onPointerUp:N};return h&&d&&(Z.onMouseEnter=O,t.stacked||(Z.onMouseLeave=R)),_&&(Z.onClick=k=>{g&&g(k),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:O,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Z}}var IO=typeof window<"u"?L.useLayoutEffect:L.useEffect,Vd=({theme:t,type:e,isLoading:n,...r})=>We.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SO(t){return We.createElement(Vd,{...t},We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CO(t){return We.createElement(Vd,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AO(t){return We.createElement(Vd,{...t},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xO(t){return We.createElement(Vd,{...t},We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function PO(){return We.createElement("div",{className:"Toastify__spinner"})}var Sm={info:CO,warning:SO,success:AO,error:xO,spinner:PO},RO=t=>t in Sm;function kO({theme:t,type:e,isLoading:n,icon:r}){let s=null,a={theme:t,type:e};return r===!1||(ci(r)?s=r({...a,isLoading:n}):L.isValidElement(r)?s=L.cloneElement(r,a):n?s=Sm.spinner():RO(e)&&(s=Sm[e](a))),s}var bO=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:a}=EO(t),{closeButton:l,children:h,autoClose:d,onClick:p,type:g,hideProgressBar:_,closeToast:E,transition:S,position:x,className:N,style:R,progressClassName:O,updateId:U,role:F,progress:Q,rtl:Y,toastId:Z,deleteToast:k,isIn:C,isLoading:P,closeOnClick:V,theme:j,ariaLabel:z}=t,D=Hs("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":V}),qe=ci(N)?N({rtl:Y,position:x,type:g,defaultClassName:D}):Hs(D,N),tt=kO(t),Ke=!!Q||!d,we={closeToast:E,type:g,theme:j},re=null;return l===!1||(ci(l)?re=l(we):L.isValidElement(l)?re=L.cloneElement(l,we):re=oO(we)),We.createElement(S,{isIn:C,done:k,position:x,preventExitTransition:n,nodeRef:r,playToast:a},We.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":C,className:qe,...s,style:R,ref:r,...C&&{role:F,"aria-label":z}},tt!=null&&We.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},tt),rS(h,t,!e),re,!t.customProgressBar&&We.createElement(aO,{...U&&!Ke?{key:`p-${U}`}:{},rtl:Y,theme:j,delay:d,isRunning:e,isIn:C,closeToast:E,hide:_,type:g,className:O,controlledProgress:Ke,progress:Q||0})))},NO=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),DO=sO(NO("bounce",!0)),VO={position:"top-right",transition:DO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function uS(t){let e={...VO,...t},n=t.stacked,[r,s]=L.useState(!0),a=L.useRef(null),{getToastToRender:l,isToastActive:h,count:d}=TO(e),{className:p,style:g,rtl:_,containerId:E,hotKeys:S}=e;function x(R){let O=Hs("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":_});return ci(p)?p({position:R,rtl:_,defaultClassName:O}):Hs(O,Tm(p))}function N(){n&&(s(!0),Le.play())}return IO(()=>{var R;if(n){let O=a.current.querySelectorAll('[data-in="true"]'),U=12,F=(R=e.position)==null?void 0:R.includes("top"),Q=0,Y=0;Array.from(O).reverse().forEach((Z,k)=>{let C=Z;C.classList.add("Toastify__toast--stacked"),k>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=F?"top":"bot");let P=Q*(r?.2:1)+(r?0:U*k);C.style.setProperty("--y",`${F?P:P*-1}px`),C.style.setProperty("--g",`${U}`),C.style.setProperty("--s",`${1-(r?Y:0)}`),Q+=C.offsetHeight,Y+=.025})}},[r,d,n]),L.useEffect(()=>{function R(O){var U;let F=a.current;S(O)&&((U=F.querySelector('[tabIndex="0"]'))==null||U.focus(),s(!1),Le.pause()),O.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(s(!0),Le.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),We.createElement("section",{ref:a,className:"Toastify",id:E,onMouseEnter:()=>{n&&(s(!1),Le.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,O)=>{let U=O.length?{...g}:{...g,pointerEvents:"none"};return We.createElement("div",{tabIndex:-1,className:x(R),"data-stacked":n,style:U,key:`c-${R}`},O.map(({content:F,props:Q})=>We.createElement(bO,{...Q,stacked:n,collapseAll:N,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},F)))}))}const LO={apiKey:"AIzaSyBc8RjtuaZOMWn4AA9ovmw1OOLDbwlSwWM",authDomain:"wildcats-express-pos.firebaseapp.com",databaseURL:"https://wildcats-express-pos-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wildcats-express-pos",storageBucket:"wildcats-express-pos.firebasestorage.app",messagingSenderId:"908404798026",appId:"1:908404798026:web:c14da08358320310f5ecb3",measurementId:"G-30FN1V543L"},cS=EE(LO),La=vb(cS),zl=yV(cS);var ha,_u,nd,hS;class OO{constructor(){Jc(this,nd);Jc(this,ha,"wildcats_express.admin@cit.edu");Jc(this,_u,"wildcats.admin")}async login(e,n){if(D0(this,nd,hS).call(this,e,n))return await this.signInAdmin();throw new Error("Invalid admin credentials!")}async signInAdmin(){try{const e=await i2(La,Qo(this,ha),Qo(this,_u));return console.log("Admin logged in:",e.user),e.user}catch(e){throw new Error("Error during login: "+e.message)}}isAdminEmail(e){return e===Qo(this,ha)}}ha=new WeakMap,_u=new WeakMap,nd=new WeakSet,hS=function(e,n){return e===Qo(this,ha)&&n===Qo(this,_u)};const $g=new OO;cd(La,t=>{t&&($g.isAdminEmail(t.email)||alert("Access denied: You are not an admin."))});const dS=t=>{const[e,n]=L.useState(!0);return L.useEffect(()=>{const r=cd(La,s=>{s?n(!1):(Le.warn("Unauthorized access! Please log in."),setTimeout(()=>{t("/")},100))});return()=>r()},[t]),e},MO=async t=>{try{await a2(La),localStorage.removeItem("token"),t("/")}catch(e){console.error("Error during logout:",e)}},jO=t=>{const[e,n]=L.useState(!0);return L.useEffect(()=>{const r=cd(La,s=>{s?(console.log("Trying to access login/signup page while logged in."),t("/admin-page")):n(!1)});return()=>r()},[t]),e},FO="/assets/new-mainlogo-DdxHqH-1.svg",UO=()=>{const t=xa(),[e,n]=L.useState(!1),[r,s]=L.useState(!0);L.useEffect(()=>{const l=cd(La,h=>{h&&$g.isAdminEmail(h.email)?n(!0):n(!1),s(!1)});return()=>l()},[]);const a=()=>{t(e?"/pos-page":"/login-page")};return r?T.jsx("p",{children:"Loading..."}):T.jsx(T.Fragment,{children:T.jsxs("main",{className:"main-content",children:[T.jsxs("div",{className:"text-container",children:[T.jsx("div",{className:"hide-mobile",children:T.jsxs("h1",{className:"wildcats-desktop",children:["Wildcats ",T.jsx("span",{className:"express-mobile",children:"Express"})]})}),T.jsx("div",{className:"hide-title"}),T.jsx("h3",{className:"typing-text",children:"Fast. Fresh. Fierce."}),T.jsx("h3",{className:"typing-text-mobile",children:"Fast. Fresh. Fierce."}),T.jsx("div",{className:"order-button",children:T.jsx("button",{onClick:a,className:"primary-cta",children:"Order Here"})})]}),T.jsx("div",{className:"cat",children:T.jsx("img",{src:FO,alt:"Photo of Wildcat chef"})})]})})},Hg=L.createContext({});function Wg(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ld=L.createContext(null),qg=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class BO extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zO({children:t,isPresent:e,anchorX:n}){const r=L.useId(),s=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=L.useContext(qg);return L.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:_}=a.current;if(e||!s.current||!h||!d)return;const E=n==="left"?`left: ${g}`:`right: ${_}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),T.jsx(BO,{isPresent:e,childRef:s,sizeRef:a,children:L.cloneElement(t,{ref:s})})}const $O=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:h})=>{const d=Wg(HO),p=L.useId(),g=L.useCallback(E=>{d.set(E,!0);for(const S of d.values())if(!S)return;r&&r()},[d,r]),_=L.useMemo(()=>({id:p,initial:e,isPresent:n,custom:s,onExitComplete:g,register:E=>(d.set(E,!1),()=>d.delete(E))}),a?[Math.random(),g]:[n,g]);return L.useMemo(()=>{d.forEach((E,S)=>d.set(S,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=T.jsx(zO,{isPresent:n,anchorX:h,children:t})),T.jsx(Ld.Provider,{value:_,children:t})};function HO(){return new Map}function fS(t=!0){const e=L.useContext(Ld);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{if(t)return s(a)},[t]);const l=L.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ah=t=>t.key||"";function Dw(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Kg=typeof window<"u",pS=Kg?L.useLayoutEffect:L.useEffect,hu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:h="left"})=>{const[d,p]=fS(l),g=L.useMemo(()=>Dw(t),[t]),_=l&&!d?[]:g.map(ah),E=L.useRef(!0),S=L.useRef(g),x=Wg(()=>new Map),[N,R]=L.useState(g),[O,U]=L.useState(g);pS(()=>{E.current=!1,S.current=g;for(let Y=0;Y<O.length;Y++){const Z=ah(O[Y]);_.includes(Z)?x.delete(Z):x.get(Z)!==!0&&x.set(Z,!1)}},[O,_.length,_.join("-")]);const F=[];if(g!==N){let Y=[...g];for(let Z=0;Z<O.length;Z++){const k=O[Z],C=ah(k);_.includes(C)||(Y.splice(Z,0,k),F.push(k))}return a==="wait"&&F.length&&(Y=F),U(Dw(Y)),R(g),null}const{forceRender:Q}=L.useContext(Hg);return T.jsx(T.Fragment,{children:O.map(Y=>{const Z=ah(Y),k=l&&!d?!1:g===O||_.includes(Z),C=()=>{if(x.has(Z))x.set(Z,!0);else return;let P=!0;x.forEach(V=>{V||(P=!1)}),P&&(Q==null||Q(),U(S.current),l&&(p==null||p()),r&&r())};return T.jsx($O,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:k?void 0:C,anchorX:h,children:Y},Z)})})},Pn=t=>t;let mS=Pn;function Gg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ta=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ii=t=>t*1e3,si=t=>t/1e3,WO={useManualTiming:!1},lh=["read","resolveKeyframes","update","preRender","render","postRender"],Vw={value:null};function qO(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){l.has(_)&&(g.schedule(_),t()),d++,_(h)}const g={schedule:(_,E=!1,S=!1)=>{const N=S&&s?n:r;return E&&l.add(_),N.has(_)||N.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(h=_,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(p),e&&Vw.value&&Vw.value.frameloop[e].push(d),d=0,n.clear(),s=!1,a&&(a=!1,g.process(_))}};return g}const KO=40;function gS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=lh.reduce((O,U)=>(O[U]=qO(a,e?U:void 0),O),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:_,postRender:E}=l,S=()=>{const O=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,KO),1),s.timestamp=O,s.isProcessing=!0,h.process(s),d.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},x=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:lh.reduce((O,U)=>{const F=l[U];return O[U]=(Q,Y=!1,Z=!1)=>(n||x(),F.schedule(Q,Y,Z)),O},{}),cancel:O=>{for(let U=0;U<lh.length;U++)l[lh[U]].cancel(O)},state:s,steps:l}}const{schedule:et,cancel:rs,state:Ft,steps:Vp}=gS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0),yS=L.createContext({strict:!1}),Lw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ea={};for(const t in Lw)Ea[t]={isEnabled:e=>Lw[t].some(n=>!!e[n])};function GO(t){for(const e in t)Ea[e]={...Ea[e],...t[e]}}const QO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QO.has(t)}let vS=t=>!Kh(t);function YO(t){t&&(vS=e=>e.startsWith("on")?!Kh(e):t(e))}try{YO(require("@emotion/is-prop-valid").default)}catch{}function XO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(vS(s)||n===!0&&Kh(s)||!e&&!Kh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function JO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Od=L.createContext({});function Md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function du(t){return typeof t=="string"||Array.isArray(t)}const Qg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yg=["initial",...Qg];function jd(t){return Md(t.animate)||Yg.some(e=>du(t[e]))}function _S(t){return!!(jd(t)||t.variants)}function ZO(t,e){if(jd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(r)?r:void 0}}return t.inherit!==!1?e:{}}function eM(t){const{initial:e,animate:n}=ZO(t,L.useContext(Od));return L.useMemo(()=>({initial:e,animate:n}),[Ow(e),Ow(n)])}function Ow(t){return Array.isArray(t)?t.join(" "):t}const tM=Symbol.for("motionComponentSymbol");function ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nM(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ta(n)&&(n.current=r))},[e])}const Xg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rM="framerAppearId",wS="data-"+Xg(rM),{schedule:Jg}=gS(queueMicrotask,!1),TS=L.createContext({});function iM(t,e,n,r,s){var a,l;const{visualElement:h}=L.useContext(Od),d=L.useContext(yS),p=L.useContext(Ld),g=L.useContext(qg).reducedMotion,_=L.useRef(null);r=r||d.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,S=L.useContext(TS);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&sM(_.current,n,s,S);const x=L.useRef(!1);L.useInsertionEffect(()=>{E&&x.current&&E.update(n,p)});const N=n[wS],R=L.useRef(!!N&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,N))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,N)));return pS(()=>{E&&(x.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Jg.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,N)}),R.current=!1))}),E}function sM(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ES(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&ta(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function ES(t){if(t)return t.options.allowProjection!==!1?t.projection:ES(t.parent)}function oM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&GO(t);function h(p,g){let _;const E={...L.useContext(qg),...p,layoutId:aM(p)},{isStatic:S}=E,x=eM(p),N=r(p,S);if(!S&&Kg){lM();const R=uM(E);_=R.MeasureLayout,x.visualElement=iM(s,N,E,e,R.ProjectionNode)}return T.jsxs(Od.Provider,{value:x,children:[_&&x.visualElement?T.jsx(_,{visualElement:x.visualElement,...E}):null,n(s,p,nM(N,x.visualElement,g),N,S,x.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=L.forwardRef(h);return d[tM]=s,d}function aM({layoutId:t}){const e=L.useContext(Hg).id;return e&&t!==void 0?e+"-"+t:t}function lM(t,e){L.useContext(yS).strict}function uM(t){const{drag:e,layout:n}=Ea;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IS=t=>e=>typeof e=="string"&&e.startsWith(t),Zg=IS("--"),cM=IS("var(--"),ey=t=>cM(t)?hM.test(t.split("/*")[0].trim()):!1,hM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fu={};function dM(t){for(const e in t)fu[e]=t[e],Zg(e)&&(fu[e].isCSSVariable=!0)}const Oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(Oa);function SS(t,{layout:e,layoutId:n}){return ro.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fu[t]||t==="opacity")}const Xt=t=>!!(t&&t.getVelocity),CS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hi=(t,e,n)=>n>e?e:n<t?t:n,Ma={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pu={...Ma,transform:t=>hi(0,1,t)},uh={...Ma,default:1},Du=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ji=Du("deg"),Rr=Du("%"),Ce=Du("px"),fM=Du("vh"),pM=Du("vw"),Mw={...Rr,parse:t=>Rr.parse(t)/100,transform:t=>Rr.transform(t*100)},mM={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},gM={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:ji,skewX:ji,skewY:ji,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:pu,originX:Mw,originY:Mw,originZ:Ce},jw={...Ma,transform:Math.round},ty={...mM,...gM,zIndex:jw,size:Ce,fillOpacity:pu,strokeOpacity:pu,numOctaves:jw},yM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vM=Oa.length;function _M(t,e,n){let r="",s=!0;for(let a=0;a<vM;a++){const l=Oa[a],h=t[l];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(l.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=CS(h,ty[l]);if(!d){s=!1;const g=yM[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ny(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const d in e){const p=e[d];if(ro.has(d)){l=!0;continue}else if(Zg(d)){s[d]=p;continue}else{const g=CS(p,ty[d]);d.startsWith("origin")?(h=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=_M(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AS(t,e,n){for(const r in e)!Xt(e[r])&&!SS(r,n)&&(t[r]=e[r])}function wM({transformTemplate:t},e){return L.useMemo(()=>{const n=ry();return ny(n,e,t),Object.assign({},n.vars,n.style)},[e])}function TM(t,e){const n=t.style||{},r={};return AS(r,n,t),Object.assign(r,wM(t,e)),r}function EM(t,e){const n={},r=TM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const IM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(t){return typeof t!="string"||t.includes("-")?!1:!!(IM.indexOf(t)>-1||/[A-Z]/u.test(t))}const SM={offset:"stroke-dashoffset",array:"stroke-dasharray"},CM={offset:"strokeDashoffset",array:"strokeDasharray"};function AM(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?SM:CM;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),h=Ce.transform(n);t[a.array]=`${l} ${h}`}function Fw(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function xM(t,e,n){const r=Fw(e,t.x,t.width),s=Fw(n,t.y,t.height);return`${r} ${s}`}function sy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...p},g,_){if(ny(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:x}=t;E.transform&&(x&&(S.transform=E.transform),delete E.transform),x&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=xM(x,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&AM(E,l,h,d,!1)}const xS=()=>({...ry(),attrs:{}}),oy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PM(t,e,n,r){const s=L.useMemo(()=>{const a=xS();return sy(a,e,oy(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};AS(a,t.style,t),s.style={...a,...s.style}}return s}function RM(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(iy(n)?PM:EM)(r,a,l,n),p=XO(r,typeof n=="string",t),g=n!==L.Fragment?{...p,...d,ref:s}:{},{children:_}=r,E=L.useMemo(()=>Xt(_)?_.get():_,[_]);return L.createElement(n,{...g,children:E})}}function Uw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ay(t,e,n,r){if(typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Uw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Cm=t=>Array.isArray(t),kM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bM=t=>Cm(t)?t[t.length-1]||0:t;function Ih(t){const e=Xt(t)?t.get():t;return kM(e)?e.toValue():e}function NM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:DM(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const PS=t=>(e,n)=>{const r=L.useContext(Od),s=L.useContext(Ld),a=()=>NM(t,e,r,s);return n?a():Wg(a)};function DM(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Ih(a[E]);let{initial:l,animate:h}=t;const d=jd(t),p=_S(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Md(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const x=ay(t,E[S]);if(x){const{transitionEnd:N,transition:R,...O}=x;for(const U in O){let F=O[U];if(Array.isArray(F)){const Q=g?F.length-1:0;F=F[Q]}F!==null&&(s[U]=F)}for(const U in N)s[U]=N[U]}}}return s}function ly(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Xt(s[l])||e.style&&Xt(e.style[l])||SS(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const VM={useVisualState:PS({scrapeMotionValuesFromProps:ly,createRenderState:ry})};function RS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function kS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NS(t,e,n,r){kS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(bS.has(s)?s:Xg(s),e.attrs[s])}function DS(t,e,n){const r=ly(t,e,n);for(const s in t)if(Xt(t[s])||Xt(e[s])){const a=Oa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Bw=["x","y","width","height","cx","cy","r"],LM={useVisualState:PS({scrapeMotionValuesFromProps:DS,createRenderState:xS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(ro.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<Bw.length;h++){const d=Bw[h];t[d]!==e[d]&&(l=!0)}l&&et.read(()=>{RS(n,r),et.render(()=>{sy(r,s,oy(n.tagName),t.transformTemplate),NS(n,r)})})}})};function OM(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...iy(r)?LM:VM,preloadedFeatures:t,useRender:RM(s),createVisualElement:e,Component:r};return oM(l)}}function mu(t,e,n){const r=t.getProps();return ay(r,e,n!==void 0?n:r.custom,t)}const MM=Gg(()=>window.ScrollTimeline!==void 0);class jM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(MM()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FM extends jM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function uy(t,e){return t?t[e]||t.default||t:void 0}const Am=2e4;function VS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Am;)e+=n,r=t.next(e);return e>=Am?1/0:e}function cy(t){return typeof t=="function"}function zw(t,e){t.timeline=e,t.onfinish=null}const hy=t=>Array.isArray(t)&&typeof t[0]=="number",UM={linearEasing:void 0};function BM(t,e){const n=Gg(t);return()=>{var r;return(r=UM[e])!==null&&r!==void 0?r:n()}}const Gh=BM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),LS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Ta(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function OS(t){return!!(typeof t=="function"&&Gh()||!t||typeof t=="string"&&(t in xm||Gh())||hy(t)||Array.isArray(t)&&t.every(OS))}const $l=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function MS(t,e){if(t)return typeof t=="function"&&Gh()?LS(t,e):hy(t)?$l(t):Array.isArray(t)?t.map(n=>MS(n,e)||xm.easeOut):xm[t]}const sr={x:!1,y:!1};function jS(){return sr.x||sr.y}function zM(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function FS(t,e){const n=zM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function $w(t){return!(t.pointerType==="touch"||jS())}function $M(t,e,n={}){const[r,s,a]=FS(t,n),l=h=>{if(!$w(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=_=>{$w(_)&&(p(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}function Qh(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const US=(t,e)=>e?t===e?!0:US(t,e.parentElement):!1,dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WM(t){return HM.has(t.tagName)||t.tabIndex!==-1}const Hl=new WeakSet;function Hw(t){return e=>{e.key==="Enter"&&t(e)}}function Lp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hw(()=>{if(Hl.has(n))return;Lp(n,"down");const s=Hw(()=>{Lp(n,"up")}),a=()=>Lp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ww(t){return dy(t)&&!jS()}function KM(t,e,n={}){const[r,s,a]=FS(t,n),l=h=>{const d=h.currentTarget;if(!d||!Ww(h)||Hl.has(d))return;Hl.add(d),Qh(h,"set");const p=e(d,h),g=(S,x)=>{d.removeEventListener("pointerup",_),d.removeEventListener("pointercancel",E),Qh(S,"release"),!(!Ww(S)||!Hl.has(d))&&(Hl.delete(d),typeof p=="function"&&p(S,{success:x}))},_=S=>{(S.isTrusted?GM(S,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(d instanceof Element)||US(d,S.target))},E=S=>{g(S,!1)};d.addEventListener("pointerup",_,s),d.addEventListener("pointercancel",E,s),d.addEventListener("lostpointercapture",E,s)};return r.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!WM(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",l,s),d&&h.addEventListener("focus",p=>qM(p,s),s)}),a}function GM(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function QM(t){return t==="x"||t==="y"?sr[t]?null:(sr[t]=!0,()=>{sr[t]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1})}const BS=new Set(["width","height","top","left","right","bottom",...Oa]);let Sh;function YM(){Sh=void 0}const kr={now:()=>(Sh===void 0&&kr.set(Ft.isProcessing||WO.useManualTiming?Ft.timestamp:performance.now()),Sh),set:t=>{Sh=t,queueMicrotask(YM)}};function fy(t,e){t.indexOf(e)===-1&&t.push(e)}function py(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class my{constructor(){this.subscriptions=[]}add(e){return fy(this.subscriptions,e),()=>py(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function zS(t,e){return e?t*(1e3/e):0}const qw=30,XM=t=>!isNaN(parseFloat(t));class JM{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=kr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new my);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qw);return zS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new JM(t,e)}function ZM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gu(n))}function e4(t,e){const n=mu(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=bM(a[l]);ZM(t,l,h)}}function t4(t){return!!(Xt(t)&&t.add)}function Pm(t,e){const n=t.getValue("willChange");if(t4(n))return n.add(e)}function $S(t){return t.props[wS]}const HS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,n4=1e-7,r4=12;function i4(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=HS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>n4&&++h<r4);return l}function Vu(t,e,n,r){if(t===e&&n===r)return Pn;const s=a=>i4(a,0,1,t,n);return a=>a===0||a===1?a:HS(s(a),e,r)}const WS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qS=t=>e=>1-t(1-e),KS=Vu(.33,1.53,.69,.99),gy=qS(KS),GS=WS(gy),QS=t=>(t*=2)<1?.5*gy(t):.5*(2-Math.pow(2,-10*(t-1))),yy=t=>1-Math.sin(Math.acos(t)),YS=qS(yy),XS=WS(yy),JS=t=>/^0[^.\s]+$/u.test(t);function s4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JS(t):!0}const Xl=t=>Math.round(t*1e5)/1e5,vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o4(t){return t==null}const a4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(t,e)=>n=>!!(typeof n=="string"&&a4.test(n)&&n.startsWith(t)||e&&!o4(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(vy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},l4=t=>hi(0,255,t),Op={...Ma,transform:t=>Math.round(l4(t))},zs={test:_y("rgb","red"),parse:ZS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Op.transform(t)+", "+Op.transform(e)+", "+Op.transform(n)+", "+Xl(pu.transform(r))+")"};function u4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rm={test:_y("#"),parse:u4,transform:zs.transform},na={test:_y("hsl","hue"),parse:ZS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rr.transform(Xl(e))+", "+Rr.transform(Xl(n))+", "+Xl(pu.transform(r))+")"},Gt={test:t=>zs.test(t)||Rm.test(t)||na.test(t),parse:t=>zs.test(t)?zs.parse(t):na.test(t)?na.parse(t):Rm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zs.transform(t):na.transform(t)},c4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(c4))===null||n===void 0?void 0:n.length)||0)>0}const eC="number",tC="color",d4="var",f4="var(",Kw="${}",p4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(p4,d=>(Gt.test(d)?(r.color.push(a),s.push(tC),n.push(Gt.parse(d))):d.startsWith(f4)?(r.var.push(a),s.push(d4),n.push(d)):(r.number.push(a),s.push(eC),n.push(parseFloat(d))),++a,Kw)).split(Kw);return{values:n,split:h,indexes:r,types:s}}function nC(t){return yu(t).values}function rC(t){const{split:e,types:n}=yu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===eC?a+=Xl(s[l]):h===tC?a+=Gt.transform(s[l]):a+=s[l]}return a}}const m4=t=>typeof t=="number"?0:t;function g4(t){const e=nC(t);return rC(t)(e.map(m4))}const is={test:h4,parse:nC,createTransformer:rC,getAnimatableNone:g4},y4=new Set(["brightness","contrast","saturate","opacity"]);function v4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(vy)||[];if(!r)return t;const s=n.replace(r,"");let a=y4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const _4=/\b([a-z-]*)\(.*?\)/gu,km={...is,getAnimatableNone:t=>{const e=t.match(_4);return e?e.map(v4).join(" "):t}},w4={...ty,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:km,WebkitFilter:km},wy=t=>w4[t];function iC(t,e){let n=wy(t);return n!==km&&(n=is),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T4=new Set(["auto","none","0"]);function E4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!T4.has(a)&&yu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=iC(n,s)}const Gw=t=>t===Ma||t===Ce,Qw=(t,e)=>parseFloat(t.split(", ")[e]),Yw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Qw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Qw(a[1],t):0}},I4=new Set(["x","y","z"]),S4=Oa.filter(t=>!I4.has(t));function C4(t){const e=[];return S4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yw(4,13),y:Yw(5,14)};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const Ws=new Set;let bm=!1,Nm=!1;function sC(){if(Nm){const t=Array.from(Ws).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=C4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nm=!1,bm=!1,Ws.forEach(t=>t.complete()),Ws.clear()}function oC(){Ws.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nm=!0)})}function A4(){oC(),sC()}class Ty{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ws.add(this),bm||(bm=!0,et.read(oC),et.resolveKeyframes(sC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const aC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),x4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P4(t){const e=x4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function lC(t,e,n=1){const[r,s]=P4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return aC(l)?parseFloat(l):l}return ey(s)?lC(s,e,n+1):s}const uC=t=>e=>e.test(t),R4={test:t=>t==="auto",parse:t=>t},cC=[Ma,Ce,Rr,ji,pM,fM,R4],Xw=t=>cC.find(uC(t));class hC extends Ty{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),ey(p))){const g=lC(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!BS.has(r)||e.length!==2)return;const[s,a]=e,l=Xw(s),h=Xw(a);if(l!==h)if(Gw(l)&&Gw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)s4(e[s])&&r.push(s);r.length&&E4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Ia[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Jw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(is.test(t)||t==="0")&&!t.startsWith("url("));function k4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function b4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Jw(s,e),h=Jw(a,e);return!l||!h?!1:k4(t)||(n==="spring"||cy(n))&&r}const N4=t=>t!==null;function Fd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(N4),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const D4=40;class dC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>D4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&A4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!b4(e,r,s,a))if(l)this.options.duration=0;else{d&&d(Fd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,n)=>t+(e-t)*n;function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=Mp(d,h,t+1/3),a=Mp(d,h,t),l=Mp(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Yh(t,e){return n=>n>0?e:t}const jp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},L4=[Rm,zs,na],O4=t=>L4.find(e=>e.test(t));function Zw(t){const e=O4(t);if(!e)return!1;let n=e.parse(t);return e===na&&(n=V4(n)),n}const eT=(t,e)=>{const n=Zw(t),r=Zw(e);if(!n||!r)return Yh(t,e);const s={...n};return a=>(s.red=jp(n.red,r.red,a),s.green=jp(n.green,r.green,a),s.blue=jp(n.blue,r.blue,a),s.alpha=ct(n.alpha,r.alpha,a),zs.transform(s))},M4=(t,e)=>n=>e(t(n)),Lu=(...t)=>t.reduce(M4),Dm=new Set(["none","hidden"]);function j4(t,e){return Dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function F4(t,e){return n=>ct(t,e,n)}function Ey(t){return typeof t=="number"?F4:typeof t=="string"?ey(t)?Yh:Gt.test(t)?eT:z4:Array.isArray(t)?fC:typeof t=="object"?Gt.test(t)?eT:U4:Yh}function fC(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Ey(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function U4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ey(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function B4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],d=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=d,s[l]++}return r}const z4=(t,e)=>{const n=is.createTransformer(e),r=yu(t),s=yu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dm.has(t)&&!s.values.length||Dm.has(e)&&!r.values.length?j4(t,e):Lu(fC(B4(r,s),s.values),n):Yh(t,e)};function pC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):Ey(t)(t,e)}const $4=5;function mC(t,e,n){const r=Math.max(e-$4,0);return zS(n-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tT=.001;function H4({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:r=ft.mass}){let s,a,l=1-e;l=hi(ft.minDamping,ft.maxDamping,l),t=hi(ft.minDuration,ft.maxDuration,si(t)),l<1?(s=p=>{const g=p*l,_=g*t,E=g-n,S=Vm(p,l),x=Math.exp(-_);return tT-E/S*x},a=p=>{const _=p*l*t,E=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,x=Math.exp(-_),N=Vm(Math.pow(p,2),l);return(-s(p)+tT>0?-1:1)*((E-S)*x)/N}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,d=q4(s,a,h);if(t=ii(t),isNaN(d))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const W4=12;function q4(t,e,n){let r=n;for(let s=1;s<W4;s++)r=r-t(r)/e(r);return r}function Vm(t,e){return t*Math.sqrt(1-e*e)}const K4=["duration","bounce"],G4=["stiffness","damping","mass"];function nT(t,e){return e.some(n=>t[n]!==void 0)}function Q4(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!nT(t,G4)&&nT(t,K4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*hi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ft.mass,stiffness:s,damping:a}}else{const n=H4(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function gC(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:S}=Q4({...n,velocity:-si(n.velocity||0)}),x=E||0,N=p/(2*Math.sqrt(d*g)),R=l-a,O=si(Math.sqrt(d/g)),U=Math.abs(R)<5;r||(r=U?ft.restSpeed.granular:ft.restSpeed.default),s||(s=U?ft.restDelta.granular:ft.restDelta.default);let F;if(N<1){const Y=Vm(O,N);F=Z=>{const k=Math.exp(-N*O*Z);return l-k*((x+N*O*R)/Y*Math.sin(Y*Z)+R*Math.cos(Y*Z))}}else if(N===1)F=Y=>l-Math.exp(-O*Y)*(R+(x+O*R)*Y);else{const Y=O*Math.sqrt(N*N-1);F=Z=>{const k=Math.exp(-N*O*Z),C=Math.min(Y*Z,300);return l-k*((x+N*O*R)*Math.sinh(C)+Y*R*Math.cosh(C))/Y}}const Q={calculatedDuration:S&&_||null,next:Y=>{const Z=F(Y);if(S)h.done=Y>=_;else{let k=0;N<1&&(k=Y===0?ii(x):mC(F,Y,Z));const C=Math.abs(k)<=r,P=Math.abs(l-Z)<=s;h.done=C&&P}return h.value=h.done?l:Z,h},toString:()=>{const Y=Math.min(VS(Q),Am),Z=LS(k=>Q.next(Y*k).value,Y,30);return Y+"ms "+Z}};return Q}function rT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:d,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},S=C=>h!==void 0&&C<h||d!==void 0&&C>d,x=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let N=n*e;const R=_+N,O=l===void 0?R:l(R);O!==R&&(N=O-_);const U=C=>-N*Math.exp(-C/r),F=C=>O+U(C),Q=C=>{const P=U(C),V=F(C);E.done=Math.abs(P)<=p,E.value=E.done?O:V};let Y,Z;const k=C=>{S(E.value)&&(Y=C,Z=gC({keyframes:[E.value,x(E.value)],velocity:mC(F,C,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!Z&&Y===void 0&&(P=!0,Q(C),k(C)),Y!==void 0&&C>=Y?Z.next(C-Y):(!P&&Q(C),E)}}}const Y4=Vu(.42,0,1,1),X4=Vu(0,0,.58,1),yC=Vu(.42,0,.58,1),J4=t=>Array.isArray(t)&&typeof t[0]!="number",Z4={linear:Pn,easeIn:Y4,easeInOut:yC,easeOut:X4,circIn:yy,circInOut:XS,circOut:YS,backIn:gy,backInOut:GS,backOut:KS,anticipate:QS},iT=t=>{if(hy(t)){mS(t.length===4);const[e,n,r,s]=t;return Vu(e,n,r,s)}else if(typeof t=="string")return Z4[t];return t};function ej(t,e,n){const r=[],s=n||pC,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Pn:e;h=Lu(d,h)}r.push(h)}return r}function tj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(mS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=ej(e,r,s),d=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=Ta(t[_],t[_+1],g);return h[_](E)};return n?g=>p(hi(t[0],t[a-1],g)):p}function nj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ta(0,e,r);t.push(ct(n,1,s))}}function rj(t){const e=[0];return nj(e,t.length-1),e}function ij(t,e){return t.map(n=>n*e)}function sj(t,e){return t.map(()=>e||yC).splice(0,t.length-1)}function Xh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=J4(r)?r.map(iT):iT(r),a={done:!1,value:e[0]},l=ij(n&&n.length===e.length?n:rj(e),t),h=tj(l,e,{ease:Array.isArray(s)?s:sj(e,s)});return{calculatedDuration:t,next:d=>(a.value=h(d),a.done=d>=t,a)}}const oj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>rs(e),now:()=>Ft.isProcessing?Ft.timestamp:kr.now()}},aj={decay:rT,inertia:rT,tween:Xh,keyframes:Xh,spring:gC},lj=t=>t/100;class Iy extends dC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||Ty,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=cy(n)?n:aj[n]||Xh;let d,p;h!==Xh&&typeof e[0]!="number"&&(d=Lu(lj,pC(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=VS(g));const{calculatedDuration:_}=g,E=_+s,S=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:x,repeatDelay:N,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-E*(this.speed>=0?1:-1),U=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,Q=a;if(S){const C=Math.min(this.currentTime,g)/_;let P=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&P--,P=Math.min(P,S+1),!!(P%2)&&(x==="reverse"?(V=1-V,N&&(V-=N/_)):x==="mirror"&&(Q=l)),F=hi(0,1,V)*_}const Y=U?{done:!1,value:d[0]}:Q.next(F);h&&(Y.value=h(Y.value));let{done:Z}=Y;!U&&p!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return k&&s!==void 0&&(Y.value=Fd(d,this.options,s)),R&&R(Y.value),k&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?si(e.calculatedDuration):0}get time(){return si(this.currentTime)}set time(e){e=ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uj=new Set(["opacity","clipPath","filter","transform"]);function cj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=MS(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const hj=Gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jh=10,dj=2e4;function fj(t){return cy(t.type)||t.type==="spring"||!OS(t.ease)}function pj(t,e){const n=new Iy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<dj;)r=n.sample(a),s.push(r.value),a+=Jh;return{times:void 0,keyframes:s,duration:a-Jh,ease:"linear"}}const vC={anticipate:QS,backInOut:GS,circInOut:XS};function mj(t){return t in vC}class sT extends dC{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new hC(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Gh()&&mj(a)&&(a=vC[a]),fj(this.options)){const{onComplete:_,onUpdate:E,motionValue:S,element:x,...N}=this.options,R=pj(e,N);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,s=R.times,a=R.ease,l="keyframes"}const g=cj(h.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(zw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Fd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return si(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return si(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pn;const{animation:r}=n;zw(r,e)}return Pn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...S}=this.options,x=new Iy({...S,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),N=ii(this.time);p.setWithVelocity(x.sample(N-Jh).value,x.sample(N).value,Jh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return hj()&&r&&uj.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const gj={type:"spring",stiffness:500,damping:25,restSpeed:10},yj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vj={type:"keyframes",duration:.8},_j={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wj=(t,{keyframes:e})=>e.length>2?vj:ro.has(t)?t.startsWith("scale")?yj(e[1]):gj:_j;function Tj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Sy=(t,e,n,r={},s,a)=>l=>{const h=uy(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ii(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};Tj(h)||(g={...g,...wj(t,g)}),g.duration&&(g.duration=ii(g.duration)),g.repeatDelay&&(g.repeatDelay=ii(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=Fd(g.keyframes,h);if(E!==void 0)return et.update(()=>{g.onUpdate(E),g.onComplete()}),new FM([])}return!a&&sT.supports(g)?new sT(g):new Iy(g)};function Ej({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _C(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...d}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in d){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=d[_];if(S===void 0||g&&Ej(g,_))continue;const x={delay:n,...uy(l||{},_)};let N=!1;if(window.MotionHandoffAnimation){const O=$S(t);if(O){const U=window.MotionHandoffAnimation(O,_,et);U!==null&&(x.startTime=U,N=!0)}}Pm(t,_),E.start(Sy(_,E,S,t.shouldReduceMotion&&BS.has(_)?{type:!1}:x,t,N));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{et.update(()=>{h&&e4(t,h)})}),p}function Lm(t,e,n={}){var r;const s=mu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(_C(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return Ij(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function Ij(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(Sj).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Lm(p,e,{...a,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function Sj(t,e){return t.sortNodePosition(e)}function Cj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Lm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Lm(t,e,n);else{const s=typeof e=="function"?mu(t,e,n.custom):e;r=Promise.all(_C(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Aj=Yg.length;function TC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Aj;n++){const r=Yg[n],s=t.props[r];(du(s)||s===!1)&&(e[r]=s)}return e}const xj=[...Qg].reverse(),Pj=Qg.length;function Rj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Cj(t,n,r)))}function kj(t){let e=Rj(t),n=oT(),r=!0;const s=d=>(p,g)=>{var _;const E=mu(t,g,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:S,transitionEnd:x,...N}=E;p={...p,...N,...x}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=TC(t.parent)||{},_=[],E=new Set;let S={},x=1/0;for(let R=0;R<Pj;R++){const O=xj[R],U=n[O],F=p[O]!==void 0?p[O]:g[O],Q=du(F),Y=O===d?U.isActive:null;Y===!1&&(x=R);let Z=F===g[O]&&F!==p[O]&&Q;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),U.protectedKeys={...S},!U.isActive&&Y===null||!F&&!U.prevProp||Md(F)||typeof F=="boolean")continue;const k=bj(U.prevProp,F);let C=k||O===d&&U.isActive&&!Z&&Q||R>x&&Q,P=!1;const V=Array.isArray(F)?F:[F];let j=V.reduce(s(O),{});Y===!1&&(j={});const{prevResolvedValues:z={}}=U,D={...z,...j},qe=we=>{C=!0,E.has(we)&&(P=!0,E.delete(we)),U.needsAnimating[we]=!0;const re=t.getValue(we);re&&(re.liveStyle=!1)};for(const we in D){const re=j[we],ge=z[we];if(S.hasOwnProperty(we))continue;let ue=!1;Cm(re)&&Cm(ge)?ue=!wC(re,ge):ue=re!==ge,ue?re!=null?qe(we):E.add(we):re!==void 0&&E.has(we)?qe(we):U.protectedKeys[we]=!0}U.prevProp=F,U.prevResolvedValues=j,U.isActive&&(S={...S,...j}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(Z&&k)||P)&&_.push(...V.map(we=>({animation:we,options:{type:O}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const O=mu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(R.transition=O.transition)}E.forEach(O=>{const U=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=U??null}),_.push({animation:R})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function h(d,p){var g;if(n[d].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(d,p)}),n[d].isActive=p;const _=l(d);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=oT(),r=!0}}}function bj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wC(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oT(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Nj extends us{constructor(e){super(e),e.animationState||(e.animationState=kj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Dj=0;class Vj extends us{constructor(){super(...arguments),this.id=Dj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Lj={animation:{Feature:Nj},exit:{Feature:Vj}};function vu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const Oj=t=>e=>dy(e)&&t(e,Ou(e));function ra(t,e,n,r){return vu(t,e,Oj(n),r)}function EC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Mj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const IC=1e-4,Fj=1-IC,Uj=1+IC,SC=.01,Bj=0-SC,zj=0+SC;function sn(t){return t.max-t.min}function $j(t,e,n){return Math.abs(t-e)<=n}function aT(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Fj&&t.scale<=Uj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bj&&t.translate<=zj||isNaN(t.translate))&&(t.translate=0)}function Jl(t,e,n,r){aT(t.x,e.x,n.x,r?r.originX:void 0),aT(t.y,e.y,n.y,r?r.originY:void 0)}function lT(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function Hj(t,e,n){lT(t.x,e.x,n.x),lT(t.y,e.y,n.y)}function uT(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Zl(t,e,n){uT(t.x,e.x,n.x),uT(t.y,e.y,n.y)}const cT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ia=()=>({x:cT(),y:cT()}),hT=()=>({min:0,max:0}),gt=()=>({x:hT(),y:hT()});function Bn(t){return[t("x"),t("y")]}function Fp(t){return t===void 0||t===1}function Om({scale:t,scaleX:e,scaleY:n}){return!Fp(t)||!Fp(e)||!Fp(n)}function Fs(t){return Om(t)||CC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CC(t){return dT(t.x)||dT(t.y)}function dT(t){return t&&t!=="0%"}function Zh(t,e,n){const r=t-n,s=e*r;return n+s}function fT(t,e,n,r,s){return s!==void 0&&(t=Zh(t,s,r)),Zh(t,n,r)+e}function Mm(t,e=0,n=1,r,s){t.min=fT(t.min,e,n,r,s),t.max=fT(t.max,e,n,r,s)}function AC(t,{x:e,y:n}){Mm(t.x,e.translate,e.scale,e.originPoint),Mm(t.y,n.translate,n.scale,n.originPoint)}const pT=.999999999999,mT=1.0000000000001;function Wj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,AC(t,l)),r&&Fs(a.latestValues)&&oa(t,a.latestValues))}e.x<mT&&e.x>pT&&(e.x=1),e.y<mT&&e.y>pT&&(e.y=1)}function sa(t,e){t.min=t.min+e,t.max=t.max+e}function gT(t,e,n,r,s=.5){const a=ct(t.min,t.max,s);Mm(t,e,n,a,r)}function oa(t,e){gT(t.x,e.x,e.scaleX,e.scale,e.originX),gT(t.y,e.y,e.scaleY,e.scale,e.originY)}function xC(t,e){return EC(jj(t.getBoundingClientRect(),e))}function qj(t,e,n){const r=xC(t,n),{scroll:s}=e;return s&&(sa(r.x,s.offset.x),sa(r.y,s.offset.y)),r}const yT=(t,e)=>Math.abs(t-e);function Kj(t,e){const n=yT(t.x,e.x),r=yT(t.y,e.y);return Math.sqrt(n**2+r**2)}class PC{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=Kj(g.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:S}=g,{timestamp:x}=Ft;this.history.push({...S,timestamp:x});const{onStart:N,onMove:R}=this.handlers;_||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,_)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Up(_,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(g,_)=>{Qh(g,"release"),this.end();const{onEnd:E,onSessionEnd:S,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Bp(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Up(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,N),S&&S(g,N)},!dy(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r;const a=Ou(e),l=Up(a,this.transformPagePoint),{point:h}=l,{timestamp:d}=Ft;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,Bp(l,this.history)),Qh(e,"set"),this.removeListeners=Lu(ra(e.currentTarget,"pointermove",this.handlePointerMove),ra(e.currentTarget,"pointerup",this.handlePointerUp),ra(e.currentTarget,"pointercancel",this.handlePointerUp),ra(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function Up(t,e){return e?{point:e(t.point)}:t}function vT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bp({point:t},e){return{point:t,delta:vT(t,RC(e)),offset:vT(t,Gj(e)),velocity:Qj(e,.1)}}function Gj(t){return t[0]}function RC(t){return t[t.length-1]}function Qj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ii(e)));)n--;if(!r)return{x:0,y:0};const a=si(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Yj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function _T(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Xj(t,{top:e,left:n,bottom:r,right:s}){return{x:_T(t.x,n,s),y:_T(t.y,e,r)}}function wT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Jj(t,e){return{x:wT(t.x,e.x),y:wT(t.y,e.y)}}function Zj(t,e){let n=.5;const r=sn(t),s=sn(e);return s>r?n=Ta(e.min,e.max-r,t.min):r>s&&(n=Ta(t.min,t.max-s,e.min)),hi(0,1,n)}function e3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jm=.35;function t3(t=jm){return t===!1?t=0:t===!0&&(t=jm),{x:TT(t,"left","right"),y:TT(t,"top","bottom")}}function TT(t,e,n){return{min:ET(t,e),max:ET(t,n)}}function ET(t,e){return typeof t=="number"?t:t[e]||0}const n3=new WeakMap;class r3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:S,onDragStart:x}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QM(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(R=>{let O=this.getAxisMotionValue(R).get()||0;if(Rr.test(O)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[R];F&&(O=sn(F)*(parseFloat(O)/100))}}this.originPoint[R]=O}),x&&et.postRender(()=>x(g,_)),Pm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:x,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(S&&this.currentDirection===null){this.currentDirection=i3(R),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),N&&N(g,_)},h=(g,_)=>this.stop(g,_),d=()=>Bn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PC(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ch(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Yj(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ta(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Xj(s.layoutBox,n):this.constraints=!1,this.elastic=t3(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=e3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ta(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=qj(r,s.root,this.visualElement.getTransformPagePoint());let l=Jj(s.layout.layoutBox,a);if(n){const h=n(Mj(l));this.hasMutatedConstraints=!!h,h&&(l=EC(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Bn(g=>{if(!ch(g,n,this.currentDirection))return;let _=d&&d[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,x={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pm(this.visualElement,e),r.start(Sy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!ch(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-ct(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ta(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const d=h.get();s[l]=Zj({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(l=>{if(!ch(l,e,null))return;const h=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];h.set(ct(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;n3.set(this.visualElement,this);const e=this.visualElement.current,n=ra(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ta(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const l=vu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Bn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=jm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s3 extends us{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new r3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const IT=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class o3 extends us{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new PC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:IT(e),onStart:IT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&et.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ra(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ch={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ST(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=ST(t,e.target.x),r=ST(t,e.target.y);return`${n}% ${r}%`}},a3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=is.parse(t);if(s.length>5)return r;const a=is.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=d;const p=ct(h,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class l3 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;dM(u3),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ch.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||et.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kC(t){const[e,n]=fS(),r=L.useContext(Hg);return T.jsx(l3,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(TS),isPresent:e,safeToRemove:n})}const u3={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:a3};function c3(t,e,n){const r=Xt(t)?t:gu(t);return r.start(Sy("",r,e,n)),r.animation}function h3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const d3=(t,e)=>t.depth-e.depth;class f3{constructor(){this.children=[],this.isDirty=!1}add(e){fy(this.children,e),this.isDirty=!0}remove(e){py(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d3),this.isDirty=!1,this.children.forEach(e)}}function p3(t,e){const n=kr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(rs(r),t(a-e))};return et.read(r,!0),()=>rs(r)}const bC=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=bC.length,CT=t=>typeof t=="string"?parseFloat(t):t,AT=t=>typeof t=="number"||Ce.test(t);function g3(t,e,n,r,s,a){s?(t.opacity=ct(0,n.opacity!==void 0?n.opacity:1,y3(r)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,v3(r))):a&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<m3;l++){const h=`border${bC[l]}Radius`;let d=xT(e,h),p=xT(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||AT(d)===AT(p)?(t[h]=Math.max(ct(CT(d),CT(p),r),0),(Rr.test(p)||Rr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function xT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y3=NC(0,.5,YS),v3=NC(.5,.95,Pn);function NC(t,e,n){return r=>r<t?0:r>e?1:n(Ta(t,e,r))}function PT(t,e){t.min=e.min,t.max=e.max}function Un(t,e){PT(t.x,e.x),PT(t.y,e.y)}function RT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kT(t,e,n,r,s){return t-=e,t=Zh(t,1/n,r),s!==void 0&&(t=Zh(t,1/s,r)),t}function _3(t,e=0,n=1,r=.5,s,a=t,l=t){if(Rr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=ct(a.min,a.max,r);t===a&&(h-=e),t.min=kT(t.min,e,n,h,s),t.max=kT(t.max,e,n,h,s)}function bT(t,e,[n,r,s],a,l){_3(t,e[n],e[r],e[s],e.scale,a,l)}const w3=["x","scaleX","originX"],T3=["y","scaleY","originY"];function NT(t,e,n,r){bT(t.x,e,w3,n?n.x:void 0,r?r.x:void 0),bT(t.y,e,T3,n?n.y:void 0,r?r.y:void 0)}function DT(t){return t.translate===0&&t.scale===1}function DC(t){return DT(t.x)&&DT(t.y)}function VT(t,e){return t.min===e.min&&t.max===e.max}function E3(t,e){return VT(t.x,e.x)&&VT(t.y,e.y)}function LT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VC(t,e){return LT(t.x,e.x)&&LT(t.y,e.y)}function OT(t){return sn(t.x)/sn(t.y)}function MT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class I3{constructor(){this.members=[]}add(e){fy(this.members,e),e.scheduleRender()}remove(e){if(py(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S3(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:S,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),x&&(r+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const zp=["","X","Y","Z"],C3={visibility:"hidden"},jT=1e3;let A3=0;function $p(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$S(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&LC(r)}function OC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e==null?void 0:e()){this.id=A3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R3),this.nodes.forEach(V3),this.nodes.forEach(L3),this.nodes.forEach(k3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new f3)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new my),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const d=this.eventHandlers.get(l);d&&d.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h3(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=p3(E,250),Ch.hasAnimatedSinceResize&&(Ch.hasAnimatedSinceResize=!1,this.nodes.forEach(UT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||U3,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=g.getProps(),U=!this.targetLayout||!VC(this.targetLayout,x),F=!E&&S;if(this.options.layoutRoot||this.resumeFrom||F||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,F);const Q={...uy(N,"layout"),onPlay:R,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else E||UT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FT);return}this.isUpdating||this.nodes.forEach(N3),this.isUpdating=!1,this.nodes.forEach(D3),this.nodes.forEach(x3),this.nodes.forEach(P3),this.clearAllSnapshots();const h=kr.now();Ft.delta=hi(0,1e3/60,h-Ft.timestamp),Ft.timestamp=h,Ft.isProcessing=!0,Vp.update.process(Ft),Vp.preRender.process(Ft),Vp.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b3),this.sharedNodes.forEach(M3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!DC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||Fs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return l&&(d=this.removeTransform(d)),B3(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return gt();const d=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(z3))){const{scroll:g}=this.root;g&&(sa(d.x,g.offset.x),sa(d.y,g.offset.y))}return d}removeElementScroll(l){var h;const d=gt();if(Un(d,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Un(d,l),sa(d.x,_.offset.x),sa(d.y,_.offset.y))}return d}applyTransform(l,h=!1){const d=gt();Un(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&oa(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Fs(g.latestValues)&&oa(d,g.latestValues)}return Fs(this.latestValues)&&oa(d,this.latestValues),d}removeTransform(l){const h=gt();Un(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Fs(p.latestValues))continue;Om(p.latestValues)&&p.updateSnapshot();const g=gt(),_=p.measurePageBox();Un(g,_),NT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Fs(this.latestValues)&&NT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Zl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),AC(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Zl(this.relativeTargetOrigin,this.target,S.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Om(this.parent.latestValues)||CC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Un(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;Wj(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=gt());const{target:x}=h;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RT(this.prevProjectionDelta.x,this.projectionDelta.x),RT(this.prevProjectionDelta.y,this.projectionDelta.y)),Jl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!MT(this.projectionDelta.x,this.prevProjectionDelta.x)||!MT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ia(),this.projectionDelta=ia(),this.projectionDeltaWithTransform=ia()}setAnimationOrigin(l,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},_=ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=gt(),S=d?d.source:void 0,x=this.layout?this.layout.source:void 0,N=S!==x,R=this.getStack(),O=!R||R.members.length<=1,U=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(F3));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const Y=Q/1e3;BT(_.x,l.x,Y),BT(_.y,l.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,E,Y),F&&E3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=gt()),Un(F,this.relativeTarget)),N&&(this.animationValues=g,g3(g,p,this.latestValues,Y,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Ch.hasAnimatedSinceResize=!0,this.currentAnimation=c3(0,jT,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=l;if(!(!h||!d||!p)){if(this!==l&&this.layout&&p&&MC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||gt();const _=sn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const E=sn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+E}Un(h,d),oa(h,g),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new I3),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&$p("z",l,p,this.animationValues);for(let g=0;g<zp.length;g++)$p(`rotate${zp[g]}`,l,p,this.animationValues),$p(`skew${zp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return C3;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ih(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Ih(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Fs(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=S3(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:S,y:x}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const N in fu){if(E[N]===void 0)continue;const{correct:R,applyTo:O,isCSSVariable:U}=fu[N],F=p.transform==="none"?E[N]:R(E[N],_);if(O){const Q=O.length;for(let Y=0;Y<Q;Y++)p[O[Y]]=F}else U?this.options.visualElement.renderState.vars[N]=F:p[N]=F}return this.options.layoutId&&(p.pointerEvents=_===this?Ih(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(FT),this.root.sharedNodes.clear()}}}function x3(t){t.updateLayout()}function P3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Bn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=sn(E);E.min=r[_].min,E.max=E.min+S}):MC(a,n.layoutBox,r)&&Bn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=sn(r[_]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=ia();Jl(h,r,n.layoutBox);const d=ia();l?Jl(d,t.applyTransform(s,!0),n.measuredBox):Jl(d,r,n.layoutBox);const p=!DC(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const x=gt();Zl(x,n.layoutBox,E.layoutBox);const N=gt();Zl(N,r,S.layoutBox),VC(x,N)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function R3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function k3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b3(t){t.clearSnapshot()}function FT(t){t.clearMeasurements()}function N3(t){t.isLayoutDirty=!1}function D3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function UT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V3(t){t.resolveTargetDelta()}function L3(t){t.calcProjection()}function O3(t){t.resetSkewAndRotation()}function M3(t){t.removeLeadSnapshot()}function BT(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zT(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function j3(t,e,n,r){zT(t.x,e.x,n.x,r),zT(t.y,e.y,n.y,r)}function F3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U3={duration:.45,ease:[.4,0,.1,1]},$T=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HT=$T("applewebkit/")&&!$T("chrome/")?Math.round:Pn;function WT(t){t.min=HT(t.min),t.max=HT(t.max)}function B3(t){WT(t.x),WT(t.y)}function MC(t,e,n){return t==="position"||t==="preserve-aspect"&&!$j(OT(e),OT(n),.2)}function z3(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $3=OC({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},jC=OC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hp.current){const t=new $3({});t.mount(window),t.setOptions({layoutScroll:!0}),Hp.current=t}return Hp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),H3={pan:{Feature:o3},drag:{Feature:s3,ProjectionNode:jC,MeasureLayout:kC}};function qT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&et.postRender(()=>a(e,Ou(e)))}class W3 extends us{mount(){const{current:e}=this.node;e&&(this.unmount=$M(e,(n,r)=>(qT(this.node,r,"Start"),s=>qT(this.node,s,"End"))))}unmount(){}}class q3 extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lu(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&et.postRender(()=>a(e,Ou(e)))}class K3 extends us{mount(){const{current:e}=this.node;e&&(this.unmount=KM(e,(n,r)=>(KT(this.node,r,"Start"),(s,{success:a})=>KT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,Wp=new WeakMap,G3=t=>{const e=Fm.get(t.target);e&&e(t)},Q3=t=>{t.forEach(G3)};function Y3({root:t,...e}){const n=t||document;Wp.has(n)||Wp.set(n,{});const r=Wp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Q3,{root:t,...e})),r[s]}function X3(t,e,n){const r=Y3(e);return Fm.set(t,n),r.observe(t),()=>{Fm.delete(t),r.unobserve(t)}}const J3={some:0,all:1};class Z3 extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:J3[s]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(d)};return X3(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eF(e,n))&&this.startObserver()}unmount(){}}function eF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tF={inView:{Feature:Z3},tap:{Feature:K3},focus:{Feature:q3},hover:{Feature:W3}},nF={layout:{ProjectionNode:jC,MeasureLayout:kC}},Um={current:null},FC={current:!1};function rF(){if(FC.current=!0,!!Kg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Um.current=t.matches;t.addListener(e),e()}else Um.current=!1}const iF=[...cC,Gt,is],sF=t=>iF.find(uC(t)),oF=new WeakMap;function aF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Xt(s))t.addValue(r,s);else if(Xt(a))t.addValue(r,gu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,gu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=kr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,et.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=jd(n),this.isVariantNode=_S(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const x=E[S];d[S]!==void 0&&Xt(x)&&x.set(d[S],!1)}}mount(e){this.current=e,oF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FC.current||rF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Um.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ro.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ea){const n=Ea[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GT.length;r++){const s=GT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=aF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aC(s)||JS(s))?s=parseFloat(s):!sF(s)&&is.test(n)&&(s=iC(e,n)),this.setBaseTarget(e,Xt(s)?s.get():s)),Xt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=ay(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new my),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class UC extends lF{constructor(){super(...arguments),this.KeyframeResolver=hC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uF(t){return window.getComputedStyle(t)}class cF extends UC{constructor(){super(...arguments),this.type="html",this.renderInstance=kS}readValueFromInstance(e,n){if(ro.has(n)){const r=wy(n);return r&&r.default||0}else{const r=uF(e),s=(Zg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xC(e,n)}build(e,n,r){ny(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ly(e,n,r)}}class hF extends UC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&RS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ro.has(n)){const r=wy(n);return r&&r.default||0}return n=bS.has(n)?n:Xg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DS(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&et.postRender(this.updateDimensions)}build(e,n,r){sy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){NS(e,n,r,s)}mount(e){this.isSVGTag=oy(e.tagName),super.mount(e)}}const dF=(t,e)=>iy(t)?new hF(e):new cF(e,{allowProjection:t!==L.Fragment}),fF=OM({...Lj,...tF,...H3,...nF},dF),Re=JO(fF);var BC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QT=We.createContext&&We.createContext(BC),pF=["attr","size","title"];function mF(t,e){if(t==null)return{};var n=gF(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){yF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yF(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=_F(t,"string");return typeof e=="symbol"?e:e+""}function _F(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zC(t){return t&&t.map((e,n)=>We.createElement(e.tag,td({key:n},e.attr),zC(e.child)))}function Lr(t){return e=>We.createElement(wF,ed({attr:td({},t.attr)},e),zC(t.child))}function wF(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=mF(t,pF),h=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),We.createElement("svg",ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:td(td({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&We.createElement("title",null,a),t.children)};return QT!==void 0?We.createElement(QT.Consumer,null,n=>e(n)):e(BC)}function TF(t){return Lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function EF(t){return Lr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function IF(t){return Lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function SF(t){return Lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function CF(t){return Lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(t)}function AF(t){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3V2"},child:[]},{tag:"path",attr:{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5"},child:[]},{tag:"path",attr:{d:"M2 14h12a2 2 0 0 1 0 4h-2"},child:[]},{tag:"path",attr:{d:"M4 10h16"},child:[]},{tag:"path",attr:{d:"M5 10a7 7 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M5 14v6a1 1 0 0 1-1 1H2"},child:[]}]})(t)}function xF(t){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}function PF(t){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"3",height:"9",x:"7",y:"7"},child:[]},{tag:"rect",attr:{width:"3",height:"5",x:"14",y:"7"},child:[]}]})(t)}function RF(t){return Lr({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Image_Off"},child:[{tag:"path",attr:{d:"M19.937,14.218l0,-8.654c0,-0.829 -0.672,-1.5 -1.5,-1.5l-10.628,-0c-0.276,-0 -0.5,-0.225 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l10.628,-0c1.38,-0 2.5,1.118 2.5,2.5l0,10.624c0,0.276 -0.224,0.5 -0.5,0.501c-0.276,-0 -0.5,-0.225 -0.5,-0.5l0,-0.556l-4.583,-4.584c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.162,0.162 2.37,2.37 3.876,3.876Zm-0.121,6.304c-0.395,0.262 -0.869,0.415 -1.379,0.415l-12.874,-0c-1.381,-0 -2.5,-1.119 -2.5,-2.5l0,-12.873c0,-0.51 0.153,-0.984 0.414,-1.38l-0.263,-0.263c-0.456,-0.456 0.251,-1.163 0.707,-0.707c0.088,0.088 0.176,0.176 0.263,0.263c0.245,0.245 16.095,16.094 16.339,16.338l0.263,0.263c0.455,0.456 -0.252,1.163 -0.707,0.707c-0.088,-0.087 -0.175,-0.175 -0.263,-0.263Zm-11.104,-11.103l-2.001,-2.001c-0.094,0.196 -0.146,0.415 -0.146,0.647c-0,0.829 0.672,1.5 1.5,1.5c0.232,-0 0.451,-0.052 0.647,-0.146Zm-2.733,-2.733l-1.77,-1.77c-0.093,0.196 -0.146,0.416 -0.146,0.648l0,10.717l1.926,-1.926c0.587,-0.586 1.536,-0.586 2.122,-0l0.555,0.554c0.195,0.196 0.511,0.196 0.706,0l2.415,-2.415l-2.343,-2.343c-0.395,0.262 -0.869,0.414 -1.379,0.414c-1.38,-0 -2.5,-1.119 -2.5,-2.5c-0,-0.509 0.152,-0.983 0.414,-1.379Zm-1.916,11.009l0,0.741c0,0.829 0.671,1.5 1.5,1.5l12.874,0c0.232,0 0.451,-0.052 0.647,-0.145c-0.165,-0.165 -3.264,-3.263 -6.59,-6.59l-2.414,2.415c-0.585,0.586 -1.537,0.586 -2.122,0l-0.554,-0.554c-0.195,-0.196 -0.512,-0.196 -0.708,0l-2.633,2.633Z"},child:[]}]}]})(t)}const kF="/new-mainlogo.svg",bF="/cat_profile.svg",NF=()=>{const t=xa(),e=dS(t),[n,r]=L.useState("dashboard"),[s,a]=L.useState(!1),[l,h]=L.useState([]),[d,p]=L.useState({name:"",price:0,quantity:0,image:null,_id:null,imageURL:"",category:""}),[g,_]=L.useState(!1),[E,S]=L.useState(!1),[x,N]=L.useState(null),[R,O]=L.useState(""),[U,F]=L.useState(""),[Q,Y]=L.useState(""),[Z,k]=L.useState(""),C=[{orderNumber:"22-5714-674",dateOrdered:"7/16/2024, 1:22:16 AM",status:"Completed",product:"Fried Chicken",quantity:"1x",totalPrice:"₱50.00"}],[P,V]=L.useState([{orderNumber:"19-4566-878",name:"James Bond",totalAmount:"₱100.00",products:"Fried Chicken, Burger, Rice",status:"Pending",paymentMode:"Cash"},{orderNumber:"20-3454-654",name:"Steve Harvey",totalAmount:"₱200.00",products:"Pasta, Salad",status:"Pending",paymentMode:"G-Cash"},{orderNumber:"21-7784-123",name:"Clark Kent",totalAmount:"₱150.00",products:"Fried Chicken, Fries, Soda",status:"Pending",paymentMode:"Cash"}]),j=(oe,Ve)=>{const Ye=[...P];Ye[oe].status=Ve,V(Ye)},z=()=>{console.log("Downloading report...")};if(L.useEffect(()=>{const oe=ym(zl,"menu"),Ve=DI(oe,Ye=>{const Rn=Ye.docs.map(on=>({...on.data(),_id:on.id}));h(Rn)},Ye=>{console.error("Error fetching menu items:",Ye),Le.error("Failed to fetch menu items.")});return()=>Ve()},[]),e)return T.jsx("div",{children:"Loading..."});const D=()=>{p({name:"",price:"",quantity:"",image:null,_id:null,imageURL:"",category:""}),_(!0)},qe=oe=>{p({name:oe.name,price:oe.price,quantity:oe.quantity,image:null,_id:oe._id,imageURL:oe.imageURL,category:oe.category}),_(!0)},tt=()=>{_(!1),p({name:"",image:"",price:0,quantity:0,category:""})},Ke=oe=>{r(oe)},we=()=>{a(!s)},re=oe=>{const{name:Ve,value:Ye}=oe.target;p(Rn=>({...Rn,[Ve]:Ye}))},ge=async oe=>{oe.preventDefault();try{let Ve=null,Ye=null;if(d.image){const an=new FormData;an.append("file",d.image),an.append("upload_preset","wildcats_express_menu"),an.append("cloud_name","dxbkzby8x");const Or=await fetch("https://api.cloudinary.com/v1_1/dxbkzby8x/image/upload",{method:"POST",body:an});if(!Or.ok)throw new Error("Cloudinary upload failed");const di=await Or.json();Ve=di.secure_url,Ye=di.public_id}const Rn=ym(zl,"menu"),on={name:d.name,price:parseFloat(d.price),quantity:Number(d.quantity),imageURL:Ve||d.imageURL,publicID:Ye||"",category:d.category};if(d._id){const an=vm(zl,"menu",d._id);await NV(an,on),Le.success("Menu item updated successfully.")}else await VV(Rn,on),Le.success("New menu item added successfully.");tt()}catch(Ve){console.error("Error uploading menu item: ",Ve),Le.error("Failed to add menu item.")}},ue=oe=>{N(oe),S(!0)},$=oe=>{const Ve=oe.target.files[0];if(Ve){if(Ve.size>5*1024*1024){Le.error("Image file is too large. Max size is 5MB.");return}p(Ye=>({...Ye,image:Ve}))}},X=async()=>{if(!x){console.error("No item selected for deletion.");return}try{const oe=vm(zl,"menu",x);await DV(oe),h(Ve=>Ve.filter(Ye=>Ye._id!==x)),N(null),Le.success("Menu item deleted successfully.",{autoClose:5e3})}catch(oe){console.error("Error deleting menu item:",oe),Le.error("Failed to delete menu item. Please try again.",{autoClose:5e3})}finally{S(!1)}},ye=()=>T.jsxs("div",{className:"add-menu-container",children:[T.jsx("button",{onClick:D,className:"add-menu-button",children:"Add New Menu"}),g&&T.jsx("div",{className:"modal-overlay-menu",children:T.jsxs("div",{className:"modal-menu",children:[T.jsx("h2",{children:d._id?"Edit Item":"Add New Item"}),T.jsxs("form",{onSubmit:ge,children:[T.jsx("input",{type:"text",name:"name",value:d.name,onChange:re,placeholder:"Item Name",required:!0}),T.jsx("input",{type:"number",name:"price",value:d.price,onChange:re,placeholder:"Price",min:"0",step:"0.01",required:!0}),T.jsx("input",{type:"number",name:"quantity",value:d.quantity,onChange:re,placeholder:"Quantity",min:"0",step:"1",required:!0}),T.jsx("input",{type:"text",name:"category",value:d.category,onChange:re,placeholder:"Category",required:!0}),!d._id&&T.jsxs("div",{className:"file-input-container",children:[T.jsx("label",{htmlFor:"image",children:"Choose Image:"}),T.jsx("input",{className:"input-image",type:"file",id:"image",name:"image",onChange:$,accept:"image/*"})]}),d.image&&T.jsxs("div",{className:"image-preview",children:[T.jsx("img",{src:URL.createObjectURL(d.image),alt:"Preview",className:"image-preview-img"}),T.jsx("p",{children:d.image.name})]}),T.jsxs("div",{className:"modal-actions-menu",children:[T.jsx("button",{type:"submit",children:"Save"}),T.jsx("button",{type:"button",onClick:tt,children:"Cancel"})]})]})]})})]}),Ne=()=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"menu-items",children:l.map(oe=>T.jsxs("div",{className:"menu-item",children:[T.jsx("div",{className:"menu-image-container",children:oe.imageURL?T.jsx("img",{src:oe.imageURL,alt:oe.name,className:"menu-image"}):T.jsx("div",{className:"menu-image-placeholder",children:T.jsx(RF,{className:"no-image-icon"})})}),T.jsxs("div",{className:"menu-details",children:[T.jsx("div",{className:"menu-name",children:oe.name}),T.jsxs("div",{className:"menu-price",children:["Php ",Number(oe.price).toFixed(2)]}),T.jsxs("div",{className:"menu-quantity",children:["Quantity: ",oe.quantity]})]}),T.jsxs("div",{className:"menu-actions",children:[T.jsx("button",{className:"action-link-edit",onClick:()=>qe(oe),children:"Edit"}),T.jsx("button",{className:"action-link-delete",onClick:()=>ue(oe._id),children:"Delete"}),E&&T.jsx("div",{className:"modal-overlay-delete",children:T.jsxs("div",{className:"modal-delete",children:[T.jsx("p",{children:"Are you sure you want to delete this menu item?"}),T.jsxs("div",{className:"modal-actions-delete",children:[T.jsx("button",{onClick:()=>X(),children:"Yes"}),T.jsx("button",{onClick:()=>{S(!1),N(null)},children:"No"})]})]})})]})]},oe._id))})}),ee=()=>T.jsxs("div",{className:"dashboard-container-admin",children:[T.jsxs("div",{className:"orders-wrapper",children:[T.jsxs("div",{className:"order-line-container",children:[T.jsx("h3",{children:"Order Line"}),T.jsx("br",{}),T.jsxs("div",{className:"order-cards",children:[T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"19-4566-878"}),T.jsx("div",{className:"order-id",children:"Order #1"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"James Bond"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"90%"}})}),T.jsx("span",{className:"progress-percentage",children:"90%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"20-3454-654"}),T.jsx("div",{className:"order-id",children:"Order #2"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Steve Harvey"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"50%"}})}),T.jsx("span",{className:"progress-percentage",children:"50%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"19-4566-878"}),T.jsx("div",{className:"order-id",children:"Order #3"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Clark Johnson"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"68%"}})}),T.jsx("span",{className:"progress-percentage",children:"68%"})]})]})]}),T.jsxs("div",{className:"order-card",children:[T.jsxs("div",{className:"order-card-header",children:[T.jsx("div",{className:"school-id",children:"22-4535-765"}),T.jsx("div",{className:"order-id",children:"Order #4"})]}),T.jsxs("div",{className:"order-details",children:[T.jsx("p",{children:"Steve Rogers"}),T.jsxs("div",{className:"order-status",children:[T.jsx("span",{children:T.jsx("p",{children:"In Progress"})}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress",style:{width:"30%"}})}),T.jsx("span",{className:"progress-percentage",children:"30%"})]})]})]})]})]}),T.jsxs("div",{className:"current-order-container",children:[T.jsx("h3",{children:"Current Order"}),T.jsx("br",{}),T.jsxs("div",{className:"current-order-card",children:[T.jsx("h4",{children:"Recipient: Dave Miller"}),T.jsx("p",{children:"School ID:"}),T.jsx("p",{children:"#123456789"}),T.jsx("br",{}),T.jsxs("div",{className:"current-order-card-bottom",children:[T.jsx("span",{children:"Order#: 4"}),T.jsx("span",{children:"Items: 8"})]})]})]})]}),T.jsxs("div",{className:"popular-picks-container",children:[T.jsx("h2",{children:"Popular Picks"}),T.jsx("br",{}),T.jsxs("div",{className:"popular-picks",children:[T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Fried Chicken"}),T.jsx("span",{className:"pick-price",children:"50.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Bulalo"}),T.jsx("span",{className:"pick-price",children:"100.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Longganisa"}),T.jsx("span",{className:"pick-price",children:"80.00"})]})}),T.jsx("div",{className:"pick",children:T.jsxs("div",{className:"pick-name-price",children:[T.jsx("span",{className:"pick-name",children:"Rice"}),T.jsx("span",{className:"pick-price",children:"10.00"})]})})]})]})]}),fe=()=>T.jsx("div",{className:"orders-modal",children:T.jsxs("table",{className:"orders-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order Number"}),T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Total Amount"}),T.jsx("th",{children:"Products"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Mode of Payment"})]})}),T.jsx("tbody",{children:P.map((oe,Ve)=>T.jsxs("tr",{children:[T.jsx("td",{children:oe.orderNumber}),T.jsx("td",{children:oe.name}),T.jsx("td",{children:oe.totalAmount}),T.jsx("td",{children:oe.products}),T.jsx("td",{children:T.jsxs("select",{value:oe.status,onChange:Ye=>j(Ve,Ye.target.value),children:[T.jsx("option",{value:"Pending",children:"Pending"}),T.jsx("option",{value:"Preparing",children:"Preparing"}),T.jsx("option",{value:"Ready to Pickup",children:"Ready to Pickup"}),T.jsx("option",{value:"Completed",children:"Completed"}),T.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),T.jsx("td",{children:oe.paymentMode})]},oe.orderNumber))})]})}),Te=()=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"search-container",children:T.jsx("input",{type:"text",placeholder:"Search by Order Number, Date, Status, or Product",value:R,onChange:oe=>O(oe.target.value)})}),T.jsxs("div",{className:"filters-section",children:[T.jsx("span",{className:"filters-label",children:"Filters"}),T.jsxs("select",{value:U,onChange:oe=>F(oe.target.value),children:[T.jsx("option",{value:"",children:"Day"}),Array.from({length:31},(oe,Ve)=>T.jsx("option",{value:Ve+1,children:Ve+1},Ve+1))]}),T.jsxs("select",{value:Q,onChange:oe=>Y(oe.target.value),children:[T.jsx("option",{value:"",children:"Month"}),T.jsx("option",{value:"1",children:"January"}),T.jsx("option",{value:"2",children:"February"}),T.jsx("option",{value:"3",children:"March"}),T.jsx("option",{value:"4",children:"April"}),T.jsx("option",{value:"5",children:"May"}),T.jsx("option",{value:"6",children:"June"}),T.jsx("option",{value:"7",children:"July"}),T.jsx("option",{value:"8",children:"August"}),T.jsx("option",{value:"9",children:"September"}),T.jsx("option",{value:"10",children:"October"}),T.jsx("option",{value:"11",children:"November"}),T.jsx("option",{value:"12",children:"December"})]}),T.jsxs("select",{value:Z,onChange:oe=>k(oe.target.value),children:[T.jsx("option",{value:"",children:"Year"}),T.jsx("option",{value:"2025",children:"2025"}),T.jsx("option",{value:"2026",children:"2026"}),T.jsx("option",{value:"2026",children:"2027"}),T.jsx("option",{value:"2028",children:"2028"}),T.jsx("option",{value:"2029",children:"2029"}),T.jsx("option",{value:"2030",children:"2030"}),T.jsx("option",{value:"2031",children:"2031"}),T.jsx("option",{value:"2032",children:"2032"}),T.jsx("option",{value:"2033",children:"2033"}),T.jsx("option",{value:"2034",children:"2034"}),T.jsx("option",{value:"2035",children:"2035"})]}),T.jsx("button",{className:"download-button",onClick:z,children:"Download Report"})]}),T.jsx("div",{className:"table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order Number"}),T.jsx("th",{children:"Date Ordered"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Product"}),T.jsx("th",{children:"Quantity"}),T.jsx("th",{children:"Total Price"})]})}),T.jsx("tbody",{children:C.map(oe=>T.jsxs("tr",{children:[T.jsx("td",{children:oe.orderNumber}),T.jsx("td",{children:oe.dateOrdered}),T.jsx("td",{children:T.jsx("span",{className:`status-badge ${oe.status.toLowerCase()}`,children:oe.status})}),T.jsx("td",{children:oe.product}),T.jsx("td",{children:oe.quantity}),T.jsx("td",{children:oe.totalPrice})]},oe.orderNumber))})]})})]}),De=()=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"settings-modal",children:T.jsxs("div",{className:"settings-content",children:[T.jsx("label",{children:"Email:"}),T.jsx("input",{type:"email",placeholder:"Enter new email"}),T.jsx("label",{children:"Password:"}),T.jsx("input",{type:"password",placeholder:"Enter new password"}),T.jsx("label",{children:"Confirm Password:"}),T.jsx("input",{type:"password",placeholder:"Confirm new password"}),T.jsx("button",{className:"save-btn",children:"Save Changes"})]})})});return T.jsxs(T.Fragment,{children:[T.jsxs(Re.div,{className:"admin-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[T.jsxs("div",{className:"header",children:[T.jsxs("div",{className:"logo-container",children:[T.jsx("img",{src:kF,alt:"Wildcats Express Logo",className:"logo"}),T.jsx("h1",{children:T.jsx(sd,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})})]}),T.jsxs("div",{className:"profile-section",onClick:we,children:[T.jsx("img",{src:bF,alt:"Admin",className:"profile-photo"}),T.jsx("span",{className:"profile-name",children:"Admin"}),T.jsx(hu,{mode:"sync",children:s&&T.jsxs(Re.div,{className:"dropdown-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[T.jsxs("div",{className:"dropdown-item",onClick:()=>Ke("adminReports"),children:[T.jsx(EF,{})," Admin Reports"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>Ke("analytics"),children:[T.jsx(TF,{})," Analytics"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>Ke("settings"),children:[T.jsx(IF,{})," Settings"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>t("/pos-page"),children:[T.jsx(CF,{})," Customer"]}),T.jsxs("div",{className:"dropdown-item",onClick:()=>MO(t),children:[T.jsx(SF,{})," Sign Out"]})]})})]})]}),T.jsx("div",{className:"sidebar",children:T.jsxs("nav",{children:[T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ke("dashboard"),className:n==="dashboard"?"active":"",children:T.jsx(PF,{className:"dashboard-icon"})}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ke("addMenu"),className:n==="addMenu"?"active":"",children:T.jsx(xF,{className:"addmenu-icon"})}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ke("orders"),className:n==="orders"?"active":"",children:T.jsx(AF,{className:"orders-icon"})})]})}),T.jsx("div",{className:"main-content-admin",children:T.jsx(hu,{mode:"wait",children:T.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[n==="dashboard"&&T.jsxs(Re.div,{className:"dashboard",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h3",{children:"Welcome, Admin!"}),T.jsx("br",{}),T.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),T.jsx("div",{children:ee()})]}),n==="addMenu"&&T.jsxs(Re.div,{className:"add-menu",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h3",{children:"Welcome, Admin!"}),T.jsx("br",{}),T.jsx("h2",{children:"Every customer counts. Let's serve them better today!"}),T.jsx("br",{}),T.jsx("div",{children:ye()}),T.jsx("br",{}),T.jsx("div",{children:Ne()})]}),n==="orders"&&T.jsxs(Re.div,{className:"orders",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Orders"}),T.jsx("br",{}),T.jsx("div",{children:fe()})]}),n==="adminReports"&&T.jsxs(Re.div,{className:"admin-reports",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Admin Reports"}),T.jsx("br",{}),T.jsx("div",{children:Te()})]}),n==="analytics"&&T.jsx(Re.div,{className:"analytics",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:T.jsx("h2",{children:"Analytics"})}),n==="settings"&&T.jsxs(Re.div,{className:"settings",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[T.jsx("h2",{children:"Settings"}),T.jsx("br",{}),T.jsx("div",{children:De()})]}),n==="pos-page"&&T.jsx(Re.div,{className:"pos-page",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:T.jsx("h2",{children:"Backend please redirect this to /pos-page"})})]},n)})})]}),T.jsx(uS,{position:"top-center",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})},DF=()=>{const t=xa(),e=dS(t),[n,r]=L.useState({}),[s,a]=L.useState([]),[l,h]=L.useState("All"),[d,p]=L.useState(""),[g,_]=L.useState("menu"),[E,S]=L.useState(""),[x,N]=L.useState(!1),[R,O]=L.useState(""),[U,F]=L.useState(""),[Q,Y]=L.useState(null),[Z,k]=L.useState(null),[C,P]=L.useState("");if(L.useEffect(()=>{const ee=ym(zl,"menu"),fe=DI(ee,Te=>{const De=Te.docs.map(oe=>({...oe.data(),_id:oe.id}));a(De)},Te=>{console.error("Error fetching menu items:",Te),Le.error("Failed to fetch menu items.")});return()=>fe()},[]),e)return T.jsx("div",{children:"Loading..."});const V=(ee,fe)=>{r(Te=>({...Te,[ee]:Math.max(1,(Te[ee]||1)+fe)}))},j=ee=>{r(fe=>({...fe,[ee._id]:fe[ee._id]||1}))};s.filter(ee=>(l==="All"||ee.category===l)&&ee.name.toLowerCase().includes(d.toLowerCase()));const z=ee=>{_(ee)},D=()=>{if(!E){alert("Please enter your School ID before proceeding to checkout.");return}if(!R){alert("Please select a payment method before proceeding to checkout.");return}if(R==="gcash"){if(!U||parseFloat(U)<ge){alert("Please enter a valid amount paid.");return}if(!Q){alert("Please upload a receipt image.");return}}const ee=`WCE-${Date.now()}`;k(ee),alert(`Order Successful! Your order number is: ${ee}`),console.log("Order Number:",ee),console.log("Checkout successful with payment method:",R),R==="gcash"&&(console.log("Amount Paid:",U),console.log("Receipt Image:",Q)),r({}),F(""),Y(null),qe()},qe=()=>{N(!0)},tt=()=>{N(!1)},Ke=ee=>{r(fe=>{const Te={...fe};return delete Te[ee],Te})},we=ee=>{O(ee.target.value)},re=ee=>{const fe=ee.target.files[0];Y(fe)},ge=Object.keys(n).reduce((ee,fe)=>{const Te=s.find(De=>De._id===fe);return ee+(Te?Te.price*n[fe]:0)},0),ue=ee=>{P(ee.target.value)},$=ee=>{S(ee.target.value)},X=()=>T.jsx(T.Fragment,{children:T.jsxs(Re.div,{className:"menu-container-pos",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[T.jsx(Re.div,{className:"search-bar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:T.jsx("input",{type:"text",placeholder:"Search for food...",value:d,onChange:ee=>p(ee.target.value)})}),T.jsx(Re.div,{className:"category-filter",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["All","Rice","Dishes","Coffee","Drinks","Snacks"].map(ee=>T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:l===ee?"active-category":"",onClick:()=>h(ee),children:ee},ee))}),T.jsx(Re.div,{className:"menu-grid",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:T.jsx(hu,{mode:"wait",children:s.filter(ee=>(l==="All"||ee.category===l)&&ee.name.toLowerCase().includes(d.toLowerCase())).map(ee=>T.jsxs(Re.div,{className:"menu-item-pos",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.05},transition:{duration:.2},children:[T.jsx("img",{src:ee.imageURL,alt:ee.name,className:"item-img"}),T.jsx("h3",{className:"item-name",children:ee.name}),T.jsxs("p",{className:"item-price",children:["Php ",ee.price]}),T.jsxs("div",{className:"quantity-selector",children:[T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>V(ee._id,-1),children:"-"}),T.jsx("span",{children:n[ee._id]||0}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>V(ee._id,1),children:"+"})]}),T.jsx(Re.button,{className:"add-to-cart",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>j(ee),children:"Add to Cart"})]},ee._id))})})]})}),ye=()=>T.jsxs("div",{className:"cart-container",children:[C&&T.jsxs("h3",{className:"client-name",children:["👤 ",C]}),T.jsx("h2",{className:"view-title",children:"🛒 Your Cart"}),T.jsxs("div",{className:"client-info-input",children:[T.jsx("label",{htmlFor:"client-name",children:"Full Name:"}),T.jsx("input",{type:"text",id:"client-name",placeholder:"Enter your Full Name",value:C,onChange:ue})]}),T.jsxs("div",{className:"school-id-input",children:[T.jsx("label",{htmlFor:"school-id",children:"School ID Number:"}),T.jsx("input",{type:"text",id:"school-id",placeholder:"Enter your School ID",value:E,onChange:$})]}),x&&T.jsxs("div",{className:"confirmation-modal",children:[T.jsx("h3",{children:"Order Confirmed"}),T.jsx("p",{children:"Thank you for your purchase!"}),T.jsx("button",{onClick:tt,children:"Close"})]}),Object.keys(n).length===0?T.jsxs("div",{className:"empty-state-cart",children:[T.jsx("p",{children:"Your cart is empty"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>z("menu"),className:"return-to-menu",children:"🍽 Return to Menu"})]}):T.jsxs("div",{className:"cart-items",children:[Object.keys(n).map(ee=>{const fe=s.find(Te=>Te._id===ee);return fe?T.jsxs(Re.div,{className:"cart-item",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[T.jsxs("div",{className:"cart-item-details",children:[T.jsx("h3",{children:fe.name}),T.jsxs("p",{children:["Php ",fe.price," × ",n[ee]," = Php ",(fe.price*n[ee]).toFixed(2)]})]}),T.jsxs("div",{className:"cart-item-actions",children:[T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>V(ee,-1),children:"-"}),T.jsx("span",{children:n[ee]}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>V(ee,1),children:"+"}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>Ke(ee),className:"trash-button",children:"🗑"})]})]},ee):null}),T.jsxs("div",{className:"cart-summary",children:[T.jsxs("div",{className:"cart-total",children:[T.jsx("strong",{children:"Total:"}),T.jsxs("span",{children:["Php ",Object.keys(n).reduce((ee,fe)=>{const Te=s.find(De=>De._id===fe);return ee+(Te?Te.price*n[fe]:0)},0).toFixed(2)]})]}),T.jsxs("div",{className:"payment-method",children:[T.jsx("h4",{children:"Select Payment Method:"}),T.jsxs("div",{className:"payment-options",children:[T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"payment",value:"cash",onChange:we})," Cash 💵"]}),T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"payment",value:"gcash",onChange:we})," GCash 📱"]})]}),R==="gcash"&&T.jsxs("div",{className:"gcash-fields",children:[T.jsx("label",{children:"Amount Paid:"}),T.jsx("input",{type:"number",placeholder:"Enter amount paid",value:U,onChange:ee=>F(ee.target.value)}),T.jsx("label",{children:"Upload Receipt:"}),T.jsx("input",{type:"file",accept:"image/*",onChange:re})]})]}),T.jsx(Re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"checkout-button",onClick:D,children:"✅ Proceed to Checkout"}),T.jsx(Re.button,{whileTap:{scale:.9},onClick:()=>Ke(itemId),className:"trash-button"})]})]})]}),Ne=()=>{const ee=[{id:"20-3950-969",date:"February 14, 2025",items:[{name:"Fried Chicken",quantity:1,price:30},{name:"Chicken Adobo",quantity:1,price:80}],total:110,status:"Pending"},{id:"20-3950-969",date:"February 27, 2025",items:[{name:"Chicken Adobo",quantity:1,price:80},{name:"Bulalo",quantity:1,price:100}],total:180,status:"Pending"},{id:"20-3950-969",date:"February 28, 2025",items:[{name:"Chicken Adobo",quantity:1,price:80}],total:80,status:"Pending"}];return T.jsxs("div",{className:"track-order",children:[T.jsx("h2",{className:"view-title",children:"Track Your Order"}),T.jsx("div",{className:"track-order-content",children:T.jsxs("form",{className:"order-tracking-form",children:[T.jsx("label",{htmlFor:"orderNumber",className:"order-label",children:"Enter your order number:"}),T.jsx("input",{type:"text",id:"orderNumber",placeholder:"e.g., xx-xxxx-xx",className:"order-number-input"}),T.jsx(Re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"track-button",children:"Track Order"})]})}),T.jsxs("div",{className:"recent-orders",children:[T.jsx("h2",{className:"orders-title-pos",children:"Recent Orders"}),T.jsxs("div",{className:"orders-table-container-pos",children:[" ",T.jsxs("table",{className:"orders-table-pos",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order ID"}),T.jsx("th",{children:"Date Ordered"}),T.jsx("th",{children:"Menus Ordered"}),T.jsx("th",{children:"Total Amount"}),T.jsx("th",{children:"Status"})]})}),T.jsx("tbody",{children:ee.map((fe,Te)=>T.jsxs("tr",{children:[T.jsx("td",{children:fe.id}),T.jsx("td",{children:fe.date}),T.jsx("td",{children:fe.items.map((De,oe)=>T.jsxs("div",{children:[De.name," (x",De.quantity,") - ₱",De.price]},oe))}),T.jsxs("td",{children:["₱",fe.total]}),T.jsx("td",{className:"status",children:fe.status})]},Te))})]})]})]})]})};return T.jsxs(Re.div,{className:"pos-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[T.jsx(Re.header,{className:"navbar-pos",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:T.jsxs("div",{className:"logo-container-pos",children:[T.jsx("img",{src:"/new-mainlogo.svg",className:"new-logo",alt:"Wildcats Express"}),T.jsxs("span",{className:"title",children:[T.jsx("h1",{children:T.jsx(sd,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Wildcats Express"})}),T.jsx("small",{children:"CIT-UNIVERSITY"})]})]})}),T.jsxs("div",{className:"main-content-container",children:[T.jsxs(Re.aside,{className:"sidebar-pos",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.3},children:[T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="menu"?"active-view-button":"",onClick:()=>z("menu"),children:"Menu"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="cart"?"active-view-button":"",onClick:()=>z("cart"),children:"Cart"}),T.jsx(Re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:g==="trackOrder"?"active-view-button":"",onClick:()=>z("trackOrder"),children:"Track Order"})]}),T.jsx("div",{className:"pos-page",children:T.jsxs(hu,{mode:"wait",children:["Menu Modal",g==="menu"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:X()})},"menu-view"),"Cart Modal",g==="cart"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:ye()})},"cart-view"),"TrackOrder Modal",g==="trackOrder"&&T.jsx(Re.div,{className:"view-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:T.jsx("div",{children:Ne()})},"track-order-view")]})})]})]})},VF=()=>{const{name:t,profilePhoto:e,userID:n,isAuth:r}=JSON.parse(localStorage.getItem("auth"))||{};return{name:t,profilePhoto:e,userID:n,isAuth:r}},LF="/assets/thinking-cat-Def_mMOd.svg";function OF(t){return Lr({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M7.987 8.5l6.146 6.146-0.707 0.707-6.853-6.853 6.854-6.854 0.707 0.707-6.147 6.147zM9.29 2.353l-0.707-0.707-6.854 6.854 6.854 6.854 0.707-0.707-6.146-6.147 6.146-6.147z"},child:[]}]})(t)}const MF=()=>{const t=xa(),e=jO(t),{isAuth:n}=VF(),[r,s]=L.useState(""),[a,l]=L.useState(""),[h,d]=L.useState(!1);if(e)return T.jsx("div",{children:"Loading..."});const p={exit:{scale:.95,opacity:0,rotate:[0,-5],y:-50,transition:{duration:.4,ease:"easeInOut"}}},g=async E=>{E.preventDefault(),Le.dismiss();try{await $g.login(r,a),d(!0),Le.success("Login successful!"),setTimeout(()=>{t("/admin-page")},5e3)}catch(S){console.error("Login failed: ",S.message),Le.error(`${S.message}`)}};if(n)return T.jsx(Hx,{to:"/admin-page"});const _=()=>{t("/")};return T.jsxs(T.Fragment,{children:[T.jsx(hu,{children:!h&&T.jsx(Re.div,{className:"login-page",initial:{opacity:1},animate:{opacity:1},exit:p.exit,variants:p,children:T.jsxs("div",{className:"login-container",children:[T.jsx(Re.div,{className:"back-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:T.jsx("button",{type:"button",className:"button",onClick:_,children:T.jsx(OF,{className:"button-icon"})})}),T.jsx(Re.div,{className:"mascot-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:T.jsx("img",{src:LF,alt:"Mascot",className:"mascot-image"})}),T.jsxs(Re.div,{className:"form-container",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[T.jsxs("div",{className:"wildcats-title",children:[T.jsx("h2",{className:"wildcats",children:"Wildcats "}),T.jsx("h2",{className:"express",children:"Express"})]}),T.jsx("h3",{children:"Admin"}),T.jsxs("form",{onSubmit:g,children:[T.jsx(Re.input,{type:"text",placeholder:"Username",value:r,required:!0,onChange:E=>s(E.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4}}),T.jsx(Re.input,{type:"password",placeholder:"Password",value:a,required:!0,onChange:E=>l(E.target.value),className:"input-field",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5}}),T.jsx(Re.button,{type:"submit",className:"login-button",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:"Login"})]})]})]})},"login-page")}),T.jsx(uS,{position:"top-left",autoClose:5500,hideProgressBar:!0,newestOnTop:!0,closeButton:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}})]})};function jF(){return T.jsx(T.Fragment,{children:T.jsx("div",{className:"App",children:T.jsx(gP,{children:T.jsxs(qx,{children:[T.jsx(Ll,{path:"/",element:T.jsx(UO,{})}),T.jsx(Ll,{path:"/login-page",element:T.jsx(MF,{})}),T.jsx(Ll,{path:"/admin-page",element:T.jsx(NF,{})}),T.jsx(Ll,{path:"/pos-page",element:T.jsx(DF,{})})]})})})})}tx.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(jF,{})}));
